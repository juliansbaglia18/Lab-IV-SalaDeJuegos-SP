"use strict";(self.webpackChunkGameRoomTP=self.webpackChunkGameRoomTP||[]).push([[179],{440:(ln,ht,w)=>{w.d(ht,{nm:()=>Qi});var c=w(5813);w(4650),w(5867);var tt=w(5861),Le=w(9681),xe=w(3475),Ne=w(2090),se=w(1877);const oe=new Map,Qe={activated:!1,tokenObservers:[]},ae={initialized:!1,enabled:!1};function ue(Ot){return oe.get(Ot)||Qe}function Ce(Ot,Tt){oe.set(Ot,Tt)}function Je(){return ae}class Et{constructor(Tt,Zt,hn,Rn,Nn){if(this.operation=Tt,this.retryPolicy=Zt,this.getWaitDuration=hn,this.lowerBound=Rn,this.upperBound=Nn,this.pending=null,this.nextErrorWaitInterval=Rn,Rn>Nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Tt){var Zt=this;return(0,tt.Z)(function*(){Zt.stop();try{Zt.pending=new Ne.BH,yield function pt(Ot){return new Promise(Tt=>{setTimeout(Tt,Ot)})}(Zt.getNextRun(Tt)),Zt.pending.resolve(),yield Zt.pending.promise,Zt.pending=new Ne.BH,yield Zt.operation(),Zt.pending.resolve(),yield Zt.pending.promise,Zt.process(!0).catch(()=>{})}catch(hn){Zt.retryPolicy(hn)?Zt.process(!1).catch(()=>{}):Zt.stop()}})()}getNextRun(Tt){if(Tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Zt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Zt}}}const Mt=new Ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ye(Ot){if(!ue(Ot).activated)throw Mt.create("use-before-activation",{appName:Ot.name})}function Dt(Ot,Tt){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,tt.Z)(function*({url:Ot,body:Tt},Zt){var hn,Rn;const Nn={"Content-Type":"application/json"},ri=Zt.getImmediate({optional:!0});if(ri){const Or=yield ri.getHeartbeatsHeader();Or&&(Nn["X-Firebase-Client"]=Or)}const Dr={method:"POST",body:JSON.stringify(Tt),headers:Nn};let Ni,Es;try{Ni=yield fetch(Ot,Dr)}catch(Or){throw Mt.create("fetch-network-error",{originalErrorMessage:null===(hn=Or)||void 0===hn?void 0:hn.message})}if(200!==Ni.status)throw Mt.create("fetch-status-error",{httpStatus:Ni.status});try{Es=yield Ni.json()}catch(Or){throw Mt.create("fetch-parse-error",{originalErrorMessage:null===(Rn=Or)||void 0===Rn?void 0:Rn.message})}const Zr=Es.ttl.match(/^([\d.]+)(s)$/);if(!Zr||!Zr[2]||isNaN(Number(Zr[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Es.ttl}`});const rs=1e3*Number(Zr[1]),Xo=Date.now();return{token:Es.token,expireTimeMillis:Xo+rs,issuedAtTimeMillis:Xo}})).apply(this,arguments)}function Pn(Ot,Tt){const{projectId:Zt,appId:hn,apiKey:Rn}=Ot.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Zt}/apps/${hn}:exchangeDebugToken?key=${Rn}`,body:{debug_token:Tt}}}const En="firebase-app-check-store";let ot=null;function ge(){return ot||(ot=new Promise((Ot,Tt)=>{var Zt;try{const hn=indexedDB.open("firebase-app-check-database",1);hn.onsuccess=Rn=>{Ot(Rn.target.result)},hn.onerror=Rn=>{var Nn;Tt(Mt.create("storage-open",{originalErrorMessage:null===(Nn=Rn.target.error)||void 0===Nn?void 0:Nn.message}))},hn.onupgradeneeded=Rn=>{0===Rn.oldVersion&&Rn.target.result.createObjectStore(En,{keyPath:"compositeKey"})}}catch(hn){Tt(Mt.create("storage-open",{originalErrorMessage:null===(Zt=hn)||void 0===Zt?void 0:Zt.message}))}}),ot)}function Pe(){return(Pe=(0,tt.Z)(function*(Ot,Tt){const hn=(yield ge()).transaction(En,"readwrite"),Nn=hn.objectStore(En).put({compositeKey:Ot,value:Tt});return new Promise((ri,Dr)=>{Nn.onsuccess=Ni=>{ri()},hn.onerror=Ni=>{var Es;Dr(Mt.create("storage-set",{originalErrorMessage:null===(Es=Ni.target.error)||void 0===Es?void 0:Es.message}))}})})).apply(this,arguments)}const Pt=new se.Yd("@firebase/app-check");function at(Ot,Tt){return(0,Ne.hl)()?function $(Ot,Tt){return function Ge(Ot,Tt){return Pe.apply(this,arguments)}(function St(Ot){return`${Ot.options.appId}-${Ot.name}`}(Ot),Tt)}(Ot,Tt).catch(Zt=>{Pt.warn(`Failed to write token to IndexedDB. Error: ${Zt}`)}):Promise.resolve()}function lt(){return Je().enabled}function gt(){return te.apply(this,arguments)}function te(){return(te=(0,tt.Z)(function*(){const Ot=Je();if(Ot.enabled&&Ot.token)return Ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ee={error:"UNKNOWN_ERROR"};function O(Ot){return Ne.US.encodeString(JSON.stringify(Ot),!1)}function K(Ot){return z.apply(this,arguments)}function z(){return(z=(0,tt.Z)(function*(Ot,Tt=!1){const Zt=Ot.app;Ye(Zt);const hn=ue(Zt);let Nn,Rn=hn.token;if(!Rn){const Ni=yield hn.cachedTokenPromise;Ni&&At(Ni)&&(Rn=Ni)}if(!Tt&&Rn&&At(Rn))return{token:Rn.token};let Dr,ri=!1;if(lt()){hn.exchangeTokenPromise||(hn.exchangeTokenPromise=Dt(Pn(Zt,yield gt()),Ot.heartbeatServiceProvider).then(Es=>(hn.exchangeTokenPromise=void 0,Es)),ri=!0);const Ni=yield hn.exchangeTokenPromise;return yield at(Zt,Ni),Ce(Zt,Object.assign(Object.assign({},hn),{token:Ni})),{token:Ni.token}}try{hn.exchangeTokenPromise||(hn.exchangeTokenPromise=hn.provider.getToken().then(Ni=>(hn.exchangeTokenPromise=void 0,Ni)),ri=!0),Rn=yield hn.exchangeTokenPromise}catch(Ni){"appCheck/throttled"===Ni.code?Pt.warn(Ni.message):Pt.error(Ni),Nn=Ni}return Rn?(Dr={token:Rn.token},Ce(Zt,Object.assign(Object.assign({},hn),{token:Rn})),yield at(Zt,Rn)):Dr=ut(Nn),ri&&mn(Zt,Dr),Dr})).apply(this,arguments)}function je(Ot,Tt){const Zt=ue(Ot),hn=Zt.tokenObservers.filter(Rn=>Rn.next!==Tt);0===hn.length&&Zt.tokenRefresher&&Zt.tokenRefresher.isRunning()&&Zt.tokenRefresher.stop(),Ce(Ot,Object.assign(Object.assign({},Zt),{tokenObservers:hn}))}function Ft(Ot){const{app:Tt}=Ot,Zt=ue(Tt);let hn=Zt.tokenRefresher;hn||(hn=function cn(Ot){const{app:Tt}=Ot;return new Et((0,tt.Z)(function*(){let hn;if(hn=ue(Tt).token?yield K(Ot,!0):yield K(Ot),hn.error)throw hn.error}),()=>!0,()=>{const Zt=ue(Tt);if(Zt.token){let hn=Zt.token.issuedAtTimeMillis+.5*(Zt.token.expireTimeMillis-Zt.token.issuedAtTimeMillis)+3e5;return hn=Math.min(hn,Zt.token.expireTimeMillis-3e5),Math.max(0,hn-Date.now())}return 0},3e4,96e4)}(Ot),Ce(Tt,Object.assign(Object.assign({},Zt),{tokenRefresher:hn}))),!hn.isRunning()&&Zt.isTokenAutoRefreshEnabled&&hn.start()}function mn(Ot,Tt){const Zt=ue(Ot).tokenObservers;for(const hn of Zt)try{"EXTERNAL"===hn.type&&null!=Tt.error?hn.error(Tt.error):hn.next(Tt)}catch{}}function At(Ot){return Ot.expireTimeMillis-Date.now()>0}function ut(Ot){return{token:O(ee),error:Ot}}class yt{constructor(Tt,Zt){this.app=Tt,this.heartbeatServiceProvider=Zt}_delete(){const{tokenObservers:Tt}=ue(this.app);for(const Zt of Tt)je(this.app,Zt.next);return Promise.resolve()}}const Ki="app-check-internal";!function Kr(){(0,Le._registerComponent)(new xe.wA("app-check",Ot=>function Yt(Ot,Tt){return new yt(Ot,Tt)}(Ot.getProvider("app").getImmediate(),Ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ot,Tt,Zt)=>{Ot.getProvider(Ki).initialize()})),(0,Le._registerComponent)(new xe.wA(Ki,Ot=>function wn(Ot){return{getToken:Tt=>K(Ot,Tt),addTokenListener:Tt=>function fe(Ot,Tt,Zt,hn){const{app:Rn}=Ot,Nn=ue(Rn),ri={next:Zt,error:hn,type:Tt};if(Ce(Rn,Object.assign(Object.assign({},Nn),{tokenObservers:[...Nn.tokenObservers,ri]})),Nn.token&&At(Nn.token)){const Dr=Nn.token;Promise.resolve().then(()=>{Zt({token:Dr.token}),Ft(Ot)}).catch(()=>{})}Nn.cachedTokenPromise.then(()=>Ft(Ot))}(Ot,"INTERNAL",Tt),removeTokenListener:Tt=>je(Ot.app,Tt)}}(Ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)("@firebase/app-check","0.5.12")}();class Qi{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},1205:(ln,ht,w)=>{w.d(ht,{zQ:()=>Ht,ww:()=>jt,rT:()=>ae,f7:()=>Ce,L6:()=>oe,_Q:()=>Qe,lh:()=>ue,Qv:()=>se,nw:()=>Je});var c=w(4650),y=w(7579),b=w(9646),F=w(9751),de=w(8996),Be=w(6451),Ke=w(5363),Re=w(3900),S=w(4004),ne=w(6063);class me extends y.x{constructor(on=1/0,Bt=1/0,Te=ne.l){super(),this._bufferSize=on,this._windowTime=Bt,this._timestampProvider=Te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Bt===1/0,this._bufferSize=Math.max(1,on),this._windowTime=Math.max(1,Bt)}next(on){const{isStopped:Bt,_buffer:Te,_infiniteTimeWindow:Et,_timestampProvider:pt,_windowTime:Lt}=this;Bt||(Te.push(on),!Et&&Te.push(pt.now()+Lt)),this._trimBuffer(),super.next(on)}_subscribe(on){this._throwIfClosed(),this._trimBuffer();const Bt=this._innerSubscribe(on),{_infiniteTimeWindow:Te,_buffer:Et}=this,pt=Et.slice();for(let Lt=0;Lt<pt.length&&!on.closed;Lt+=Te?1:2)on.next(pt[Lt]);return this._checkFinalizedStatuses(on),Bt}_trimBuffer(){const{_bufferSize:on,_timestampProvider:Bt,_buffer:Te,_infiniteTimeWindow:Et}=this,pt=(Et?1:2)*on;if(on<1/0&&pt<Te.length&&Te.splice(0,Te.length-pt),!Et){const Lt=Bt.now();let Mt=0;for(let zt=1;zt<Te.length&&Te[zt]<=Lt;zt+=2)Mt=zt;Mt&&Te.splice(0,Mt+1)}}}var he=w(3099);function He(sn,on,Bt){let Te,Et=!1;return sn&&"object"==typeof sn?({bufferSize:Te=1/0,windowTime:on=1/0,refCount:Et=!1,scheduler:Bt}=sn):Te=sn??1/0,(0,he.B)({connector:()=>new me(Te,on,Bt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Et})}var We=w(590),Me=w(576);function ze(sn,on){return(0,Me.m)(on)?(0,Re.w)(()=>sn,on):(0,Re.w)(()=>sn)}var Se=w(9468),Ee=w(9300),be=w(5813),dt=w(2011),tt=w(6895),Le=w(440),xe=w(127);const se=new c.OlP("angularfire2.auth.use-emulator"),oe=new c.OlP("angularfire2.auth.settings"),Qe=new c.OlP("angularfire2.auth.tenant-id"),ae=new c.OlP("angularfire2.auth.langugage-code"),ue=new c.OlP("angularfire2.auth.use-device-language"),Ce=new c.OlP("angularfire.auth.persistence"),Je=(sn,on,Bt,Te,Et,pt,Lt,Mt)=>(0,dt.cc)(`${sn.name}.auth`,"AngularFireAuth",sn.name,()=>{const zt=on.runOutsideAngular(()=>sn.auth());if(Bt&&zt.useEmulator(...Bt),Te&&(zt.tenantId=Te),zt.languageCode=Et,pt&&zt.useDeviceLanguage(),Lt)for(const[Ye,et]of Object.entries(Lt))zt.settings[Ye]=et;return Mt&&zt.setPersistence(Mt),zt},[Bt,Te,Et,pt,Lt,Mt]);let Ht=(()=>{class sn{constructor(Bt,Te,Et,pt,Lt,Mt,zt,Ye,et,rt,Dt,Nt){const dn=new y.x,Mn=(0,b.of)(void 0).pipe((0,Ke.Q)(Lt.outsideAngular),(0,Re.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,5881)))),(0,S.U)(()=>(0,dt.on)(Bt,pt,Te)),(0,S.U)(Pn=>Je(Pn,pt,Mt,Ye,et,rt,zt,Dt)),He({bufferSize:1,refCount:!1}));if((0,tt.PM)(Et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b.of)(null);else{Mn.pipe((0,We.P)()).subscribe();const Fn=Mn.pipe((0,Re.w)(Jt=>Jt.getRedirectResult().then(ot=>ot,()=>null)),be.iC,He({bufferSize:1,refCount:!1})),Bn=Mn.pipe((0,Re.w)(Jt=>new F.y(ot=>({unsubscribe:pt.runOutsideAngular(()=>Jt.onAuthStateChanged(ge=>ot.next(ge),ge=>ot.error(ge),()=>ot.complete()))})))),En=Mn.pipe((0,Re.w)(Jt=>new F.y(ot=>({unsubscribe:pt.runOutsideAngular(()=>Jt.onIdTokenChanged(ge=>ot.next(ge),ge=>ot.error(ge),()=>ot.complete()))}))));this.authState=Fn.pipe(ze(Bn),(0,Se.R)(Lt.outsideAngular),(0,Ke.Q)(Lt.insideAngular)),this.user=Fn.pipe(ze(En),(0,Se.R)(Lt.outsideAngular),(0,Ke.Q)(Lt.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(Jt=>Jt?(0,de.D)(Jt.getIdToken()):(0,b.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(Jt=>Jt?(0,de.D)(Jt.getIdTokenResult()):(0,b.of)(null))),this.credential=(0,Be.T)(Fn,dn,this.authState.pipe((0,Ee.h)(Jt=>!Jt))).pipe((0,S.U)(Jt=>Jt?.user?Jt:null),(0,Se.R)(Lt.outsideAngular),(0,Ke.Q)(Lt.insideAngular))}return(0,dt.pX)(this,Mn,pt,{spy:{apply:(Pn,Fn,Bn)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&Bn.then(En=>dn.next(En))}}})}}return sn.\u0275fac=function(Bt){return new(Bt||sn)(c.LFG(dt.Dh),c.LFG(dt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(be.HU),c.LFG(se,8),c.LFG(oe,8),c.LFG(Qe,8),c.LFG(ae,8),c.LFG(ue,8),c.LFG(Ce,8),c.LFG(Le.nm,8))},sn.\u0275prov=c.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"any"}),sn})(),jt=(()=>{class sn{constructor(){xe.Z.registerVersion("angularfire",be.q4.full,"auth-compat")}}return sn.\u0275fac=function(Bt){return new(Bt||sn)},sn.\u0275mod=c.oAB({type:sn}),sn.\u0275inj=c.cJS({providers:[Ht]}),sn})()},7407:(ln,ht,w)=>{w.d(ht,{ST:()=>iv,yb:()=>_y});var c=w(4650),y=w(4986),b=w(9751),F=w(8996),de=w(9646),Be=w(5813),Ke=w(8675),Re=w(4482),S=w(5403);function ne(){return(0,Re.e)((o,e)=>{let t,n=!1;o.subscribe((0,S.x)(e,i=>{const a=t;t=i,n&&e.next([a,i]),n=!0}))})}var oe,me=w(4004),he=w(5026),He=w(1884),We=w(9300),Me=w(2011),ze=w(6895),Ee=(w(5881),w(3942)),be=w(5861),dt=w(9681),tt=w(3475),Le=w(1877),xe=w(2090),Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se={},Qe=Qe||{},ae=Ne||self;function ue(){}function Ce(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Je(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),sn=0;function on(o,e,t){return o.call.apply(o.bind,arguments)}function Bt(o,e,t){if(!o)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),o.apply(e,i)}}return function(){return o.apply(e,arguments)}}function Te(o,e,t){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?on:Bt).apply(null,arguments)}function Et(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),o.apply(this,n)}}function pt(o,e){function t(){}t.prototype=e.prototype,o.X=e.prototype,o.prototype=new t,o.prototype.constructor=o,o.Vb=function(n,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(n,u)}}function Lt(){this.s=this.s,this.o=this.o}var zt={};Lt.prototype.s=!1,Lt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var o=function Ht(o){return Object.prototype.hasOwnProperty.call(o,jt)&&o[jt]||(o[jt]=++sn)}(this);delete zt[o]}},Lt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ye=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let t=0;t<o.length;t++)if(t in o&&o[t]===e)return t;return-1};function et(o){const e=o.length;if(0<e){const t=Array(e);for(let n=0;n<e;n++)t[n]=o[n];return t}return[]}function rt(o,e){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Ce(n)){const i=o.length||0,a=n.length||0;o.length=i+a;for(let u=0;u<a;u++)o[i+u]=n[u]}else o.push(n)}}function Dt(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{ae.addEventListener("test",ue,e),ae.removeEventListener("test",ue,e)}catch{}return o}();function dn(o){return/^[\s\xa0]*$/.test(o)}var Mn=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function Pn(o,e){return o<e?-1:o>e?1:0}function Fn(){var o=ae.navigator;return o&&(o=o.userAgent)?o:""}function Bn(o){return-1!=Fn().indexOf(o)}function En(o){return En[" "](o),o}En[" "]=ue;var Pe,o,ot=Bn("Opera"),ge=Bn("Trident")||Bn("MSIE"),P=Bn("Edge"),$=P||ge,De=Bn("Gecko")&&!(-1!=Fn().toLowerCase().indexOf("webkit")&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),mt=-1!=Fn().toLowerCase().indexOf("webkit")&&!Bn("Edge");function Ge(){var o=ae.document;return o?o.documentMode:void 0}e:{var Fe="",xt=(o=Fn(),De?/rv:([^\);]+)(\)|;)/.exec(o):P?/Edge\/([\d\.]+)/.exec(o):ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):mt?/WebKit\/(\S+)/.exec(o):ot?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(xt&&(Fe=xt?xt[1]:""),ge){var St=Ge();if(null!=St&&St>parseFloat(Fe)){Pe=String(St);break e}}Pe=Fe}var Pt={};var Vt=ae.document&&ge&&(Ge()||parseInt(Pe,10))||void 0;function ce(o,e){if(Dt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var t=this.type=o.type,n=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(De){e:{try{En(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=o.fromElement:"mouseout"==t&&(e=o.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:lt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ce.X.h.call(this)}}pt(ce,Dt);var lt={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.X.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),te=0;function J(o,e,t,n,i){this.listener=o,this.proxy=null,this.src=e,this.type=t,this.capture=!!n,this.ha=i,this.key=++te,this.ba=this.ea=!1}function ee(o){o.ba=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function O(o,e,t){for(const n in o)e.call(t,o[n],n,o)}function K(o){const e={};for(const t in o)e[t]=o[t];return e}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(o,e){let t,n;for(let i=1;i<arguments.length;i++){for(t in n=arguments[i],n)o[t]=n[t];for(let a=0;a<z.length;a++)t=z[a],Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t])}}function je(o){this.src=o,this.g={},this.h=0}function Ft(o,e){var t=e.type;if(t in o.g){var a,n=o.g[t],i=Ye(n,e);(a=0<=i)&&Array.prototype.splice.call(n,i,1),a&&(ee(e),0==o.g[t].length&&(delete o.g[t],o.h--))}}function cn(o,e,t,n){for(var i=0;i<o.length;++i){var a=o[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==n)return i}return-1}je.prototype.add=function(o,e,t,n,i){var a=o.toString();(o=this.g[a])||(o=this.g[a]=[],this.h++);var u=cn(o,e,n,i);return-1<u?(e=o[u],t||(e.ea=!1)):((e=new J(e,this.src,a,!!n,i)).ea=t,o.push(e)),e};var mn="closure_lm_"+(1e6*Math.random()|0),At={};function ut(o,e,t,n,i){if(n&&n.once)return wn(o,e,t,n,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ut(o,e[a],t,n,i);return null}return t=Gt(t),o&&o[gt]?o.N(e,t,Je(n)?!!n.capture:!!n,i):yt(o,e,t,!1,n,i)}function yt(o,e,t,n,i,a){if(!e)throw Error("Invalid event type");var u=Je(i)?!!i.capture:!!i,f=$e(o);if(f||(o[mn]=f=new je(o)),(t=f.add(e,t,n,u,a)).proxy)return t;if(n=function Yt(){const e=it;return function o(t){return e.call(o.src,o.listener,t)}}(),t.proxy=n,n.src=o,n.listener=t,o.addEventListener)Nt||(i=u),void 0===i&&(i=!1),o.addEventListener(e.toString(),n,i);else if(o.attachEvent)o.attachEvent(Xe(e.toString()),n);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(n)}return t}function wn(o,e,t,n,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)wn(o,e[a],t,n,i);return null}return t=Gt(t),o&&o[gt]?o.O(e,t,Je(n)?!!n.capture:!!n,i):yt(o,e,t,!0,n,i)}function $n(o,e,t,n,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)$n(o,e[a],t,n,i);else n=Je(n)?!!n.capture:!!n,t=Gt(t),o&&o[gt]?(o=o.i,(e=String(e).toString())in o.g&&-1<(t=cn(a=o.g[e],t,n,i))&&(ee(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete o.g[e],o.h--))):o&&(o=$e(o))&&(e=o.g[e.toString()],o=-1,e&&(o=cn(e,t,n,i)),(t=-1<o?e[o]:null)&&Gn(t))}function Gn(o){if("number"!=typeof o&&o&&!o.ba){var e=o.src;if(e&&e[gt])Ft(e.i,o);else{var t=o.type,n=o.proxy;e.removeEventListener?e.removeEventListener(t,n,o.capture):e.detachEvent?e.detachEvent(Xe(t),n):e.addListener&&e.removeListener&&e.removeListener(n),(t=$e(e))?(Ft(t,o),0==t.h&&(t.src=null,e[mn]=null)):ee(o)}}}function Xe(o){return o in At?At[o]:At[o]="on"+o}function it(o,e){if(o.ba)o=!0;else{e=new ce(e,this);var t=o.listener,n=o.ha||o.src;o.ea&&Gn(o),o=t.call(n,e)}return o}function $e(o){return(o=o[mn])instanceof je?o:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(o){return"function"==typeof o?o:(o[It]||(o[It]=function(e){return o.handleEvent(e)}),o[It])}function xn(){Lt.call(this),this.i=new je(this),this.P=this,this.I=null}function Vn(o,e){var t,n=o.I;if(n)for(t=[];n;n=n.I)t.push(n);if(o=o.P,n=e.type||e,"string"==typeof e)e=new Dt(e,o);else if(e instanceof Dt)e.target=e.target||o;else{var i=e;fe(e=new Dt(n,o),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=ii(u,n,!0,e)&&i}if(i=ii(u=e.g=o,n,!0,e)&&i,i=ii(u,n,!1,e)&&i,t)for(a=0;a<t.length;a++)i=ii(u=e.g=t[a],n,!1,e)&&i}function ii(o,e,t,n){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&Ft(o.i,u),i=!1!==f.call(_,n)&&i}}return i&&!n.defaultPrevented}pt(xn,Lt),xn.prototype[gt]=!0,xn.prototype.removeEventListener=function(o,e,t,n){$n(this,o,e,t,n)},xn.prototype.M=function(){if(xn.X.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var t=o.g[e],n=0;n<t.length;n++)ee(t[n]);delete o.g[e],o.h--}}this.I=null},xn.prototype.N=function(o,e,t,n){return this.i.add(String(o),e,!1,t,n)},xn.prototype.O=function(o,e,t,n){return this.i.add(String(o),e,!0,t,n)};var Ii=ae.JSON.stringify;function wr(){var o=Qn;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Ct,wt=new class{constructor(o,e){this.i=o,this.j=e,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function we(o){ae.setTimeout(()=>{throw o},0)}function Ve(o,e){Ct||function un(){var o=ae.Promise.resolve(void 0);Ct=function(){o.then(mi)}}(),vn||(Ct(),vn=!0),Qn.add(o,e)}var vn=!1,Qn=new class pe{constructor(){this.h=this.g=null}add(e,t){const n=wt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function mi(){for(var o;o=wr();){try{o.h.call(o.g)}catch(t){we(t)}var e=wt;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}vn=!1}function Ci(o,e){xn.call(this),this.h=o||1,this.g=e||ae,this.j=Te(this.kb,this),this.l=Date.now()}function ei(o){o.ca=!1,o.R&&(o.g.clearTimeout(o.R),o.R=null)}function qi(o,e,t){if("function"==typeof o)t&&(o=Te(o,t));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Te(o.handleEvent,o)}return 2147483647<Number(e)?-1:ae.setTimeout(o,e||0)}function Ki(o){o.g=qi(()=>{o.g=null,o.i&&(o.i=!1,Ki(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}pt(Ci,xn),(oe=Ci.prototype).ca=!1,oe.R=null,oe.kb=function(){if(this.ca){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-o):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vn(this,"tick"),this.ca&&(ei(this),this.start()))}},oe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Ci.X.M.call(this),ei(this),delete this.g};class Kr extends Lt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ki(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(o){Lt.call(this),this.h=o,this.g={}}pt(dr,Lt);var Li=[];function Qi(o,e,t,n){Array.isArray(t)||(t&&(Li[0]=t.toString()),t=Li);for(var i=0;i<t.length;i++){var a=ut(e,t[i],n||o.handleEvent,!1,o.h||o);if(!a)break;o.g[a.key]=a}}function ps(o){O(o.g,function(e,t){this.g.hasOwnProperty(t)&&Gn(e)},o),o.g={}}function wi(){this.g=!0}function kr(o,e,t,n){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ha(o,e){if(!o.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(o=0;o<t.length;o++)if(Array.isArray(t[o])){var n=t[o];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return Ii(t)}catch{return e}}(o,t)+(n?" "+n:"")})}dr.prototype.M=function(){dr.X.M.call(this),ps(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wi.prototype.Aa=function(){this.g=!1},wi.prototype.info=function(){};var Ts={},ns=null;function Bo(){return ns=ns||new xn}function nl(o){Dt.call(this,Ts.Oa,o)}function ms(o){const e=Bo();Vn(e,new nl(e,o))}function rn(o,e){Dt.call(this,Ts.STAT_EVENT,o),this.stat=e}function Cr(o){const e=Bo();Vn(e,new rn(e,o))}function is(o,e){Dt.call(this,Ts.Pa,o),this.size=e}function Ot(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){o()},e)}Ts.Oa="serverreachability",pt(nl,Dt),Ts.STAT_EVENT="statevent",pt(rn,Dt),Ts.Pa="timingevent",pt(is,Dt);var Tt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Zt={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hn(){}function Nn(){}hn.prototype.h=null;var Es,ri={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Dr(){Dt.call(this,"d")}function Ni(){Dt.call(this,"c")}function Zr(){}function rs(o,e,t,n){this.l=o,this.j=e,this.m=t,this.U=n||1,this.S=new dr(this),this.O=Or,this.T=new Ci(o=$?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}pt(Dr,Dt),pt(Ni,Dt),pt(Zr,hn),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},Es=new Zr;var Or=45e3,zs={},So={};function Ws(o,e,t){o.K=1,o.v=Gr(Zs(e)),o.s=t,o.P=!0,Vr(o,null)}function Vr(o,e){o.F=Date.now(),io(o),o.A=Zs(o.v);var t=o.A,n=o.U;Array.isArray(n)||(n=[String(n)]),pa(t.i,"t",n),o.C=0,t=o.l.H,o.h=new Xo,o.g=Co(o.l,t?e:null,!o.s),0<o.N&&(o.L=new Kr(Te(o.Ka,o,o.g),o.N)),Qi(o.S,o.g,"readystatechange",o.hb),e=o.H?K(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.da(o.A,o.u,o.s,e)):(o.u="GET",o.g.da(o.A,o.u,null,e)),ms(1),function Ir(o,e,t,n,i,a){o.info(function(){if(o.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var C=f[_].split("=");if(1<C.length){var T=C[0];C=C[1];var re=T.split("_");u=2<=re.length&&"type"==re[1]?u+(T+"=")+C+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(o.j,o.u,o.A,o.m,o.U,o.s)}function Ls(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Da}function bo(o,e,t){let i,n=!0;for(;!o.I&&o.C<t.length;){if(i=wo(o,t),i==So){4==e&&(o.o=4,Cr(14),n=!1),kr(o.j,o.m,null,"[Incomplete Response]");break}if(i==zs){o.o=4,Cr(15),kr(o.j,o.m,t,"[Invalid Chunk]"),n=!1;break}kr(o.j,o.m,i,null),jr(o,i)}Ls(o)&&i!=So&&i!=zs&&(o.h.g="",o.C=0),4!=e||0!=t.length||o.h.h||(o.o=1,Cr(16),n=!1),o.i=o.i&&n,n?0<t.length&&!o.$&&(o.$=!0,(e=o.l).g==o&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),_i(e),e.K=!0,Cr(11))):(kr(o.j,o.m,t,"[Invalid Chunked Response]"),ro(o),gs(o))}function wo(o,e){var t=o.C,n=e.indexOf("\n",t);return-1==n?So:(t=Number(e.substring(t,n)),isNaN(t)?zs:(n+=1)+t>e.length?So:(e=e.substr(n,t),o.C=n+t,e))}function io(o){o.V=Date.now()+o.O,Ys(o,o.O)}function Ys(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=Ot(Te(o.fb,o),e)}function Ao(o){o.B&&(ae.clearTimeout(o.B),o.B=null)}function gs(o){0==o.l.G||o.I||ar(o.l,o)}function ro(o){Ao(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,ei(o.T),ps(o.S),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function jr(o,e){try{var t=o.l;if(0!=t.G&&(t.g==o||hi(t.h,o)))if(!o.J&&hi(t.h,o)&&3==t.G){try{var n=t.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<o.F))break e;mr(t),le(t)}Bi(t),Cr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ot(Te(t.bb,t),6e3));if(1>=fn(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Vs(t,11)}else if((o.J||t.g==o)&&mr(t),!dn(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const T=C[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const re=C[4];null!=re&&(t.Ca=re,t.j.info("SVER="+t.Ca));const ve=C[5];null!=ve&&"number"==typeof ve&&0<ve&&(t.J=n=1.5*ve,t.j.info("backChannelRequestTimeoutMs_="+n)),n=t;const qe=o.g;if(qe){const vt=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var a=n.h;a.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ma(a,a.h),a.h=null))}if(n.D){const kt=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;kt&&(n.za=kt,Si(n.F,n.D,kt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-o.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=o;if((n=t).sa=Js(n,n.H?n.ka:null,n.V),u.J){Jo(n.h,u);var f=u,_=n.J;_&&f.setTimeout(_),f.B&&(Ao(f),io(f)),n.g=u}else zi(n);0<t.i.length&&Ae(t)}else"stop"!=C[0]&&"close"!=C[0]||Vs(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Vs(t,7):N(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}ms(4)}catch{}}function Rs(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(Ce(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var t=function qr(o){if(o.oa&&"function"==typeof o.oa)return o.oa();if(!o.W||"function"!=typeof o.W){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(Ce(o)||"string"==typeof o){var e=[];o=o.length;for(var t=0;t<o;t++)e.push(t);return e}e=[],t=0;for(const n in o)e[t++]=n;return e}}}(o),n=function so(o){if(o.W&&"function"==typeof o.W)return o.W();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(Ce(o)){for(var e=[],t=o.length,n=0;n<t;n++)e.push(o[n]);return e}for(n in e=[],t=0,o)e[t++]=o[n];return e}(o),i=n.length,a=0;a<i;a++)e.call(void 0,n[a],t&&t[a],o)}(oe=rs.prototype).setTimeout=function(o){this.O=o},oe.hb=function(o){o=o.target;const e=this.L;e&&3==as(o)?e.l():this.Ka(o)},oe.Ka=function(o){try{if(o==this.g)e:{const T=as(this.g);var e=this.g.Ea();const re=this.g.aa();if(!(3>T)&&(3!=T||$||this.g&&(this.h.h||this.g.fa()||Sl(this.g)))){this.I||4!=T||7==e||ms(8==e||0>=re?3:2),Ao(this);var t=this.g.aa();this.Y=t;t:if(Ls(this)){var n=Sl(this.g);o="";var i=n.length,a=4==as(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),gs(this);var u="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,o+=this.h.i.decode(n[e],{stream:a&&e==i-1});n.splice(0,i),this.h.g+=o,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function or(o,e,t,n,i,a,u){o.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dn(f)){var C=f;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Cr(12),ro(this),gs(this);break e}kr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jr(this,t)}this.P?(bo(this,T,u),$&&this.i&&3==T&&(Qi(this.S,this.T,"tick",this.gb),this.T.start())):(kr(this.j,this.m,u,null),jr(this,u)),4==T&&ro(this),this.i&&!this.I&&(4==T?ar(this.l,this):(this.i=!1,io(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),ro(this),gs(this)}}}catch{}},oe.gb=function(){if(this.g){var o=as(this.g),e=this.g.fa();this.C<e.length&&(Ao(this),bo(this,o,e),this.i&&4!=o&&io(this))}},oe.cancel=function(){this.I=!0,ro(this)},oe.fb=function(){this.B=null;const o=Date.now();0<=o-this.V?(function Ds(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ms(3),Cr(17)),ro(this),this.o=2,gs(this)):Ys(this,this.V-o)};var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(o,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof Ks){this.h=void 0!==e?e:o.h,Xi(this,o.j),this.s=o.s,this.g=o.g,Vo(this,o.m),this.l=o.l,e=o.i;var t=new _s;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ea(this,t),this.o=o.o}else o&&(t=String(o).match(Qr))?(this.h=!!e,Xi(this,t[1]||"",!0),this.s=ao(t[2]||""),this.g=ao(t[3]||"",!0),Vo(this,t[4]),this.l=ao(t[5]||"",!0),Ea(this,t[6]||"",!0),this.o=ao(t[7]||"")):(this.h=!!e,this.i=new _s(null,this.h))}function Zs(o){return new Ks(o)}function Xi(o,e,t){o.j=t?ao(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function Vo(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function Ea(o,e,t){e instanceof _s?(o.i=e,function il(o,e){e&&!o.j&&($i(o),o.i=null,o.g.forEach(function(t,n){var i=n.toLowerCase();n!=i&&(di(this,n),pa(this,i,t))},o)),o.j=e}(o.i,o.h)):(t||(e=xs(e,ss)),o.i=new _s(e,o.h))}function Si(o,e,t){o.i.set(e,t)}function Gr(o){return Si(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ao(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xs(o,e,t){return"string"==typeof o?(o=encodeURI(o).replace(e,qs),t&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function qs(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Ks.prototype.toString=function(){var o=[],e=this.j;e&&o.push(xs(e,Ai,!0),":");var t=this.g;return(t||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(xs(e,Ai,!0),"@"),o.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&o.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&o.push("/"),o.push(xs(t,"/"==t.charAt(0)?Ns:fa,!0))),(t=this.i.toString())&&o.push("?",t),(t=this.o)&&o.push("#",xs(t,os)),o.join("")};var Ai=/[#\/\?@]/g,fa=/[#\?:]/g,Ns=/[#\?]/g,ss=/[#\?@]/g,os=/#/g;function _s(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function $i(o){o.g||(o.g=new Map,o.h=0,o.i&&function oo(o,e){if(o){o=o.split("&");for(var t=0;t<o.length;t++){var n=o[t].indexOf("="),i=null;if(0<=n){var a=o[t].substring(0,n);i=o[t].substring(n+1)}else a=o[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(o.i,function(e,t){o.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function di(o,e){$i(o),e=Qs(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function lo(o,e){return $i(o),e=Qs(o,e),o.g.has(e)}function pa(o,e,t){di(o,e),0<t.length&&(o.i=null,o.g.set(Qs(o,e),et(t)),o.h+=t.length)}function Qs(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function Ms(o){this.l=o||xa,o=ae.PerformanceNavigationTiming?0<(o=ae.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(ae.g&&ae.g.Ga&&ae.g.Ga()&&ae.g.Ga().Zb),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=_s.prototype).add=function(o,e){$i(this),this.i=null,o=Qs(this,o);var t=this.g.get(o);return t||this.g.set(o,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(o,e){$i(this),this.g.forEach(function(t,n){t.forEach(function(i){o.call(e,i,n,this)},this)},this)},oe.oa=function(){$i(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let n=0;n<e.length;n++){const i=o[n];for(let a=0;a<i.length;a++)t.push(e[n])}return t},oe.W=function(o){$i(this);let e=[];if("string"==typeof o)lo(this,o)&&(e=e.concat(this.g.get(Qs(this,o))));else{o=Array.from(this.g.values());for(let t=0;t<o.length;t++)e=e.concat(o[t])}return e},oe.set=function(o,e){return $i(this),this.i=null,lo(this,o=Qs(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},oe.get=function(o,e){return o&&0<(o=this.W(o)).length?String(o[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var n=e[t];const a=encodeURIComponent(String(n)),u=this.W(n);for(n=0;n<u.length;n++){var i=a;""!==u[n]&&(i+="="+encodeURIComponent(String(u[n]))),o.push(i)}}return this.i=o.join("&")};var xa=10;function Xr(o){return!!o.h||!!o.g&&o.g.size>=o.j}function fn(o){return o.h?1:o.g?o.g.size:0}function hi(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Ma(o,e){o.g?o.g.add(e):o.h=e}function Jo(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Ur(o){if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const t of o.g.values())e=e.concat(t.D);return e}return et(o.i)}function X(){}function Y(){this.g=new X}function V(o,e,t){const n=t||"";try{Rs(o,function(i,a){let u=i;Je(i)&&(u=Ii(i)),e.push(n+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function Xt(o,e,t,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function Yn(o){this.l=o.$b||null,this.j=o.ib||!1}function Ji(o,e){xn.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=Is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ms.prototype.cancel=function(){if(this.i=Ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},X.prototype.stringify=function(o){return ae.JSON.stringify(o,void 0)},X.prototype.parse=function(o){return ae.JSON.parse(o,void 0)},pt(Yn,hn),Yn.prototype.g=function(){return new Ji(this.l,this.j)},Yn.prototype.i=function(o){return function(){return o}}({}),pt(Ji,xn);var Is=0;function hr(o){o.j.read().then(o.Sa.bind(o)).catch(o.ga.bind(o))}function Zi(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Bs(o)}function Bs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(oe=Ji.prototype).open=function(o,e){if(this.readyState!=Is)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,Bs(this)},oe.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||ae).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zi(this)),this.readyState=Is},oe.Va=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hr(this)}else o.text().then(this.Ua.bind(this),this.ga.bind(this))},oe.Sa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?Zi(this):Bs(this),3==this.readyState&&hr(this)}},oe.Ua=function(o){this.g&&(this.response=this.responseText=o,Zi(this))},oe.Ta=function(o){this.g&&(this.response=o,Zi(this))},oe.ga=function(){this.g&&Zi(this)},oe.setRequestHeader=function(o,e){this.v.append(o,e)},oe.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var t=e.next();!t.done;)o.push((t=t.value)[0]+": "+t[1]),t=e.next();return o.join("\r\n")},Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var ma=ae.JSON.parse;function pr(o){xn.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=To,this.K=this.L=!1}pt(pr,xn);var To="",xl=/^https?$/i,ga=["POST","PUT"];function Il(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Uo(o),Ro(o)}function Uo(o){o.D||(o.D=!0,Vn(o,"complete"),Vn(o,"error"))}function Ia(o){if(o.h&&typeof Qe<"u"&&(!o.C[1]||4!=as(o)||2!=o.aa()))if(o.v&&4==as(o))qi(o.Ha,0,o);else if(Vn(o,"readystatechange"),4==as(o)){o.h=!1;try{const f=o.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var n;if(n=0===f){var i=String(o.H).match(Qr)[1]||null;if(!i&&ae.self&&ae.self.location){var a=ae.self.location.protocol;i=a.substr(0,a.length-1)}n=!xl.test(i?i.toLowerCase():"")}t=n}if(t)Vn(o,"complete"),Vn(o,"success");else{o.m=6;try{var u=2<as(o)?o.g.statusText:""}catch{u=""}o.j=u+" ["+o.aa()+"]",Uo(o)}}finally{Ro(o)}}}function Ro(o,e){if(o.g){Sa(o);const t=o.g,n=o.C[0]?ue:null;o.g=null,o.C=null,e||Vn(o,"ready");try{t.onreadystatechange=n}catch{}}}function Sa(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(ae.clearTimeout(o.A),o.A=null)}function as(o){return o.g?o.g.readyState:0}function Sl(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case To:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(o){let e="";return O(o,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function rl(o,e,t){e:{for(n in t){var n=!1;break e}n=!0}n||(t=ea(t),"string"==typeof o?null!=t&&encodeURIComponent(String(t)):Si(o,e,t))}function co(o,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[o]||e}function Aa(o){this.Ca=0,this.i=[],this.j=new wi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=co("failFast",!1,o),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=co("baseRetryDelayMs",5e3,o),this.ab=co("retryDelaySeedMs",1e4,o),this.Za=co("forwardChannelMaxRetries",2,o),this.ta=co("forwardChannelRequestTimeoutMs",2e4,o),this.ra=o&&o.xmlHttpFactory||void 0,this.Da=o&&o.Yb||!1,this.J=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.I="",this.h=new Ms(o&&o.concurrentRequestLimit),this.Fa=new Y,this.O=o&&o.fastHandshake||!1,this.N=o&&o.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=o&&o.Wb||!1,o&&o.Aa&&this.j.Aa(),o&&o.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&o&&o.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function N(o){if(G(o),3==o.G){var e=o.U++,t=Zs(o.F);Si(t,"SID",o.I),Si(t,"RID",e),Si(t,"TYPE","terminate"),an(o,t),(e=new rs(o,o.j,e,void 0)).K=2,e.v=Gr(Zs(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Co(e.l,null),e.g.da(e.v)),e.F=Date.now(),io(e)}uo(o)}function le(o){o.g&&(_i(o),o.g.cancel(),o.g=null)}function G(o){le(o),o.u&&(ae.clearTimeout(o.u),o.u=null),mr(o),o.h.cancel(),o.m&&("number"==typeof o.m&&ae.clearTimeout(o.m),o.m=null)}function Ae(o){Xr(o.h)||o.m||(o.m=!0,Ve(o.Ja,o),o.C=0)}function Qt(o,e){var t;t=e?e.m:o.U++;const n=Zs(o.F);Si(n,"SID",o.I),Si(n,"RID",t),Si(n,"AID",o.T),an(o,n),o.o&&o.s&&rl(n,o.o,o.s),t=new rs(o,o.j,t,o.C+1),null===o.o&&(t.H=o.s),e&&(o.i=e.D.concat(o.i)),e=Kn(o,t,1e3),t.setTimeout(Math.round(.5*o.ta)+Math.round(.5*o.ta*Math.random())),Ma(o.h,t),Ws(t,n,e)}function an(o,e){o.ia&&O(o.ia,function(t,n){Si(e,n,t)}),o.l&&Rs({},function(t,n){Si(e,n,t)})}function Kn(o,e,t){t=Math.min(o.i.length,t);var n=o.l?Te(o.l.Qa,o.l,o):null;e:{var i=o.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let C=i[_].h;const T=i[_].g;if(C-=a,0>C)a=Math.max(0,i[_].h-100),f=!1;else try{V(T,u,"req"+C+"_")}catch{n&&n(T)}}if(f){n=u.join("&");break e}}}return o=o.i.splice(0,t),e.D=o,n}function zi(o){o.g||o.u||(o.Z=1,Ve(o.Ia,o),o.A=0)}function Bi(o){return!(o.g||o.u||3<=o.A||(o.Z++,o.u=Ot(Te(o.Ia,o),Pr(o,o.A)),o.A++,0))}function _i(o){null!=o.B&&(ae.clearTimeout(o.B),o.B=null)}function Vi(o){o.g=new rs(o,o.j,"rpc",o.Z),null===o.o&&(o.g.H=o.s),o.g.N=0;var e=Zs(o.sa);Si(e,"RID","rpc"),Si(e,"SID",o.I),Si(e,"CI",o.L?"0":"1"),Si(e,"AID",o.T),Si(e,"TYPE","xmlhttp"),an(o,e),o.o&&o.s&&rl(e,o.o,o.s),o.J&&o.g.setTimeout(o.J);var t=o.g;o=o.ka,t.K=1,t.v=Gr(Zs(e)),t.s=null,t.P=!0,Vr(t,o)}function mr(o){null!=o.v&&(ae.clearTimeout(o.v),o.v=null)}function ar(o,e){var t=null;if(o.g==e){mr(o),_i(o),o.g=null;var n=2}else{if(!hi(o.h,e))return;t=e.D,Jo(o.h,e),n=1}if(0!=o.G)if(o.pa=e.Y,e.i)if(1==n){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=o.C;Vn(n=Bo(),new is(n,t,e,i)),Ae(o)}else zi(o);else if(3==(i=e.o)||0==i&&0<o.pa||!(1==n&&function bt(o,e){return!(fn(o.h)>=o.h.j-(o.m?1:0)||(o.m?(o.i=e.D.concat(o.i),0):1==o.G||2==o.G||o.C>=(o.Ya?0:o.Za)||(o.m=Ot(Te(o.Ja,o,e),Pr(o,o.C)),o.C++,0)))}(o,e)||2==n&&Bi(o)))switch(t&&0<t.length&&(e=o.h,e.i=e.i.concat(t)),i){case 1:Vs(o,5);break;case 4:Vs(o,10);break;case 3:Vs(o,6);break;default:Vs(o,2)}}function Pr(o,e){let t=o.Wa+Math.floor(Math.random()*o.ab);return o.l||(t*=2),t*e}function Vs(o,e){if(o.j.info("Error code "+e),2==e){var t=null;o.l&&(t=null);var n=Te(o.jb,o);t||(t=new Ks("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Xi(t,"https"),Gr(t)),function ke(o,e){const t=new wi;if(ae.Image){const n=new Image;n.onload=Et(Xt,t,n,"TestLoadImage: loaded",!0,e),n.onerror=Et(Xt,t,n,"TestLoadImage: error",!1,e),n.onabort=Et(Xt,t,n,"TestLoadImage: abort",!1,e),n.ontimeout=Et(Xt,t,n,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=o}else e(!1)}(t.toString(),n)}else Cr(2);o.G=0,o.l&&o.l.va(e),uo(o),G(o)}function uo(o){if(o.G=0,o.la=[],o.l){const e=Ur(o.h);(0!=e.length||0!=o.i.length)&&(rt(o.la,e),rt(o.la,o.i),o.h.i.length=0,et(o.i),o.i.length=0),o.l.ua()}}function Js(o,e,t){var n=t instanceof Ks?Zs(t):new Ks(t,void 0);if(""!=n.g)e&&(n.g=e+"."+n.g),Vo(n,n.m);else{var i=ae.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Ks(null,void 0);n&&Xi(a,n),e&&(a.g=e),i&&Vo(a,i),t&&(a.l=t),n=a}return e=o.za,(t=o.D)&&e&&Si(n,t,e),Si(n,"VER",o.ma),an(o,n),n}function Co(o,e,t){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&o.Da&&!o.ra?new Yn({ib:!0}):o.ra)).L=o.H,e}function Fr(){}function gr(){if(ge&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function ys(o,e){xn.call(this),this.g=new Aa(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.S=o,(o=e&&e.Xb)&&!dn(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dn(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new ta(this)}function sl(o){Dr.call(this);var e=o.__sm__;if(e){e:{for(const t in e){o=t;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Er(){Ni.call(this),this.status=1}function ta(o){this.g=o}(oe=pr.prototype).da=function(o,e,t,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Es.g(),this.C=function Rn(o){return o.h||(o.h=o.i())}(this.u?this.u:Es),this.g.onreadystatechange=Te(this.Ha,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(a){return void Il(this,a)}if(o=t||"",t=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)t.set(i,n[i]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const a of n.keys())t.set(a,n.get(a))}n=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=ae.FormData&&o instanceof ae.FormData,!(0<=Ye(ga,e))||n||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sa(this),0<this.B&&((this.K=function Ml(o){return ge&&function gn(){return function Jt(o){var e=Pt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=o(9)}(function(){let o=0;const e=Mn(String(Pe)).split("."),t=Mn("9").split("."),n=Math.max(e.length,t.length);for(let u=0;0==o&&u<n;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;o=Pn(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Pn(0==i[2].length,0==a[2].length)||Pn(i[2],a[2]),i=i[3],a=a[3]}while(0==o)}return 0<=o})}()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Te(this.qa,this)):this.A=qi(this.qa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(a){Il(this,a)}},oe.qa=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))},oe.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Vn(this,"complete"),Vn(this,"abort"),Ro(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ro(this,!0)),pr.X.M.call(this)},oe.Ha=function(){this.s||(this.F||this.v||this.l?Ia(this):this.eb())},oe.eb=function(){Ia(this)},oe.aa=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}},oe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Ra=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),ma(e)}},oe.Ea=function(){return this.m},oe.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Aa.prototype).ma=8,oe.G=1,oe.Ja=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const i=new rs(this,this.j,o,void 0);let a=this.s;if(this.S&&(a?(a=K(a),fe(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var n=this.i[t];if(void 0===(n="__data__"in n.g&&"string"==typeof(n=n.g.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Kn(this,i,e),Si(t=Zs(this.F),"RID",o),Si(t,"CVER",22),this.D&&Si(t,"X-HTTP-Session-Id",this.D),an(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(ea(a)))+"&"+e:this.o&&rl(t,this.o,a)),Ma(this.h,i),this.Xa&&Si(t,"TYPE","init"),this.O?(Si(t,"$req",e),Si(t,"SID","null"),i.Z=!0,Ws(i,t,null)):Ws(i,t,e),this.G=2}}else 3==this.G&&(o?Qt(this,o):0==this.i.length||Xr(this.h)||Qt(this))},oe.Ia=function(){if(this.u=null,Vi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var o=2*this.P;this.j.info("BP detection timer enabled: "+o),this.B=Ot(Te(this.cb,this),o)}},oe.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Cr(10),le(this),Vi(this))},oe.bb=function(){null!=this.v&&(this.v=null,le(this),Bi(this),Cr(19))},oe.jb=function(o){o?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))},(oe=Fr.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Qa=function(){},gr.prototype.g=function(o,e){return new ys(o,e)},pt(ys,xn),ys.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,t=this.h||void 0;Cr(0),o.V=e,o.ia=t||{},o.L=o.Y,o.F=Js(o,null,o.V),Ae(o)},ys.prototype.close=function(){N(this.g)},ys.prototype.u=function(o){var e=this.g;if("string"==typeof o){var t={};t.__data__=o,o=t}else this.v&&((t={}).__data__=Ii(o),o=t);e.i.push(new class{constructor(o,e){this.h=o,this.g=e}}(e.$a++,o)),3==e.G&&Ae(e)},ys.prototype.M=function(){this.g.l=null,delete this.j,N(this.g),delete this.g,ys.X.M.call(this)},pt(sl,Dr),pt(Er,Ni),pt(ta,Fr),ta.prototype.xa=function(){Vn(this.g,"a")},ta.prototype.wa=function(o){Vn(this.g,new sl(o))},ta.prototype.va=function(o){Vn(this.g,new Er(o))},ta.prototype.ua=function(){Vn(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Zt.COMPLETE="complete",Nn.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",xn.prototype.listen=xn.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.Na,pr.prototype.getLastErrorCode=pr.prototype.Ea,pr.prototype.getStatus=pr.prototype.aa,pr.prototype.getResponseJson=pr.prototype.Ra,pr.prototype.getResponseText=pr.prototype.fa,pr.prototype.send=pr.prototype.da;var Ta=se.createWebChannelTransport=function(){return new gr},ol=se.getStatEventTarget=function(){return Bo()},ks=se.ErrorCode=Tt,gc=se.EventType=Zt,Ho=se.Event=Ts,Do=se.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nt=se.FetchXmlHttpFactory=Yn,ho=se.WebChannel=Nn,Al=se.XhrIo=pr;const Tl="@firebase/firestore";class Ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let al="9.10.0";const Wi=new Le.Yd("@firebase/firestore");function Ra(){return Wi.logLevel}function In(o,...e){if(Wi.logLevel<=Le.in.DEBUG){const t=e.map(ql);Wi.debug(`Firestore (${al}): ${o}`,...t)}}function $r(o,...e){if(Wi.logLevel<=Le.in.ERROR){const t=e.map(ql);Wi.error(`Firestore (${al}): ${o}`,...t)}}function ir(o,...e){if(Wi.logLevel<=Le.in.WARN){const t=e.map(ql);Wi.warn(`Firestore (${al}): ${o}`,...t)}}function ql(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function Un(o="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+o;throw $r(e),new Error(e)}function fi(o,e){o||Un()}function jn(o,e){return o}const nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cn extends xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Rl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ui.UNAUTHENTICATED))}shutdown(){}}class jo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _a{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let i=this.i;const a=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const C=u;e.enqueueRetryable((0,be.Z)(function*(){yield C.promise,yield a(n.currentUser)}))},_=C=>{In("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(In("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(In("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fi("string"==typeof n.accessToken),new Rl(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fi(null===e||"string"==typeof e),new Ui(e)}}class ls{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(fi(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ya{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i}getToken(){return Promise.resolve(new ls(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Go{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _r{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=a=>{null!=a.error&&In("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,In("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{In("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):In("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fi("string"==typeof t.token),this.A=t.token,new Go(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Va(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let n=0;n<o;n++)t[n]=Math.floor(256*Math.random());return t}class ll{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Va(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%e.length))}return n}}function ci(o,e){return o<e?-1:o>e?1:0}function cl(o,e,t){return o.length===e.length&&o.every((n,i)=>t(n,e[i]))}function vu(o){return o+"\0"}class er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Cn(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Cn(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Cn(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Cn(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new er(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ci(this.nanoseconds,e.nanoseconds):ci(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ai{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ai(e)}static min(){return new ai(new er(0,0))}static max(){return new ai(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $o{constructor(e,t,n){void 0===t?t=0:t>e.length&&Un(),void 0===n?n=e.length-t:n>e.length-t&&Un(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$o.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $o?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Di extends $o{construct(e,t,n){return new Di(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Cn(nn.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Di(t)}static emptyPath(){return new Di([])}}const Hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends $o{construct(e,t,n){return new lr(e,t,n)}static isValidIdentifier(e){return Hr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(0===n.length)throw new Cn(nn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Cn(nn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Cn(nn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(n+=f,i++):(a(),i++)}if(a(),u)throw new Cn(nn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class Sn{constructor(e){this.path=e}static fromPath(e){return new Sn(Di.fromString(e))}static fromName(e){return new Sn(Di.fromString(e).popFirst(5))}static empty(){return new Sn(Di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Di.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sn(new Di(e.slice()))}}class zo{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function ka(o){return o.fields.find(e=>2===e.kind)}function Us(o){return o.fields.filter(e=>2!==e.kind)}zo.UNKNOWN_ID=-1;class va{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ol{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ol(0,eo.min())}}function Ql(o,e){const t=o.toTimestamp().seconds,n=o.toTimestamp().nanoseconds+1,i=ai.fromTimestamp(1e9===n?new er(t+1,0):new er(t,n));return new eo(i,Sn.empty(),e)}function Bc(o){return new eo(o.readTime,o.key,-1)}class eo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new eo(ai.min(),Sn.empty(),-1)}static max(){return new eo(ai.max(),Sn.empty(),-1)}}function Vc(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=Sn.comparator(o.documentKey,e.documentKey),0!==t?t:ci(o.largestBatchId,e.largestBatchId))}const vs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Os(o){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,be.Z)(function*(o){if(o.code!==nn.FAILED_PRECONDITION||o.message!==vs)throw o;In("LocalStore","Unexpectedly lost primary lease")}),Uc.apply(this,arguments)}class en{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new en((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof en?t:en.resolve(t)}catch(t){return en.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):en.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):en.reject(t)}static resolve(e){return new en((t,n)=>{t(e)})}static reject(e){return new en((t,n)=>{n(e)})}static waitFor(e){return new en((t,n)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},_=>n(_))}),u=!0,a===i&&t()})}static or(e){let t=en.resolve(!1);for(const n of e)t=t.next(i=>i?en.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new en((n,i)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const C=_;t(e[C]).next(T=>{u[C]=T,++f,f===a&&n(u)},T=>i(T))}})}static doWhile(e,t){return new en((n,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):n()};a()})}}class zr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ua(e,t.error)):this.P.resolve()},this.transaction.onerror=n=>{const i=Oa(n.target.error);this.P.reject(new Ua(e,i))}}static open(e,t,n,i){try{return new zr(t,e.transaction(i,n))}catch(a){throw new Ua(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(In("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xr(t)}}class js{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===js.D((0,xe.z$)())&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return In("SimpleDb","Removing database:",e),cs(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,xe.hl)())return!1;if(js.N())return!0;const e=(0,xe.z$)(),t=js.D(e),n=0<t&&t<10,i=js.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(In("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{n(u.target.result)},a.onblocked=()=>{i(new Ua(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Cn(nn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Cn(nn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ua(e,f))},a.onupgradeneeded=u=>{In("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{In("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=n=>t.B(n)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,i){var a=this;return(0,be.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=zr.open(a.db,e,u?"readonly":"readwrite",n),C=i(_).next(T=>(_.V(),T)).catch(T=>(_.abort(T),en.reject(T))).toPromise();return C.catch(()=>{}),yield _.v,C}catch(_){const C=_,T="FirebaseError"!==C.name&&f<3;if(In("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),a.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return cs(this.U.delete())}}class Ua extends Cn{constructor(e,t){super(nn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ba(o){return"IndexedDbTransactionError"===o.name}class xr{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(In("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(In("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cs(n)}add(e){return In("SimpleDb","ADD",this.store.name,e,e),cs(this.store.add(e))}get(e){return cs(this.store.get(e)).next(t=>(void 0===t&&(t=null),In("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return In("SimpleDb","DELETE",this.store.name,e),cs(this.store.delete(e))}count(){return In("SimpleDb","COUNT",this.store.name),cs(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const i=this.cursor(n),a=[];return this.H(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(n.range);return new en((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new en((i,a)=>{n.onerror=u=>{a(u.target.error)},n.onsuccess=u=>{i(u.target.result)}})}Y(e,t){In("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const i=this.cursor(n);return this.H(i,(a,u,f)=>f.delete())}Z(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.H(i,t)}tt(e){const t=this.cursor({});return new en((n,i)=>{t.onerror=a=>{const u=Oa(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():n()}):n()}})}H(e,t){const n=[];return new en((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new Xl(f),C=t(f.primaryKey,f.value,_);if(C instanceof en){const T=C.catch(re=>(_.done(),en.reject(re)));n.push(T)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>en.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cs(o){return new en((e,t)=>{o.onsuccess=n=>{e(n.target.result)},o.onerror=n=>{const i=Oa(n.target.error);t(i)}})}let Ha=!1;function Oa(o){const e=js.D((0,xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const n=new Cn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ha||(Ha=!0,setTimeout(()=>{throw n},0)),n}}return o}class M{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;In("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{In("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(n){ba(n)?In("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Os(n)}yield t.nt(6e4)}))}}class A{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>t.it(n,e))})()}it(e,t){const n=new Set;let i=t,a=!0;return en.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!n.has(u))return In("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(f=>{i-=f,n.add(u)});a=!1})).next(()=>t-i)}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(f=>(In("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let n=e;return t.changes.forEach((i,a)=>{const u=Bc(a);Vc(u,n)>0&&(n=u)}),new eo(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class E{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>t.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function U(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function Z(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function Ie(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}E.at=-1;class st{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _t(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _t(this.root,e,this.comparator,!1)}getReverseIterator(){return new _t(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _t(this.root,e,this.comparator,!0)}}class _t{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??qt.RED,this.left=i??qt.EMPTY,this.right=a??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new qt(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Un();const e=this.left.check();if(e!==this.right.check())throw Un();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Un()}get value(){throw Un()}get color(){throw Un()}get left(){throw Un()}get right(){throw Un()}copy(o,e,t,n,i){return this}insert(o,e,t){return new qt(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gi(this.data.getIterator())}getIteratorFrom(e){return new gi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class gi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wn(o){return o.hasNext()?o.getNext():void 0}class yi{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new yi([])}unionWith(e){let t=new _n(lr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ur(t)}static fromUint8Array(e){const t=function(n){let i="";for(let a=0;a<n.length;++a)i+=String.fromCharCode(n[a]);return i}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ci(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const Ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(o){if(fi(!!o),"string"==typeof o){let e=0;const t=Ps.exec(o);if(fi(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(o);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vr(o.seconds),nanos:vr(o.nanos)}}function vr(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function to(o){return"string"==typeof o?ur.fromBase64String(o):ur.fromUint8Array(o)}function ja(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eo(o){const e=o.mapValue.fields.__previous_value__;return ja(e)?Eo(e):e}function ko(o){const e=Mr(o.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class Hc{constructor(e,t,n,i,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Wo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}function Oo(o){return null==o}function Pl(o){return 0===o&&1/o==-1/0}function ia(o){return"number"==typeof o&&Number.isInteger(o)&&!Pl(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}const fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ga={nullValue:"NULL_VALUE"};function po(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?ja(o)?4:Ti(o)?9007199254740991:10:Un()}function ra(o,e){if(o===e)return!0;const t=po(o);if(t!==po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return ko(o).isEqual(ko(e));case 3:return function(n,i){if("string"==typeof n.timestampValue&&"string"==typeof i.timestampValue&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const a=Mr(n.timestampValue),u=Mr(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return i=e,to(o.bytesValue).isEqual(to(i.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(n,i){return vr(n.geoPointValue.latitude)===vr(i.geoPointValue.latitude)&&vr(n.geoPointValue.longitude)===vr(i.geoPointValue.longitude)}(o,e);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return vr(n.integerValue)===vr(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const a=vr(n.doubleValue),u=vr(i.doubleValue);return a===u?Pl(a)===Pl(u):isNaN(a)&&isNaN(u)}return!1}(o,e);case 9:return cl(o.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:return function(n,i){const a=n.mapValue.fields||{},u=i.mapValue.fields||{};if(U(a)!==U(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ra(a[f],u[f])))return!1;return!0}(o,e);default:return Un()}var i}function Sr(o,e){return void 0!==(o.values||[]).find(t=>ra(t,e))}function Yo(o,e){if(o===e)return 0;const t=po(o),n=po(e);if(t!==n)return ci(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ci(o.booleanValue,e.booleanValue);case 2:return function(i,a){const u=vr(i.integerValue||i.doubleValue),f=vr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(o,e);case 3:return j(o.timestampValue,e.timestampValue);case 4:return j(ko(o),ko(e));case 5:return ci(o.stringValue,e.stringValue);case 6:return function(i,a){const u=to(i),f=to(a);return u.compareTo(f)}(o.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const C=ci(u[_],f[_]);if(0!==C)return C}return ci(u.length,f.length)}(o.referenceValue,e.referenceValue);case 8:return function(i,a){const u=ci(vr(i.latitude),vr(a.latitude));return 0!==u?u:ci(vr(i.longitude),vr(a.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const C=Yo(u[_],f[_]);if(C)return C}return ci(u.length,f.length)}(o.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===fo.mapValue&&a===fo.mapValue)return 0;if(i===fo.mapValue)return 1;if(a===fo.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),_=a.fields||{},C=Object.keys(_);f.sort(),C.sort();for(let T=0;T<f.length&&T<C.length;++T){const re=ci(f[T],C[T]);if(0!==re)return re;const ve=Yo(u[f[T]],_[C[T]]);if(0!==ve)return ve}return ci(f.length,C.length)}(o.mapValue,e.mapValue);default:throw Un()}}function j(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return ci(o,e);const t=Mr(o),n=Mr(e),i=ci(t.seconds,n.seconds);return 0!==i?i:ci(t.nanos,n.nanos)}function q(o){return ye(o)}function ye(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(n){const i=Mr(n);return`time(${i.seconds},${i.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?to(o.bytesValue).toBase64():"referenceValue"in o?Sn.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(n){let i="[",a=!0;for(const u of n.values||[])a?a=!1:i+=",",i+=ye(u);return i+"]"}(o.arrayValue):"mapValue"in o?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${ye(n.fields[f])}`;return a+"}"}(o.mapValue):Un();var e}function ft(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Ut(o){return!!o&&"integerValue"in o}function Wt(o){return!!o&&"arrayValue"in o}function Dn(o){return!!o&&"nullValue"in o}function On(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function ti(o){return!!o&&"mapValue"in o}function pi(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Z(o.mapValue.fields,(t,n)=>e.mapValue.fields[t]=pi(n)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pi(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Ti(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function ui(o){return"nullValue"in o?Ga:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?ft(Wo.empty(),Sn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:Un()}function cr(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?ft(Wo.empty(),Sn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?fo:Un()}function Fs(o,e){const t=Yo(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function Fl(o,e){const t=Yo(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ti(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pi(t)}setAll(e){let t=lr.emptyPath(),n={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,n,i),n={},i=[],t=f.popLast()}u?n[f.lastSegment()]=pi(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());ti(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];ti(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Z(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new us(pi(this.value))}}function Ll(o){const e=[];return Z(o.fields,(t,n)=>{const i=new lr([t]);if(ti(n)){const a=Ll(n.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new yi(e)}class rr{constructor(e,t,n,i,a,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new rr(e,0,ai.min(),ai.min(),us.empty(),0)}static newFoundDocument(e,t,n){return new rr(e,1,t,ai.min(),n,0)}static newNoDocument(e,t){return new rr(e,2,t,ai.min(),us.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,ai.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ai.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xo{constructor(e,t=null,n=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function Jl(o,e=null,t=[],n=[],i=null,a=null,u=null){return new xo(o,e,t,n,i,a,u)}function Ko(o){const e=jn(o);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>{return(i=n).field.canonicalString()+i.op.toString()+q(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(n=>{return(i=n).field.canonicalString()+i.dir;var i}).join(","),Oo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>q(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>q(n)).join(",")),e.ht=t}return e.ht}function za(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<o.orderBy.length;i++)if(!$d(o.orderBy[i],e.orderBy[i]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let i=0;i<o.filters.length;i++)if((t=o.filters[i]).op!==(n=e.filters[i]).op||!t.field.isEqual(n.field)||!ra(t.value,n.value))return!1;var t,n;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!zd(o.startAt,e.startAt)&&zd(o.endAt,e.endAt)}function Ud(o){return Sn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function qu(o,e){return o.filters.filter(t=>t instanceof Nr&&t.field.isEqual(e))}function Qu(o,e,t){let n=Ga,i=!0;for(const a of qu(o,e)){let u=Ga,f=!0;switch(a.op){case"<":case"<=":u=ui(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Ga}Fs({value:n,inclusive:i},{value:u,inclusive:f})<0&&(n=u,i=f)}if(null!==t)for(let a=0;a<o.orderBy.length;++a)if(o.orderBy[a].field.isEqual(e)){const u=t.position[a];Fs({value:n,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(n=u,i=t.inclusive);break}return{value:n,inclusive:i}}function Xu(o,e,t){let n=fo,i=!0;for(const a of qu(o,e)){let u=fo,f=!0;switch(a.op){case">=":case">":u=cr(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=fo}Fl({value:n,inclusive:i},{value:u,inclusive:f})>0&&(n=u,i=f)}if(null!==t)for(let a=0;a<o.orderBy.length;++a)if(o.orderBy[a].field.isEqual(e)){const u=t.position[a];Fl({value:n,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(n=u,i=t.inclusive);break}return{value:n,inclusive:i}}class Nr extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,n):new Hd(e,t,n):"array-contains"===t?new wu(e,n):"in"===t?new ym(e,n):"not-in"===t?new Gd(e,n):"array-contains-any"===t?new Kh(e,n):new Nr(e,t,n)}static lt(e,t,n){return"in"===t?new Wh(e,n):new jd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Yo(t,this.value)):null!==t&&po(this.value)===po(t)&&this.ft(Yo(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Un()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hd extends Nr{constructor(e,t,n){super(e,t,n),this.key=Sn.fromName(n.referenceValue)}matches(e){const t=Sn.comparator(e.key,this.key);return this.ft(t)}}class Wh extends Nr{constructor(e,t){super(e,"in",t),this.keys=Yh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jd extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=Yh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yh(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>Sn.fromName(n.referenceValue))}class wu extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wt(t)&&Sr(t.arrayValue,this.value)}}class ym extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sr(this.value.arrayValue,t)}}class Gd extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sr(this.value.arrayValue,t)}}class Kh extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Sr(this.value.arrayValue,n))}}class Wa{constructor(e,t){this.position=e,this.inclusive=t}}class ul{constructor(e,t="asc"){this.field=e,this.dir=t}}function $d(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}function Nl(o,e,t){let n=0;for(let i=0;i<o.position.length;i++){const a=e[i],u=o.position[i];if(n=a.field.isKeyField()?Sn.comparator(Sn.fromName(u.referenceValue),t.key):Yo(u,t.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function zd(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!ra(o.position[t],e.position[t]))return!1;return!0}class dl{constructor(e,t=null,n=[],i=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function Wd(o,e,t,n,i,a,u,f){return new dl(o,e,t,n,i,a,u,f)}function ec(o){return new dl(o)}function Yd(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Kd(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function jc(o){for(const e of o.filters)if(e.dt())return e.field;return null}function tc(o){return null!==o.collectionGroup}function wa(o){const e=jn(o);if(null===e._t){e._t=[];const t=jc(e),n=Kd(e);if(null!==t&&null===n)t.isKeyField()||e._t.push(new ul(t)),e._t.push(new ul(lr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ul(lr.keyField(),a))}}}return e._t}function Mo(o){const e=jn(o);if(!e.wt)if("F"===e.limitType)e.wt=Jl(e.path,e.collectionGroup,wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of wa(e))t.push(new ul(a.field,"desc"===a.dir?"asc":"desc"));const n=e.endAt?new Wa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wa(e.startAt.position,e.startAt.inclusive):null;e.wt=Jl(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.wt}function H(o,e,t){return new dl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function W(o,e){return za(Mo(o),Mo(e))&&o.limitType===e.limitType}function h(o){return`${Ko(Mo(o))}|lt:${o.limitType}`}function x(o){return`Query(target=${function $a(o){let e=o.path.canonicalString();return null!==o.collectionGroup&&(e+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(e+=`, filters: [${o.filters.map(t=>{return`${(n=t).field.canonicalString()} ${n.op} ${q(n.value)}`;var n}).join(", ")}]`),Oo(o.limit)||(e+=", limit: "+o.limit),o.orderBy.length>0&&(e+=`, orderBy: [${o.orderBy.map(t=>{return`${(n=t).field.canonicalString()} (${n.dir})`;var n}).join(", ")}]`),o.startAt&&(e+=", startAt: ",e+=o.startAt.inclusive?"b:":"a:",e+=o.startAt.position.map(t=>q(t)).join(",")),o.endAt&&(e+=", endAt: ",e+=o.endAt.inclusive?"a:":"b:",e+=o.endAt.position.map(t=>q(t)).join(",")),`Target(${e})`}(Mo(o))}; limitType=${o.limitType})`}function Q(o,e){return e.isFoundDocument()&&function(t,n){const i=n.key.path;return null!==t.collectionGroup?n.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Sn.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(o,e)&&function(t,n){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===n.data.field(i.field))return!1;return!0}(o,e)&&function(t,n){for(const i of t.filters)if(!i.matches(n))return!1;return!0}(o,e)&&(n=e,!((t=o).startAt&&!function(i,a,u){const f=Nl(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,wa(t),n)||t.endAt&&!function(i,a,u){const f=Nl(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,wa(t),n)));var t,n}function Ue(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function pn(o){return(e,t)=>{let n=!1;for(const i of wa(o)){const a=Hn(i,e,t);if(0!==a)return a;n=n||i.field.isKeyField()}return 0}}function Hn(o,e,t){const n=o.field.isKeyField()?Sn.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),_=u.data.field(i);return null!==f&&null!==_?Yo(f,_):Un()}(o.field,e,t);switch(o.dir){case"asc":return n;case"desc":return-1*n;default:return Un()}}function Ei(o,e){if(o.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function Jr(o){return{integerValue:""+o}}function As(o,e){return ia(e)?Jr(e):Ei(o,e)}class I{constructor(){this._=void 0}}function g(o,e,t){return o instanceof _e?function(n,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):o instanceof Ze?$t(o,e):o instanceof yn?zn(o,e):function(n,i){const a=k(n,i),u=Hi(a)+Hi(n.yt);return Ut(a)&&Ut(n.yt)?Jr(u):Ei(n.It,u)}(o,e)}function v(o,e,t){return o instanceof Ze?$t(o,e):o instanceof yn?zn(o,e):t}function k(o,e){return o instanceof ni?Ut(t=e)||(n=t)&&"doubleValue"in n?e:{integerValue:0}:null;var n,t}class _e extends I{}class Ze extends I{constructor(e){super(),this.elements=e}}function $t(o,e){const t=Wr(e);for(const n of o.elements)t.some(i=>ra(i,n))||t.push(n);return{arrayValue:{values:t}}}class yn extends I{constructor(e){super(),this.elements=e}}function zn(o,e){let t=Wr(e);for(const n of o.elements)t=t.filter(i=>!ra(i,n));return{arrayValue:{values:t}}}class ni extends I{constructor(e,t){super(),this.It=e,this.yt=t}}function Hi(o){return vr(o.integerValue||o.doubleValue)}function Wr(o){return Wt(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class Zo{constructor(e,t){this.field=e,this.transform=t}}class Zd{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class $c{}function Ju(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Cu(o.key,Yr.none()):new zc(o.key,o.data,Yr.none());{const t=o.data,n=us.empty();let i=new _n(lr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?n.delete(a):n.set(a,u),i=i.add(a)}return new nc(o.key,n,new yi(i.toArray()),Yr.none())}}function op(o,e,t){o instanceof zc?function(n,i,a){const u=n.value.clone(),f=Xd(n.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(o,e,t):o instanceof nc?function(n,i,a){if(!yc(n.precondition,i))return void i.convertToUnknownDocument(a.version);const u=Xd(n.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Qd(n)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ed(o,e,t,n){return o instanceof zc?function(i,a,u,f){if(!yc(i.precondition,a))return u;const _=i.value.clone(),C=Zh(i.fieldTransforms,f,a);return _.setAll(C),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(o,e,t,n):o instanceof nc?function(i,a,u,f){if(!yc(i.precondition,a))return u;const _=Zh(i.fieldTransforms,f,a),C=a.data;return C.setAll(Qd(i)),C.setAll(_),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(o,e,t,n):(u=t,yc(o.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function ap(o,e){let t=null;for(const n of o.fieldTransforms){const i=e.data.field(n.field),a=k(n.transform,i||null);null!=a&&(null===t&&(t=us.empty()),t.set(n.field,a))}return t||null}function qd(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(n=e.fieldTransforms,!!(void 0===(t=o.fieldTransforms)&&void 0===n||t&&n&&cl(t,n,(i,a)=>function Gc(o,e){return o.field.isEqual(e.field)&&(n=e.transform,(t=o.transform)instanceof Ze&&n instanceof Ze||t instanceof yn&&n instanceof yn?cl(t.elements,n.elements,ra):t instanceof ni&&n instanceof ni?ra(t.yt,n.yt):t instanceof _e&&n instanceof _e);var t,n}(i,a))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var t,n}class zc extends $c{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nc extends $c{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Qd(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=o.data.field(t);e.set(t,n)}}),e}function Xd(o,e,t){const n=new Map;fi(o.length===t.length);for(let i=0;i<t.length;i++){const a=o[i],u=a.transform,f=e.data.field(a.field);n.set(a.field,v(u,f,t[i]))}return n}function Zh(o,e,t){const n=new Map;for(const i of o){const a=i.transform,u=t.data.field(i.field);n.set(i.field,g(a,u,e))}return n}class Cu extends $c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qh extends $c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i_{constructor(e){this.count=e}}var Yi,br;function r_(o){switch(o){default:return Un();case nn.CANCELLED:case nn.UNKNOWN:case nn.DEADLINE_EXCEEDED:case nn.RESOURCE_EXHAUSTED:case nn.INTERNAL:case nn.UNAVAILABLE:case nn.UNAUTHENTICATED:return!1;case nn.INVALID_ARGUMENT:case nn.NOT_FOUND:case nn.ALREADY_EXISTS:case nn.PERMISSION_DENIED:case nn.FAILED_PRECONDITION:case nn.ABORTED:case nn.OUT_OF_RANGE:case nn.UNIMPLEMENTED:case nn.DATA_LOSS:return!0}}function lp(o){if(void 0===o)return $r("GRPC error has no .code"),nn.UNKNOWN;switch(o){case Yi.OK:return nn.OK;case Yi.CANCELLED:return nn.CANCELLED;case Yi.UNKNOWN:return nn.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return nn.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return nn.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return nn.INTERNAL;case Yi.UNAVAILABLE:return nn.UNAVAILABLE;case Yi.UNAUTHENTICATED:return nn.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return nn.INVALID_ARGUMENT;case Yi.NOT_FOUND:return nn.NOT_FOUND;case Yi.ALREADY_EXISTS:return nn.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return nn.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return nn.FAILED_PRECONDITION;case Yi.ABORTED:return nn.ABORTED;case Yi.OUT_OF_RANGE:return nn.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return nn.UNIMPLEMENTED;case Yi.DATA_LOSS:return nn.DATA_LOSS;default:return Un()}}(br=Yi||(Yi={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class Wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,a]of n)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Z(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Ie(this.inner)}size(){return this.innerSize}}const Cy=new st(Sn.comparator);function Ya(){return Cy}const Dy=new st(Sn.comparator);function td(...o){let e=Dy;for(const t of o)e=e.insert(t.key,t);return e}function vm(o){let e=Dy;return o.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function vc(){return bc()}function bm(){return bc()}function bc(){return new Wc(o=>o.toString(),(o,e)=>o.isEqual(e))}const wm=new st(Sn.comparator),s_=new _n(Sn.comparator);function ji(...o){let e=s_;for(const t of o)e=e.add(t);return e}const Du=new _n(ci);function Jd(){return Du}class ic{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,t)),new ic(ai.min(),n,Jd(),Ya(),ji())}}class nd{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nd(ur.EMPTY_BYTE_STRING,t,ji(),ji(),ji())}}class id{constructor(e,t,n,i){this.Tt=e,this.removedTargetIds=t,this.key=n,this.Et=i}}class Qh{constructor(e,t){this.targetId=e,this.At=t}}class Eu{constructor(e,t,n=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Xh{constructor(){this.Rt=0,this.bt=Bl(),this.Pt=ur.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ji(),t=ji(),n=ji();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Un()}}),new nd(this.Pt,this.vt,e,t,n)}Nt(){this.Vt=!1,this.bt=Bl()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Cm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ya(),this.qt=Io(),this.Kt=new _n(ci)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const n=this.zt(t);switch(e.state){case 0:this.Ht(t)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),n.Ct(e.resumeToken));break;default:Un()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((n,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,n=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(Ud(a))if(0===n){const u=new Sn(a.path);this.jt(t,u,rr.newNoDocument(u,ai.min()))}else fi(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&Ud(f.target)){const _=new Sn(f.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,rr.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let n=ji();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const C=this.Xt(_);return!C||2===C.purpose||(f=!1,!1)}),f&&(n=n.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new ic(e,t,this.Kt,this.Ut,n);return this.Ut=Ya(),this.qt=Io(),this.Kt=new _n(ci),i}Qt(e,t){if(!this.Ht(e))return;const n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,n){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Xh,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new _n(ci),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||In("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Xh),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Io(){return new st(Sn.comparator)}function Bl(){return new st(Sn.comparator)}const Dm={asc:"ASCENDING",desc:"DESCENDING"},Vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Po{constructor(e,t){this.databaseId=e,this.gt=t}}function Jh(o,e){return o.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rd(o,e){return o.gt?e.toBase64():e.toUint8Array()}function cp(o,e){return Jh(o,e.toTimestamp())}function Ar(o){return fi(!!o),ai.fromTimestamp(function(e){const t=Mr(e);return new er(t.seconds,t.nanos)}(o))}function hl(o,e){return(t=o,new Di(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wc(o){const e=Di.fromString(o);return fi(dp(e)),e}function ef(o,e){return hl(o.databaseId,e.path)}function Ka(o,e){const t=wc(e);if(t.get(1)!==o.databaseId.projectId)throw new Cn(nn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new Cn(nn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new Sn(Em(t))}function eh(o,e){return hl(o.databaseId,e)}function xu(o){const e=wc(o);return 4===e.length?Di.emptyPath():Em(e)}function no(o){return new Di(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Em(o){return fi(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function o_(o,e,t){return{name:ef(o,e),fields:t.value.mapValue.fields}}function a_(o,e,t){const n=Ka(o,e.name),i=Ar(e.updateTime),a=new us({mapValue:{fields:e.fields}}),u=rr.newFoundDocument(n,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function sd(o,e){let t;if(e instanceof zc)t={update:o_(o,e.key,e.value)};else if(e instanceof Cu)t={delete:ef(o,e.key)};else if(e instanceof nc)t={update:o_(o,e.key,e.data),updateMask:d_(e.fieldMask)};else{if(!(e instanceof qh))return Un();t={verify:ef(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,a){const u=a.transform;if(u instanceof _e)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ze)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof yn)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ni)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw Un()}(0,n))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cp(o,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Un()),t;var i}function tf(o,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Yr.updateTime(Ar(i.updateTime)):void 0!==i.exists?Yr.exists(i.exists):Yr.none():Yr.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(fi("REQUEST_TIME"===u.setToServerValue),f=new _e):"appendMissingElements"in u?f=new Ze(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new yn(u.removeAllFromArray.values||[]):"increment"in u?f=new ni(a,u.increment):Un();const _=lr.fromServerFormat(u.fieldPath);return new Zo(_,f)}(o,i)):[];var i;if(e.update){const i=Ka(o,e.update.name),a=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new yi((e.updateMask.fieldPaths||[]).map(C=>lr.fromServerFormat(C)));return new nc(i,a,u,t,n)}return new zc(i,a,t,n)}if(e.delete){const i=Ka(o,e.delete);return new Cu(i,t)}if(e.verify){const i=Ka(o,e.verify);return new qh(i,t)}return Un()}function th(o,e){return{documents:[eh(o,e.path)]}}function l_(o,e){const t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(t.parent=eh(o,n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eh(o,n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(_){if(0===_.length)return;const C=_.map(T=>function(re){if("=="===re.op){if(On(re.value))return{unaryFilter:{field:nh(re.field),op:"IS_NAN"}};if(Dn(re.value))return{unaryFilter:{field:nh(re.field),op:"IS_NULL"}}}else if("!="===re.op){if(On(re.value))return{unaryFilter:{field:nh(re.field),op:"IS_NOT_NAN"}};if(Dn(re.value))return{unaryFilter:{field:nh(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(re.field),op:up(re.op),value:re.value}}}(T));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(C=>{return{field:nh((T=C).field),direction:Yc(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(C=e.limit,o.gt||Oo(C)?C:{value:C});var C,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Cc(o){let e=xu(o.parent);const t=o.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){fi(1===n);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=od(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new ul(Mu((re=T).field),function(ve){switch(ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(re.direction));var re}));let f=null;t.limit&&(f=function(T){let re;return re="object"==typeof T?T.value:T,Oo(re)?null:re}(t.limit));let _=null;var T;t.startAt&&(_=new Wa((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new Wa(T.values||[],!T.before)}(t.endAt)),Wd(e,i,u,a,f,"F",_,C)}function od(o){return o?void 0!==o.unaryFilter?[u_(o)]:void 0!==o.fieldFilter?[c_(o)]:void 0!==o.compositeFilter?o.compositeFilter.filters.map(e=>od(e)).reduce((e,t)=>e.concat(t)):Un():[]}function Yc(o){return Dm[o]}function up(o){return Vl[o]}function nh(o){return{fieldPath:o.canonicalString()}}function Mu(o){return lr.fromServerFormat(o.fieldPath)}function c_(o){return Nr.create(Mu(o.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Un()}}(o.fieldFilter.op),o.fieldFilter.value)}function u_(o){switch(o.unaryFilter.op){case"IS_NAN":const e=Mu(o.unaryFilter.field);return Nr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Mu(o.unaryFilter.field);return Nr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Mu(o.unaryFilter.field);return Nr.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mu(o.unaryFilter.field);return Nr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Un()}}function d_(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dp(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function sa(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=Mm(e)),e=rf(o.get(t),e);return Mm(e)}function rf(o,e){let t=e;const n=o.length;for(let i=0;i<n;i++){const a=o.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Mm(o){return o+"\x01\x01"}function rc(o){const e=o.length;if(fi(e>=2),2===e)return fi("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Di.emptyPath();const t=e-2,n=[];let i="";for(let a=0;a<e;){const u=o.indexOf("\x01",a);switch((u<0||u>t)&&Un(),o.charAt(u+1)){case"\x01":const f=o.substring(a,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),n.push(_);break;case"\x10":i+=o.substring(a,u),i+="\0";break;case"\x11":i+=o.substring(a,u+1);break;default:Un()}a=u+2}return new Di(n)}const ih=["userId","batchId"];function Im(o,e){return[o,sa(e)]}function h_(o,e,t){return[o,sa(e),t]}const Sm={},f_=["prefixPath","collectionGroup","readTime","documentId"],p_=["prefixPath","collectionGroup","documentId"],m_=["collectionGroup","readTime","prefixPath","documentId"],uv=["canonicalId","targetId"],dv=["targetId","path"],g_=["path","targetId"],__=["collectionId","parent"],Am=["indexId","uid"],y_=["uid","sequenceNumber"],Tm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rm=["indexId","uid","orderedDocumentKey"],hp=["userId","collectionPath","documentId"],My=["userId","collectionPath","largestBatchId"],km=["userId","collectionGroup","largestBatchId"],rh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Iy=[...rh,"documentOverlays"],v_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Om=v_,Pm=[...Om,"indexConfiguration","indexState","indexEntries"];class Fm extends bu{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function qo(o,e){const t=jn(o);return js.O(t.ie,e)}class Lm{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&op(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ed(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bm();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(i.key)?null:f;const _=Ju(u,f);null!==_&&n.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(ai.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ji())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(t,n)=>qd(t,n))&&cl(this.baseMutations,e.baseMutations,(t,n)=>qd(t,n))}}class Dc{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){fi(e.mutations.length===n.length);let i=wm;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new Dc(e,t,n,i)}}class ad{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iu{constructor(e,t,n,i,a=ai.min(),u=ai.min(),f=ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class b_{constructor(e){this.re=e}}function Su(o,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document={name:ef(i=o.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Jh(i,a.version.toTimestamp())};else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:ld(e.version)};else{if(!e.isUnknownDocument())return Un();n.unknownDocument={path:t.path.toArray(),version:ld(e.version)}}var i,a;return n}function sf(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function ld(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mo(o){const e=new er(o.seconds,o.nanoseconds);return ai.fromTimestamp(e)}function Kc(o,e){const t=(e.baseMutations||[]).map(a=>tf(o.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const n=e.mutations.map(a=>tf(o.re,a)),i=er.fromMillis(e.localWriteTimeMs);return new Lm(e.batchId,i,t,n)}function sh(o){const e=mo(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?mo(o.lastLimboFreeSnapshotVersion):ai.min();let n;var i;return void 0!==o.query.documents?(fi(1===(i=o.query).documents.length),n=Mo(ec(xu(i.documents[0])))):n=Mo(Cc(o.query)),new Iu(n,o.targetId,0,o.lastListenSequenceNumber,e,t,ur.fromBase64String(o.resumeToken))}function oh(o,e){const t=ld(e.snapshotVersion),n=ld(e.lastLimboFreeSnapshotVersion);let i;i=Ud(e.target)?th(o.re,e.target):l_(o.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ko(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function Fo(o){const e=Cc({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?H(e,e.limit,"L"):e}function cd(o,e){return new ad(e.largestBatchId,tf(o.re,e.overlayMutation))}function af(o,e){const t=e.path.lastSegment();return[o,sa(e.path.popLast()),t]}function w_(o,e,t,n){return{indexId:o,uid:e.uid||"",sequenceNumber:t,readTime:ld(n.readTime),documentKey:sa(n.documentKey.path),largestBatchId:n.largestBatchId}}class C_{getBundleMetadata(e,t){return pp(e).get(t).next(n=>{if(n)return{id:(i=n).bundleId,createTime:mo(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return pp(e).put({bundleId:(n=t).id,createTime:ld(Ar(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Nm(e).get(t).next(n=>{if(n)return{name:(i=n).name,query:Fo(i.bundledQuery),readTime:mo(i.readTime)};var i})}saveNamedQuery(e,t){return Nm(e).put({name:(n=t).name,readTime:ld(Ar(n.readTime)),bundledQuery:n.bundledQuery});var n}}function pp(o){return qo(o,"bundles")}function Nm(o){return qo(o,"namedQueries")}class ah{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new ah(e,t.uid||"")}getOverlay(e,t){return lf(e).get(af(this.userId,t)).next(n=>n?cd(this.It,n):null)}getOverlays(e,t){const n=vc();return en.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){const i=[];return n.forEach((a,u)=>{const f=new ad(t,u);i.push(this.ue(e,f))}),en.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(u=>i.add(sa(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,n+1],!1,!0);a.push(lf(e).Y("collectionPathOverlayIndex",f))}),en.waitFor(a)}getOverlaysForCollection(e,t,n){const i=vc(),a=sa(t),u=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lf(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const C=cd(this.It,_);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const a=vc();let u;const f=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lf(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,C,T)=>{const re=cd(this.It,C);a.size()<i||re.largestBatchId===u?(a.set(re.getKey(),re),u=re.largestBatchId):T.done()}).next(()=>a)}ue(e,t){return lf(e).put(function(n,i,a){const[u,f,_]=af(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sd(n.re,a.mutation)}}(this.It,this.userId,t))}}function lf(o){return qo(o,"documentOverlays")}class Zc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(vr(e.integerValue));else if("doubleValue"in e){const n=vr(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Pl(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(to(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.le(t,45),t.fe(n.latitude||0),t.fe(n.longitude||0)}else"mapValue"in e?Ti(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Un()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const n=e.fields||{};this.le(t,55);for(const i of Object.keys(n))this._e(i,t),this.ae(n[i],t)}pe(e,t){const n=e.values||[];this.le(t,50);for(const i of n)this.ae(i,t)}ge(e,t){this.le(t,37),Sn.fromName(e).path.forEach(n=>{this.le(t,60),this.Ie(n,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function D_(o){if(0===o)return 8;let e=0;return o>>4==0&&(e+=4,o<<=4),o>>6==0&&(e+=2,o<<=2),o>>7==0&&(e+=1),e}function Bm(o){const e=64-function(t){let n=0;for(let i=0;i<8;++i){const a=D_(255&t[i]);if(n+=a,8!==a)break}return n}(o);return Math.ceil(e/8)}Zc.Te=new Zc;class mp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Pe(n.value),n=t.next();this.ve()}Ve(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Ae(n);else if(n<2048)this.Ae(960|n>>>6),this.Ae(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|n>>>12),this.Ae(128|63&n>>>6),this.Ae(128|63&n);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Pe(n);else if(n<2048)this.Pe(960|n>>>6),this.Pe(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|n>>>12),this.Pe(128|63&n>>>6),this.Pe(128|63&n);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),n=Bm(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),n=Bm(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class E_{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class x_{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class tr{constructor(){this.Be=new mp,this.Le=new E_(this.Be),this.Ue=new x_(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ri{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ri(this.indexId,this.documentKey,this.arrayValue,n)}}function Oi(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=qc(o.arrayValue,e.arrayValue),0!==t?t:(t=qc(o.directionalValue,e.directionalValue),0!==t?t:Sn.comparator(o.documentKey,e.documentKey)))}function qc(o,e){for(let t=0;t<o.length&&t<e.length;++t){const n=o[t]-e[t];if(0!==n)return n}return o.length-e.length}class bs{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const n=t;n.dt()?this.je=n:this.Qe.push(n)}}We(e){const t=ka(e);if(void 0!==t&&!this.ze(t))return!1;const n=Us(e);let i=0,a=0;for(;i<n.length&&this.ze(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.je){const u=n[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<n.length;++i){const u=n[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class M_{constructor(){this.Ye=new gp}addToCollectionParentIndex(e,t){return this.Ye.add(t),en.resolve()}getCollectionParents(e,t){return en.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return en.resolve()}deleteFieldIndex(e,t){return en.resolve()}getDocumentsMatchingTarget(e,t){return en.resolve(null)}getIndexType(e,t){return en.resolve(0)}getFieldIndexes(e,t){return en.resolve([])}getNextCollectionGroupToUpdate(e){return en.resolve(null)}getMinOffset(e,t){return en.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,t){return en.resolve(eo.min())}updateCollectionGroup(e,t,n){return en.resolve()}updateIndexEntries(e,t){return en.resolve()}}class gp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new _n(Di.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new _n(Di.comparator)).toArray()}}const ud=new Uint8Array(0);class sc{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new gp,this.Ze=new Wc(n=>Ko(n),(n,i)=>za(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:n,parent:sa(i)};return ds(e).put(a)}return en.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[vu(t),""],!1,!0);return ds(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;n.push(rc(u.parent))}return n})}addFieldIndex(e,t){const n=Qo(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=n.add(i);if(t.indexState){const u=lh(e);return a.next(f=>{u.put(w_(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const n=Qo(e),i=lh(e),a=Pi(e);return n.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=Pi(e);let i=!0;const a=new Map;return en.forEach(this.tn(t),u=>this.en(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=ji();const f=[];return en.forEach(a,(_,C)=>{var T;In("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Xn=>`${Xn.fieldPath}:${Xn.kind}`).join(",")}`} to execute ${Ko(t)}`);const re=function(Xn,oi){const Jn=ka(oi);if(void 0===Jn)return null;for(const ki of qu(Xn,Jn.fieldPath))switch(ki.op){case"array-contains-any":return ki.value.arrayValue.values||[];case"array-contains":return[ki.value]}return null}(C,_),ve=function(Xn,oi){const Jn=new Map;for(const ki of Us(oi))for(const fr of qu(Xn,ki.fieldPath))switch(fr.op){case"==":case"in":Jn.set(ki.fieldPath.canonicalString(),fr.value);break;case"not-in":case"!=":return Jn.set(ki.fieldPath.canonicalString(),fr.value),Array.from(Jn.values())}return null}(C,_),qe=function(Xn,oi){const Jn=[];let ki=!0;for(const fr of Us(oi)){const $s=0===fr.kind?Qu(Xn,fr.fieldPath,Xn.startAt):Xu(Xn,fr.fieldPath,Xn.startAt);Jn.push($s.value),ki&&(ki=$s.inclusive)}return new Wa(Jn,ki)}(C,_),vt=function(Xn,oi){const Jn=[];let ki=!0;for(const fr of Us(oi)){const $s=0===fr.kind?Xu(Xn,fr.fieldPath,Xn.endAt):Qu(Xn,fr.fieldPath,Xn.endAt);Jn.push($s.value),ki&&(ki=$s.inclusive)}return new Wa(Jn,ki)}(C,_),kt=this.nn(_,C,qe),tn=this.nn(_,C,vt),An=this.sn(_,C,ve),Zn=this.rn(_.indexId,re,kt,qe.inclusive,tn,vt.inclusive,An);return en.forEach(Zn,Xn=>n.J(Xn,t.limit).next(oi=>{oi.forEach(Jn=>{const ki=Sn.fromSegments(Jn.documentKey);u.has(ki)||(u=u.add(ki),f.push(ki))})}))}).next(()=>f)}return en.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,n,i,a,u,f){const _=(null!=t?t.length:1)*Math.max(n.length,a.length),C=_/(null!=t?t.length:1),T=[];for(let re=0;re<_;++re){const ve=t?this.on(t[re/C]):ud,qe=this.un(e,ve,n[re%C],i),vt=this.cn(e,ve,a[re%C],u),kt=f.map(tn=>this.un(e,ve,tn,!0));T.push(...this.createRange(qe,vt,kt))}return T}un(e,t,n,i){const a=new Ri(e,Sn.empty(),t,n);return i?a:a.Ke()}cn(e,t,n,i){const a=new Ri(e,Sn.empty(),t,n);return i?a.Ke():a}en(e,t){const n=new bs(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)n.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let n=2;return en.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==n&&a.fields.length<function(u){let f=new _n(lr.comparator),_=!1;for(const C of u.filters){const T=C;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field))}for(const C of u.orderBy)C.field.isKeyField()||(f=f.add(C.field));return f.size+(_?1:0)}(i)&&(n=1):n=0})).next(()=>n)}an(e,t){const n=new tr;for(const i of Us(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=n.qe(i.kind);Zc.Te.ce(a,u)}return n.$e()}on(e){const t=new tr;return Zc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const n=new tr;return Zc.Te.ce(ft(this.databaseId,t),n.qe(function(i){const a=Us(i);return 0===a.length?0:a[a.length-1].kind}(e))),n.$e()}sn(e,t,n){if(null===n)return[];let i=[];i.push(new tr);let a=0;for(const u of Us(e)){const f=n[a++];for(const _ of i)if(this.ln(t,u.fieldPath)&&Wt(f))i=this.fn(i,u,f);else{const C=_.qe(u.kind);Zc.Te.ce(f,C)}}return this.dn(i)}nn(e,t,n){return this.sn(e,t,n.position)}dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].$e();return t}fn(e,t,n){const i=[...e],a=[];for(const u of n.arrayValue.values||[])for(const f of i){const _=new tr;_.seed(f.$e()),Zc.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(n=>n instanceof Nr&&n.field.isEqual(t)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(e,t){const n=Qo(e),i=lh(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(a=>{const u=[];return en.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(C,T){const re=T?new Ol(T.sequenceNumber,new eo(mo(T.readTime),new Sn(rc(T.documentKey)),T.largestBatchId)):Ol.empty(),ve=C.fields.map(([qe,vt])=>new va(lr.fromServerFormat(qe),vt));return new zo(C.indexId,C.collectionGroup,ve,re)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:ci(n.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=Qo(e),a=lh(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>en.forEach(f,_=>a.put(w_(_.indexId,this.user,u,n)))))}updateIndexEntries(e,t){const n=new Map;return en.forEach(t,(i,a)=>{const u=n.get(i.collectionGroup);return(u?en.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(n.set(i.collectionGroup,f),en.forEach(f,_=>this.wn(e,i,_).next(C=>{const T=this.mn(a,_);return C.isEqual(T)?en.resolve():this.gn(e,a,_,C,T)}))))})}yn(e,t,n,i){return Pi(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}pn(e,t,n,i){return Pi(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const i=Pi(e);let a=new _n(Oi);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(u,f)=>{a=a.add(new Ri(n.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let n=new _n(Oi);const i=this.an(t,e);if(null==i)return n;const a=ka(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Wt(u))for(const f of u.arrayValue.values||[])n=n.add(new Ri(t.indexId,e.key,this.on(f),i))}else n=n.add(new Ri(t.indexId,e.key,ud,i));return n}gn(e,t,n,i,a){In("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,C,T,re){const ve=f.getIterator(),qe=_.getIterator();let vt=Wn(ve),kt=Wn(qe);for(;vt||kt;){let tn=!1,An=!1;if(vt&&kt){const Zn=C(vt,kt);Zn<0?An=!0:Zn>0&&(tn=!0)}else null!=vt?An=!0:tn=!0;tn?(T(kt),kt=Wn(qe)):An?(re(vt),vt=Wn(ve)):(vt=Wn(ve),kt=Wn(qe))}}(i,a,Oi,f=>{u.push(this.yn(e,t,n,f))},f=>{u.push(this.pn(e,t,n,f))}),en.waitFor(u)}_n(e){let t=1;return lh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((u,f)=>Oi(u,f)).filter((u,f,_)=>!f||0!==Oi(u,_[f-1]));const i=[];i.push(e);for(const u of n){const f=Oi(u,e),_=Oi(u,t);if(0===f)i[0]=e.Ke();else if(f>0&&_<0)i.push(u),i.push(u.Ke());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,ud,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,ud,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_p)}getMinOffset(e,t){return en.mapArray(this.tn(t),n=>this.en(e,n).next(i=>i||Un())).next(_p)}}function ds(o){return qo(o,"collectionParents")}function Pi(o){return qo(o,"indexEntries")}function Qo(o){return qo(o,"indexConfiguration")}function lh(o){return qo(o,"indexState")}function _p(o){fi(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<o.length;n++){const i=o[n].indexState.offset;Vc(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new eo(e.readTime,e.documentKey,t)}const oa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Za{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function I_(o,e,t){const n=o.store("mutations"),i=o.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=n.Z({range:u},(T,re,ve)=>(f++,ve.delete()));a.push(_.next(()=>{fi(1===f)}));const C=[];for(const T of t.mutations){const re=h_(e,T.key.path,t.batchId);a.push(i.delete(re)),C.push(T.key)}return en.waitFor(a).next(()=>C)}function ch(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw Un();e=o.noDocument}return JSON.stringify(e).length}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class dd{constructor(e,t,n,i){this.userId=e,this.It=t,this.indexManager=n,this.referenceDelegate=i,this.In={}}static oe(e,t,n,i){fi(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new dd(a,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).Z({index:"userMutationsIndex",range:n},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,n,i){const a=Pa(e),u=Xc(e);return u.add({}).next(f=>{fi("number"==typeof f);const _=new Lm(f,t,n,i),C=function(ve,qe,vt){const kt=vt.baseMutations.map(An=>sd(ve.re,An)),tn=vt.mutations.map(An=>sd(ve.re,An));return{userId:qe,batchId:vt.batchId,localWriteTimeMs:vt.localWriteTime.toMillis(),baseMutations:kt,mutations:tn}}(this.It,this.userId,_),T=[];let re=new _n((ve,qe)=>ci(ve.canonicalString(),qe.canonicalString()));for(const ve of i){const qe=h_(this.userId,ve.key.path,f);re=re.add(ve.key.path.popLast()),T.push(u.put(C)),T.push(a.put(qe,Sm))}return re.forEach(ve=>{T.push(this.indexManager.addToCollectionParentIndex(e,ve))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),en.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Xc(e).get(t).next(n=>n?(fi(n.userId===this.userId),Kc(this.It,n)):null)}Tn(e,t){return this.In[t]?en.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const i=n.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return Xc(e).Z({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(fi(f.batchId>=n),a=Kc(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Xc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{n=a.batchId,u.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xc(e).W("userMutationsIndex",t).next(n=>n.map(i=>Kc(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Im(this.userId,t.path),i=IDBKeyRange.lowerBound(n),a=[];return Pa(e).Z({range:i},(u,f,_)=>{const[C,T,re]=u,ve=rc(T);if(C===this.userId&&t.path.isEqual(ve))return Xc(e).get(re).next(qe=>{if(!qe)throw Un();fi(qe.userId===this.userId),a.push(Kc(this.It,qe))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _n(ci);const i=[];return t.forEach(a=>{const u=Im(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Pa(e).Z({range:f},(C,T,re)=>{const[ve,qe,vt]=C,kt=rc(qe);ve===this.userId&&a.path.isEqual(kt)?n=n.add(vt):re.done()});i.push(_)}),en.waitFor(i).next(()=>this.En(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,a=Im(this.userId,n),u=IDBKeyRange.lowerBound(a);let f=new _n(ci);return Pa(e).Z({range:u},(_,C,T)=>{const[re,ve,qe]=_,vt=rc(ve);re===this.userId&&n.isPrefixOf(vt)?vt.length===i&&(f=f.add(qe)):T.done()}).next(()=>this.En(e,f))}En(e,t){const n=[],i=[];return t.forEach(a=>{i.push(Xc(e).get(a).next(u=>{if(null===u)throw Un();fi(u.userId===this.userId),n.push(Kc(this.It,u))}))}),en.waitFor(i).next(()=>n)}removeMutationBatch(e,t){return I_(e.ie,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),en.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return en.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return Pa(e).Z({range:n},(a,u,f)=>{if(a[0]===this.userId){const _=rc(a[1]);i.push(_)}else f.done()}).next(()=>{fi(0===i.length)})})}containsKey(e,t){return Qc(e,this.userId,t)}Rn(e){return yp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Qc(o,e,t){const n=Im(e,t.path),i=n[1],a=IDBKeyRange.lowerBound(n);let u=!1;return Pa(o).Z({range:a,X:!0},(f,_,C)=>{const[T,re,ve]=f;T===e&&re===i&&(u=!0),C.done()}).next(()=>u)}function Xc(o){return qo(o,"mutations")}function Pa(o){return qo(o,"documentMutations")}function yp(o){return qo(o,"mutationQueues")}class Jc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Jc(0)}static vn(){return new Jc(-1)}}class Sy{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const n=new Jc(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ai.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.Vn(e)).next(n=>(fi(n.targetCount>0),n.targetCount-=1,this.Sn(e,n)))}removeTargets(e,t,n){let i=0;const a=[];return Au(e).Z((u,f)=>{const _=sh(f);_.sequenceNumber<=t&&null===n.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>en.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Au(e).Z((n,i)=>{const a=sh(i);t(a)})}Vn(e){return S_(e).get("targetGlobalKey").next(t=>(fi(null!==t),t))}Sn(e,t){return S_(e).put("targetGlobalKey",t)}Dn(e,t){return Au(e).put(oh(this.It,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const n=Ko(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Au(e).Z({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const C=sh(f);za(t,C.target)&&(a=C,_.done())}).next(()=>a)}addMatchingKeys(e,t,n){const i=[],a=eu(e);return t.forEach(u=>{const f=sa(u.path);i.push(a.put({targetId:n,path:f})),i.push(this.referenceDelegate.addReference(e,n,u))}),en.waitFor(i)}removeMatchingKeys(e,t,n){const i=eu(e);return en.forEach(t,a=>{const u=sa(a.path);return en.waitFor([i.delete([n,u]),this.referenceDelegate.removeReference(e,n,a)])})}removeMatchingKeysForTargetId(e,t){const n=eu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=eu(e);let a=ji();return i.Z({range:n,X:!0},(u,f,_)=>{const C=rc(u[1]),T=new Sn(C);a=a.add(T)}).next(()=>a)}containsKey(e,t){const n=sa(t.path),i=IDBKeyRange.bound([n],[vu(n)],!1,!0);let a=0;return eu(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],_,C)=>{0!==u&&(a++,C.done())}).next(()=>a>0)}se(e,t){return Au(e).get(t).next(n=>n?sh(n):null)}}function Au(o){return qo(o,"targets")}function S_(o){return qo(o,"targetGlobal")}function eu(o){return qo(o,"targetDocuments")}function Tu([o,e],[t,n]){const i=ci(o,t);return 0===i?ci(e,n):i}class sr{constructor(e){this.xn=e,this.buffer=new _n(Tu),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Tu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;In("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(n){ba(n)?In("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Os(n)}yield t.Fn(3e5)}))}}class bp{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(0===t)return en.resolve(E.at);const n=new sr(t);return this.$n.forEachTarget(e,i=>n.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>n.Mn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector","Garbage collection skipped; disabled"),en.resolve(oa)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(In("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oa):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let n,i,a,u,f,_,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(re=>(re>this.params.maximumSequenceNumbersToCollect?(In("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${re}`),i=this.params.maximumSequenceNumbersToCollect):i=re,u=Date.now(),this.nthSequenceNumber(e,i))).next(re=>(n=re,f=Date.now(),this.removeTargets(e,n,t))).next(re=>(a=re,_=Date.now(),this.removeOrphanedDocuments(e,n))).next(re=>(C=Date.now(),Ra()<=Le.in.DEBUG&&In("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${re} documents in `+(C-_)+`ms\nTotal Duration: ${C-T}ms`),en.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:re})))}}class Vm{constructor(e,t){this.db=e,this.garbageCollector=new bp(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}qn(e){let t=0;return this.Ln(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(n,i)=>t(i))}addReference(e,t,n){return Fa(e,n)}removeReference(e,t,n){return Fa(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Fa(e,t)}Gn(e,t){return function(n,i){let a=!1;return yp(n).tt(u=>Qc(n,u,i).next(f=>(f&&(a=!0),en.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(C=>{if(!C)return a++,n.getEntry(e,u).next(()=>(n.removeEntry(u,ai.min()),eu(e).delete([0,sa(u.path)])))});i.push(_)}}).next(()=>en.waitFor(i)).next(()=>n.apply(e)).next(()=>a)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Fa(e,t)}Kn(e,t){const n=eu(e);let i,a=E.at;return n.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:C})=>{0===u?(a!==E.at&&t(new Sn(rc(i)),a),a=C,i=_):a=E.at}).next(()=>{a!==E.at&&t(new Sn(rc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fa(o,e){return eu(o).put((n=o.currentSequenceNumber,{targetId:0,path:sa(e.path),sequenceNumber:n}));var n}class uh{constructor(){this.changes=new Wc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?en.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fl{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Ec(e).put(n)}removeEntry(e,t,n){return Ec(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],sf(a),u[u.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Qn(e,n)))}getEntry(e,t){let n=rr.newInvalidDocument(t);return Ec(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pl(t))},(i,a)=>{n=this.jn(t,a)}).next(()=>n)}Wn(e,t){let n={size:0,document:rr.newInvalidDocument(t)};return Ec(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pl(t))},(i,a)=>{n={document:this.jn(t,a),size:ch(a)}}).next(()=>n)}getEntries(e,t){let n=Ya();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);n=n.insert(i,u)}).next(()=>n)}Hn(e,t){let n=Ya(),i=new st(Sn.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);n=n.insert(a,f),i=i.insert(a,ch(u))}).next(()=>({documents:n,Jn:i}))}zn(e,t,n){if(t.isEmpty())return en.resolve();let i=new _n(wp);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(pl(i.first()),pl(i.last())),u=i.getIterator();let f=u.getNext();return Ec(e).Z({index:"documentKeyIndex",range:a},(_,C,T)=>{const re=Sn.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;f&&wp(f,re)<0;)n(f,null),f=u.getNext();f&&f.isEqual(re)&&(n(f,C),f=u.hasNext()?u.getNext():null),f?T.j(pl(f)):T.done()}).next(()=>{for(;f;)n(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,n){const i=[t.popLast().toArray(),t.lastSegment(),sf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ec(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=Ya();for(const _ of u){const C=this.jn(Sn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(C.key,C)}return f})}getAllFromCollectionGroup(e,t,n,i){let a=Ya();const u=Hm(t,n),f=Hm(t,eo.max());return Ec(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,C,T)=>{const re=this.jn(Sn.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(re.key,re),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new qa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Um(e).get("remoteDocumentGlobalKey").next(t=>(fi(!!t),t))}Qn(e,t){return Um(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const n=function fp(o,e){let t;if(e.document)t=a_(o.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Sn.fromSegments(e.noDocument.path),i=mo(e.noDocument.readTime);t=rr.newNoDocument(n,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Un();{const n=Sn.fromSegments(e.unknownDocument.path),i=mo(e.unknownDocument.version);t=rr.newUnknownDocument(n,i)}}return e.readTime&&t.setReadTime(function(n){const i=new er(n[0],n[1]);return ai.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(ai.min()))return n}return rr.newInvalidDocument(e)}}function A_(o){return new fl(o)}class qa extends uh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Wc(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const t=[];let n=0,i=new _n((a,u)=>ci(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=Su(this.Yn.It,u);i=i.add(a.path.popLast()),n+=ch(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(n-=f.size,this.trackRemovals){const _=Su(this.Yn.It,u.convertToNoDocument(ai.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,n)),en.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(n=>(this.Xn.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:n,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:n.get(a).readTime})}),n))}}function Um(o){return qo(o,"remoteDocumentGlobal")}function Ec(o){return qo(o,"remoteDocumentsV14")}function pl(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hm(o,e){const t=e.documentKey.path.toArray();return[o,sf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wp(o,e){const t=o.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<n.length-2;++a)if(i=ci(t[a],n[a]),i)return i;return i=ci(t.length,n.length),i||(i=ci(t[t.length-2],n[n.length-2]),i||ci(t[t.length-1],n[n.length-1]))}class T_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class R_{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.getBaseDocument(e,t,n))).next(i=>(null!==n&&ed(n.mutation,i,yi.empty(),er.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ji()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ji()){const i=vc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let u=td();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=vc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ji()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,n,i){let a=Ya();const u=bc(),f=bc();return t.forEach((_,C)=>{const T=n.get(C.key);i.has(C.key)&&(void 0===T||T.mutation instanceof nc)?a=a.insert(C.key,C):void 0!==T&&(u.set(C.key,T.mutation.getFieldMask()),ed(T.mutation,C,T.mutation.getFieldMask(),er.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((C,T)=>u.set(C,T)),t.forEach((C,T)=>{var re;return f.set(C,new T_(T,null!==(re=u.get(C))&&void 0!==re?re:null))}),f))}recalculateAndSaveOverlays(e,t){const n=bc();let i=new st((u,f)=>u-f),a=ji();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=n.get(_)||yi.empty();T=f.applyToLocalView(C,T),n.set(_,T);const re=(i.get(f.batchId)||ji()).add(_);i=i.insert(f.batchId,re)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),C=_.key,T=_.value,re=bm();T.forEach(ve=>{if(!a.has(ve)){const qe=Ju(t.get(ve),n.get(ve));null!==qe&&re.set(ve,qe),a=a.add(ve)}}),u.push(this.documentOverlayCache.saveOverlays(e,C,re))}return en.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n){return Sn.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):tc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n);var i}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):en.resolve(vc());let f=-1,_=a;return u.next(C=>en.forEach(C,(T,re)=>(f<re.largestBatchId&&(f=re.largestBatchId),a.get(T)?en.resolve():this.getBaseDocument(e,T,re).next(ve=>{_=_.insert(T,ve)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,_,C,ji())).next(T=>({batchId:f,changes:vm(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sn(t)).next(n=>{let i=td();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let a=td();return this.indexManager.getCollectionParents(e,i).next(u=>en.forEach(u,f=>{const _=(C=t,T=f.child(i),new dl(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,n).next(C=>{C.forEach((T,re)=>{a=a.insert(T,re)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId))).next(a=>{a.forEach((f,_)=>{const C=_.getKey();null===i.get(C)&&(i=i.insert(C,rr.newInvalidDocument(C)))});let u=td();return i.forEach((f,_)=>{const C=a.get(f);void 0!==C&&ed(C.mutation,_,yi.empty(),er.now()),Q(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):en.resolve(rr.newInvalidDocument(t))}}class tu{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return en.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ar(n.createTime)}),en.resolve()}getNamedQuery(e,t){return en.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(n=t).name,query:Fo(n.bundledQuery),readTime:Ar(n.readTime)}),en.resolve();var n}}class k_{constructor(){this.overlays=new st(Sn.comparator),this.es=new Map}getOverlay(e,t){return en.resolve(this.overlays.get(t))}getOverlays(e,t){const n=vc();return en.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.ue(e,t,a)}),en.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.es.get(n);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(n)),en.resolve()}getOverlaysForCollection(e,t,n){const i=vc(),a=t.length+1,u=new Sn(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&_.largestBatchId>n&&i.set(_.getKey(),_)}return en.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new st((C,T)=>C-T);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>n){let T=a.get(C.largestBatchId);null===T&&(T=vc(),a=a.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const f=vc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>f.set(C,T)),!(f.size()>=i)););return en.resolve(f)}ue(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new ad(t,n));let a=this.es.get(t);void 0===a&&(a=ji(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}class cf{constructor(){this.ns=new _n(Lo.ss),this.rs=new _n(Lo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Lo(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.cs(new Lo(e,t))}hs(e,t){e.forEach(n=>this.removeReference(n,t))}ls(e){const t=new Sn(new Di([])),n=new Lo(t,e),i=new Lo(t,e+1),a=[];return this.rs.forEachInRange([n,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Sn(new Di([])),n=new Lo(t,e),i=new Lo(t,e+1);let a=ji();return this.rs.forEachInRange([n,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Lo(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Sn.comparator(e.key,t.key)||ci(e._s,t._s)}static os(e,t){return ci(e._s,t._s)||Sn.comparator(e.key,t.key)}}class O_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new _n(Lo.ss)}checkEmpty(e){return en.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const a=this.ws;this.ws++;const u=new Lm(a,t,n,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new Lo(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return en.resolve(u)}lookupMutationBatch(e,t){return en.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return en.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return en.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return en.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lo(t,0),i=new Lo(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([n,i],u=>{const f=this.ys(u._s);a.push(f)}),en.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _n(ci);return t.forEach(i=>{const a=new Lo(i,0),u=new Lo(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{n=n.add(f._s)})}),en.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Sn.isDocumentKey(a)||(a=a.child(""));const u=new Lo(new Sn(a),0);let f=new _n(ci);return this.gs.forEachWhile(_=>{const C=_.key.path;return!!n.isPrefixOf(C)&&(C.length===i&&(f=f.add(_._s)),!0)},u),en.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(n=>{const i=this.ys(n);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){fi(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return en.forEach(t.mutations,i=>{const a=new Lo(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){const n=new Lo(t,0),i=this.gs.firstAfterOrEqual(n);return en.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return en.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jm{constructor(e){this.Es=e,this.docs=new st(Sn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return en.resolve(n?n.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let n=Ya();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():rr.newInvalidDocument(i))}),en.resolve(n)}getAllFromCollection(e,t,n){let i=Ya();const a=new Sn(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Vc(Bc(_),n)<=0||(i=i.insert(_.key,_.mutableCopy()))}return en.resolve(i)}getAllFromCollectionGroup(e,t,n,i){Un()}As(e,t){return en.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new hs(this)}getSize(e){return en.resolve(this.size)}}class hs extends uh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(n)}),en.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Cp{constructor(e){this.persistence=e,this.Rs=new Wc(t=>Ko(t),za),this.lastRemoteSnapshotVersion=ai.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cf,this.targetCount=0,this.vs=Jc.Pn()}forEachTarget(e,t){return this.Rs.forEach((n,i)=>t(i)),en.resolve()}getLastRemoteSnapshotVersion(e){return en.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return en.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),en.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),en.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,en.resolve()}updateTargetData(e,t){return this.Dn(t),en.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,en.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===n.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),en.waitFor(a).next(()=>i)}getTargetCount(e){return en.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return en.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),en.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),en.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),en.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return en.resolve(n)}containsKey(e,t){return en.resolve(this.Ps.containsKey(t))}}class uf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new E(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Cp(this),this.indexManager=new M_,this.remoteDocumentCache=new jm(n=>this.referenceDelegate.xs(n)),this.It=new b_(t),this.Ns=new tu(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new O_(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){In("MemoryPersistence","Starting transaction:",e);const i=new df(this.Ss.next());return this.referenceDelegate.ks(),n(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return en.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class df extends bu{constructor(e){super(),this.currentSequenceNumber=e}}class Ru{constructor(e){this.persistence=e,this.Fs=new cf,this.$s=null}static Bs(e){return new Ru(e)}get Ls(){if(this.$s)return this.$s;throw Un()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),en.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),en.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),en.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return en.forEach(this.Ls,n=>{const i=Sn.fromPath(n);return this.Us(e,i).next(a=>{a||t.removeEntry(i,ai.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(n=>{n?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return en.or([()=>en.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class hd{constructor(e){this.It=e}$(e,t,n,i){const a=new zr("createOrUpgrade",t);var f;n<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ih,{unique:!0}),f.createObjectStore("documentMutations"),Ul(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=en.resolve();return n<3&&i>=3&&(0!==n&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Ul(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ai.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(a))),n<4&&i>=4&&(0!==n&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(C=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ih,{unique:!0});const T=_.store("mutations"),re=C.map(ve=>T.put(ve));return en.waitFor(re)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(u=u.next(()=>this.qs(a))),n<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),n<7&&i>=7&&(u=u.next(()=>this.Gs(a))),n<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),n<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(u=u.next(()=>this.js(a))),n<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:hp});_.createIndex("collectionPathOverlayIndex",My,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",km,{unique:!1})}(e)})),n<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:f_});_.createIndex("documentKeyIndex",p_),_.createIndex("collectionGroupIndex",m_)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),n<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Am}).createIndex("sequenceNumberIndex",y_,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Tm}).createIndex("documentKeyIndex",Rm,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((n,i)=>{t+=ch(i)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}qs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next(i=>en.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",u).next(f=>en.forEach(f,_=>{fi(_.userId===a.userId);const C=Kc(this.It,_);return I_(e,a.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return n.Z((u,f)=>{const _=new Di(u),C=[0,sa(_)];a.push(t.get(C).next(T=>T?en.resolve():t.put({targetId:0,path:sa(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>en.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:__});const n=t.store("collectionParents"),i=new gp,a=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return n.put({collectionId:f,parent:sa(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new Di(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],C)=>{const T=rc(f);return a(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((n,i)=>{const a=sh(i),u=oh(this.It,a);return t.put(u)})}Ws(e,t){const n=t.store("remoteDocuments"),i=[];return n.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(C=u,C.document?new Sn(Di.fromString(C.document.name).popFirst(5)):C.noDocument?Sn.fromSegments(C.noDocument.path):C.unknownDocument?Sn.fromSegments(C.unknownDocument.path):Un()).path.toArray();var C;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(T))}).next(()=>en.waitFor(i))}zs(e,t){const n=t.store("mutations"),i=A_(this.It),a=new uf(Ru.Bs,this.It.re);return n.W().next(u=>{const f=new Map;return u.forEach(_=>{var C;let T=null!==(C=f.get(_.userId))&&void 0!==C?C:ji();Kc(this.It,_).keys().forEach(re=>T=T.add(re)),f.set(_.userId,T)}),en.forEach(f,(_,C)=>{const T=new Ui(C),re=ah.oe(this.It,T),ve=a.getIndexManager(T),qe=dd.oe(T,this.It,ve,a.referenceDelegate);return new R_(i,qe,re,ve).recalculateAndSaveOverlaysForDocumentKeys(new Fm(t,E.at),_).next()})})}}function Ul(o){o.createObjectStore("targetDocuments",{keyPath:dv}).createIndex("documentTargetsIndex",g_,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uv,{unique:!0}),o.createObjectStore("targetGlobal")}const oc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fi{constructor(e,t,n,i,a,u,f,_,C,T,re=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=a,this.window=u,this.document=f,this.Js=C,this.Ys=T,this.Xs=re,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ve=>Promise.resolve(),!Fi.C())throw new Cn(nn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vm(this,i),this.ii=t+"main",this.It=new b_(_),this.ri=new js(this.ii,this.Xs,new hd(this.It)),this.Cs=new Sy(this.referenceDelegate,this.It),this.remoteDocumentCache=A_(this.It),this.Ns=new C_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Cn(nn.FAILED_PRECONDITION,oc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new E(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var n=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(n){null===n.newVersion&&(yield e())});return function(n){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ku(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ba(e))return In("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return In("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return dh(e).get("owner").next(t=>en.resolve(this.mi(t)))}gi(e){return ku(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=qo(n,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return en.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const n of t)e.oi.removeItem(e.Ti(n.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?en.resolve(!0):dh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Cn(nn.FAILED_PRECONDITION,oc);return!1}}return!(!this.networkEnabled||!this.inForeground)||ku(e).W().next(n=>void 0===this.Ii(n,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&In("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new Fm(t,E.at);return e._i(n).next(()=>e.gi(n))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(n=>this.pi(n.updateTimeMs,t)&&!this.Ei(n.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ku(e).W().next(t=>this.Ii(t,18e5).map(n=>n.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return dd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sc(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ah.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){In("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?Pm:14===u?Om:13===u?v_:12===u?Iy:11===u?rh:void Un();var u;let f;return this.ri.runTransaction(e,i,a,_=>(f=new Fm(_,this.Ss?this.Ss.next():E.at),"readwrite-primary"===t?this.fi(f).next(C=>!!C||this.di(f)).next(C=>{if(!C)throw $r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Cn(nn.FAILED_PRECONDITION,vs);return n(f)}).next(C=>this.wi(f).next(()=>C)):this.Vi(f).next(()=>n(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return dh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Cn(nn.FAILED_PRECONDITION,oc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dh(e).put("owner",t)}static C(){return js.C()}_i(e){const t=dh(e);return t.get("owner").next(n=>this.mi(n)?(In("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):en.resolve())}pi(e,t){const n=Date.now();return!(e<n-t||e>n&&($r(`Detected an update time that is in the future: ${e} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,xe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return In("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return $r("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){$r("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dh(o){return qo(o,"owner")}function ku(o){return qo(o,"clientMetadata")}function Gm(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class ws{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=i}static Ci(e,t){let n=ji(),i=ji();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ws(e,t.fromCache,n,i)}}class hh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.ki(e,t).next(a=>a||this.Mi(e,t,i,n)).next(a=>a||this.Oi(e,t))}ki(e,t){if(Yd(t))return en.resolve(null);let n=Mo(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=H(t,null,"F"),n=Mo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const u=ji(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,n).next(_=>{const C=this.Fi(t,f);return this.$i(t,C,u,_.readTime)?this.ki(e,H(t,null,"F")):this.Bi(e,C,t,_)}))})))}Mi(e,t,n,i){return Yd(t)||i.isEqual(ai.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,n,i)?this.Oi(e,t):(Ra()<=Le.in.DEBUG&&In("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),x(t)),this.Bi(e,u,t,Ql(i,-1)))})}Fi(e,t){let n=new _n(pn(e));return t.forEach((i,a)=>{Q(e,a)&&(n=n.add(a))}),n}$i(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return Ra()<=Le.in.DEBUG&&In("QueryEngine","Using full collection scan to execute query:",x(t)),this.Ni.getDocumentsMatchingQuery(e,t,eo.min())}Bi(e,t,n,i){return this.Ni.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class P_{constructor(e,t,n,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new st(ci),this.qi=new Wc(a=>Ko(a),za),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function $m(o,e,t,n){return new P_(o,e,t,n)}function Ou(o,e){return hf.apply(this,arguments)}function hf(){return hf=(0,be.Z)(function*(o,e){const t=jn(o);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const u=[],f=[];let _=ji();for(const C of i){u.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of a){f.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(n,_).next(C=>({ji:C,removedBatchIds:u,addedBatchIds:f}))})})}),hf.apply(this,arguments)}function zm(o,e){const t=jn(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,C){const T=_.batch,re=T.keys();let ve=en.resolve();return re.forEach(qe=>{ve=ve.next(()=>C.getEntry(f,qe)).next(vt=>{const kt=_.docVersions.get(qe);fi(null!==kt),vt.version.compareTo(kt)<0&&(T.applyToRemoteDocument(vt,_),vt.isValidDocument()&&(vt.setReadTime(_.commitVersion),C.addEntry(vt)))})}),ve.next(()=>u.mutationQueue.removeMutationBatch(f,T))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let f=ji();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function Wm(o){const e=jn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ay(o,e){const t=jn(o),n=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((T,re)=>{const ve=i.get(re);if(!ve)return;f.push(t.Cs.removeMatchingKeys(a,T.removedDocuments,re).next(()=>t.Cs.addMatchingKeys(a,T.addedDocuments,re)));let qe=ve.withSequenceNumber(a.currentSequenceNumber);var vt,kt,tn;e.targetMismatches.has(re)?qe=qe.withResumeToken(ur.EMPTY_BYTE_STRING,ai.min()).withLastLimboFreeSnapshotVersion(ai.min()):T.resumeToken.approximateByteSize()>0&&(qe=qe.withResumeToken(T.resumeToken,n)),i=i.insert(re,qe),kt=qe,tn=T,(0===(vt=ve).resumeToken.approximateByteSize()||kt.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||tn.addedDocuments.size+tn.modifiedDocuments.size+tn.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,qe))});let _=Ya(),C=ji();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(ml(a,u,e.documentUpdates).next(T=>{_=T.Wi,C=T.zi})),!n.isEqual(ai.min())){const T=t.Cs.getLastRemoteSnapshotVersion(a).next(re=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,n));f.push(T)}return en.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,C)).next(()=>_)}).then(a=>(t.Ui=i,a))}function ml(o,e,t){let n=ji(),i=ji();return t.forEach(a=>n=n.add(a)),e.getEntries(o,n).next(a=>{let u=Ya();return t.forEach((f,_)=>{const C=a.get(f);_.isFoundDocument()!==C.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(ai.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):In("LocalStore","Ignoring outdated watch update for ",f,". Current version:",C.version," Watch version:",_.version)}),{Wi:u,zi:i}})}function F_(o,e){const t=jn(o);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Pu(o,e){const t=jn(o);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Cs.getTargetData(n,e).next(a=>a?(i=a,en.resolve(i)):t.Cs.allocateTargetId(n).next(u=>(i=new Iu(e,u,0,n.currentSequenceNumber),t.Cs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ui.get(n.targetId);return(null===i||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(n.targetId,n),t.qi.set(e,n.targetId)),n})}function ac(o,e,t){return fd.apply(this,arguments)}function fd(){return fd=(0,be.Z)(function*(o,e,t){const n=jn(o),i=n.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",a,u=>n.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!ba(u))throw u;In("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ui=n.Ui.remove(e),n.qi.delete(i.target)}),fd.apply(this,arguments)}function Fu(o,e,t){const n=jn(o);let i=ai.min(),a=ji();return n.persistence.runTransaction("Execute query","readonly",u=>function(f,_,C){const T=jn(f),re=T.qi.get(C);return void 0!==re?en.resolve(T.Ui.get(re)):T.Cs.getTargetData(_,C)}(n,u,Mo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>n.Li.getDocumentsMatchingQuery(u,e,t?i:ai.min(),t?a:ji())).next(f=>(fh(n,Ue(e),f),{documents:f,Hi:a})))}function L_(o,e){const t=jn(o),n=jn(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>n.se(a,e).next(u=>u?u.target:null))}function ff(o,e){const t=jn(o),n=t.Ki.get(e)||ai.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Ql(n,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fh(t,e,i),i))}function fh(o,e,t){let n=ai.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),o.Ki.set(e,n)}function ph(){return ph=(0,be.Z)(function*(o,e,t,n){const i=jn(o);let a=ji(),u=Ya();for(const C of t){const T=e.Ji(C.metadata.name);C.document&&(a=a.add(T));const re=e.Yi(C);re.setReadTime(e.Xi(C.metadata.readTime)),u=u.insert(T,re)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Pu(i,(C=n,Mo(ec(Di.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>ml(C,f,u).next(T=>(f.apply(C),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(C,_.targetId).next(()=>i.Cs.addMatchingKeys(C,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(C,T.Wi,T.zi)).next(()=>T.Wi)))}),ph.apply(this,arguments)}function Gi(o,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,be.Z)(function*(o,e,t=ji()){const n=yield Pu(o,Mo(Fo(e.bundledQuery))),i=jn(o);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Ar(e.readTime);if(n.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const f=n.withResumeToken(ur.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,n.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,n.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Dp.apply(this,arguments)}function Ym(o,e){return`firestore_clients_${o}_${e}`}function pf(o,e,t){let n=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function Km(o,e){return`firestore_targets_${o}_${e}`}class mh{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Zi(e,t,n){const i=JSON.parse(n);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Cn(i.error.code,i.error.message))),u?new mh(e,t,i.state,a):($r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gh{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let i,a="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return a&&n.error&&(a="string"==typeof n.error.message&&"string"==typeof n.error.code,a&&(i=new Cn(n.error.code,n.error.message))),a?new gh(e,n.state,i):($r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,a=Jd();for(let u=0;i&&u<n.activeTargetIds.length;++u)i=ia(n.activeTargetIds[u]),a=a.add(n.activeTargetIds[u]);return i?new pd(e,a):($r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mf(t.clientId,t.onlineState):($r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ep{constructor(){this.activeTargetIds=Jd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _h{constructor(e,t,n,i,a){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new st(ci),this.started=!1,this.cr=[];const u=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Ym(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ep),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Ym(e.persistenceKey,i));if(a){const u=pd.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const n=e.storage.getItem(e.wr);if(n){const i=e.yr(n);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Km(this.persistenceKey,e));if(n){const i=gh.Zi(e,n);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Km(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach(i=>{this.Er(i)}),this.currentUser=e,n.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return In("SharedClientState","READ",e,t),t}setItem(e,t){In("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){In("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(In("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void $r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==n.key)if(t.lr.test(n.key)){if(null==n.newValue){const i=t.vr(n.key);return t.Vr(i,null)}{const i=t.Sr(n.key,n.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(n.key)){if(null!==n.newValue){const i=t.Dr(n.key,n.newValue);if(i)return t.Cr(i)}}else if(t._r.test(n.key)){if(null!==n.newValue){const i=t.Nr(n.key,n.newValue);if(i)return t.kr(i)}}else if(n.key===t.wr){if(null!==n.newValue){const i=t.yr(n.newValue);if(i)return t.pr(i)}}else if(n.key===t.hr){const i=function(a){let u=E.at;if(null!=a)try{const f=JSON.parse(a);fi("number"==typeof f),u=f}catch(f){$r("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(n.newValue);i!==E.at&&t.sequenceNumberHandler(i)}else if(n.key===t.mr){const i=t.Mr(n.newValue);yield Promise.all(i.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(n)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const i=new mh(this.currentUser,e,t,n),a=pf(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=pf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,n){const i=Km(this.persistenceKey,e),a=new gh(e,t,n);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return pd.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),i=Number(n[1]);return mh.Zi(new Ui(void 0!==n[2]?n[2]:null),i,t)}Nr(e,t){const n=this._r.exec(e),i=Number(n[1]);return gh.Zi(i,t)}yr(e){return mf.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);In("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(n),u=[],f=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=n})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Jd();return e.forEach((n,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Ry{constructor(){this.Lr=new Ep,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,n){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ep,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gf{qr(e){}shutdown(){}}class Lu{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){In("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){In("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Zm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class qm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,i,a){const u=this.ao(e,t);In("RestConnection","Sending: ",u,n);const f={};return this.ho(f,i,a),this.lo(e,u,f,n).then(_=>(In("RestConnection","Received: ",_),_),_=>{throw ir("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",n),_})}fo(e,t,n,i,a,u){return this.co(e,t,n,i,a)}ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+al,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.oo}/v1/${t}:${nu[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,n,i){return new Promise((a,u)=>{const f=new Al;f.listenOnce(gc.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ks.NO_ERROR:const C=f.getResponseJson();In("Connection","XHR received:",JSON.stringify(C)),a(C);break;case ks.TIMEOUT:In("Connection",'RPC "'+e+'" timed out'),u(new Cn(nn.DEADLINE_EXCEEDED,"Request time out"));break;case ks.HTTP_ERROR:const T=f.getStatus();if(In("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const re=f.getResponseJson().error;if(re&&re.status&&re.message){const ve=function(qe){const vt=qe.toLowerCase().replace(/_/g,"-");return Object.values(nn).indexOf(vt)>=0?vt:nn.UNKNOWN}(re.status);u(new Cn(ve,re.message))}else u(new Cn(nn.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Cn(nn.UNAVAILABLE,"Connection failed."));break;default:Un()}}finally{In("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,n,15)})}_o(e,t,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ta(),u=ol(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new nt({})),this.ho(f.initMessageHeaders,t,n),f.encodeInitMessageHeaders=!0;const _=i.join("");In("Connection","Creating WebChannel: "+_,f);const C=a.createWebChannel(_,f);let T=!1,re=!1;const ve=new Zm({Hr:vt=>{re?In("Connection","Not sending because WebChannel is closed:",vt):(T||(In("Connection","Opening WebChannel transport."),C.open(),T=!0),In("Connection","WebChannel sending:",vt),C.send(vt))},Jr:()=>C.close()}),qe=(vt,kt,tn)=>{vt.listen(kt,An=>{try{tn(An)}catch(Zn){setTimeout(()=>{throw Zn},0)}})};return qe(C,ho.EventType.OPEN,()=>{re||In("Connection","WebChannel transport opened.")}),qe(C,ho.EventType.CLOSE,()=>{re||(re=!0,In("Connection","WebChannel transport closed"),ve.io())}),qe(C,ho.EventType.ERROR,vt=>{re||(re=!0,ir("Connection","WebChannel transport errored:",vt),ve.io(new Cn(nn.UNAVAILABLE,"The operation could not be completed")))}),qe(C,ho.EventType.MESSAGE,vt=>{var kt;if(!re){const tn=vt.data[0];fi(!!tn);const An=tn,Zn=An.error||(null===(kt=An[0])||void 0===kt?void 0:kt.error);if(Zn){In("Connection","WebChannel received error:",Zn);const Xn=Zn.status;let oi=function(ki){const fr=Yi[ki];if(void 0!==fr)return lp(fr)}(Xn),Jn=Zn.message;void 0===oi&&(oi=nn.INTERNAL,Jn="Unknown error status: "+Xn+" with message "+Zn.message),re=!0,ve.io(new Cn(oi,Jn)),C.close()}else In("Connection","WebChannel received:",tn),ve.ro(tn)}}),qe(u,Ho.STAT_EVENT,vt=>{vt.stat===Do.PROXY?In("Connection","Detected buffering proxy"):vt.stat===Do.NOPROXY&&In("Connection","Detected no buffering proxy")}),setTimeout(()=>{ve.so()},0),ve}}function xp(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function Mp(o){return new Po(o,!0)}class N_{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=n,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),i=Math.max(0,t-n);i>0&&In("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class ky{constructor(e,t,n,i,a,u,f,_){this.Hs=e,this.Po=n,this.vo=i,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new N_(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var n=this;return(0,be.Z)(function*(){n.Lo(),n.Uo(),n.xo.cancel(),n.So++,4!==e?n.xo.reset():t&&t.code===nn.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),n.xo.Eo()):t&&t.code===nn.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.qo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.So===t&&this.Go(n,i)},n=>{e(()=>{const i=new Cn(nn.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Qo(i)})})}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{n(()=>this.Qo(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return In("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(In("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hl extends ky{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Ey(o,e){let t;if("targetChange"in e){const n="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Un(),i=e.targetChange.targetIds||[],a=function(_,C){return _.gt?(fi(void 0===C||"string"==typeof C),ur.fromBase64String(C||"")):(fi(void 0===C||C instanceof Uint8Array),ur.fromUint8Array(C||new Uint8Array))}(o,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const C=void 0===_.code?nn.UNKNOWN:lp(_.code);return new Cn(C,_.message||"")}(u);t=new Eu(n,i,a,f||null)}else if("documentChange"in e){const n=e.documentChange,i=Ka(o,n.document.name),a=Ar(n.document.updateTime),u=new us({mapValue:{fields:n.document.fields}}),f=rr.newFoundDocument(i,a,u);t=new id(n.targetIds||[],n.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const n=e.documentDelete,i=Ka(o,n.document),a=n.readTime?Ar(n.readTime):ai.min(),u=rr.newNoDocument(i,a);t=new id([],n.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const n=e.documentRemove,i=Ka(o,n.document);t=new id([],n.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Un();{const n=e.filter,a=new i_(n.count||0);t=new Qh(n.targetId,a)}}var _;return t}(this.It,e),n=function(i){if(!("targetChange"in i))return ai.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ai.min():a.readTime?Ar(a.readTime):ai.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=no(this.It),t.addTarget=function(i,a){let u;const f=a.target;return u=Ud(f)?{documents:th(i,f)}:{query:l_(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=rd(i,a.resumeToken):a.snapshotVersion.compareTo(ai.min())>0&&(u.readTime=Jh(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const n=function xy(o,e){const t=function(n,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Un()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=no(this.It),t.removeTarget=e,this.Bo(t)}}class Ip extends ky{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(fi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function nf(o,e){return o&&o.length>0?(fi(void 0!==e),o.map(t=>function(n,i){let a=Ar(n.updateTime?n.updateTime:i);return a.isEqual(ai.min())&&(a=Ar(i)),new Zd(a,n.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),n=Ar(e.commitTime);return this.listener.Zo(n,t)}return fi(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=no(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>sd(this.It,n))};this.Bo(t)}}class B_ extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=n,this.It=i,this.nu=!1}su(){if(this.nu)throw new Cn(nn.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,t,n,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Cn(nn.UNKNOWN,i.toString())})}fo(e,t,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,n,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Cn(nn.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class Qm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($r(t),this.ou=!1):In("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class iu{constructor(e,t,n,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{n.enqueueAndForget((0,be.Z)(function*(){var _;gl(u)&&(In("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(C){const T=jn(C);T._u.add(4),yield Qa(T),T.gu.set("Unknown"),T._u.delete(4),yield ru(T)}),function(C){return _.apply(this,arguments)})(u))}))}),this.gu=new Qm(n,i)}}function ru(o){return xc.apply(this,arguments)}function xc(){return xc=(0,be.Z)(function*(o){if(gl(o))for(const e of o.wu)yield e(!0)}),xc.apply(this,arguments)}function Qa(o){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,be.Z)(function*(o){for(const e of o.wu)yield e(!1)}),Mc.apply(this,arguments)}function yf(o,e){const t=jn(o);t.du.has(e.targetId)||(t.du.set(e.targetId,e),yh(t)?Xm(t):xf(t).ko()&&md(t,e))}function vf(o,e){const t=jn(o),n=xf(t);t.du.delete(e),n.ko()&&V_(t,e),0===t.du.size&&(n.ko()?n.Fo():gl(t)&&t.gu.set("Unknown"))}function md(o,e){o.yu.Ot(e.targetId),xf(o).zo(e)}function V_(o,e){o.yu.Ot(e),xf(o).Ho(e)}function Xm(o){o.yu=new Cm({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),se:e=>o.du.get(e)||null}),xf(o).start(),o.gu.uu()}function yh(o){return gl(o)&&!xf(o).No()&&o.du.size>0}function gl(o){return 0===jn(o)._u.size}function Jm(o){o.yu=void 0}function bf(o){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,be.Z)(function*(o){o.du.forEach((e,t)=>{md(o,e)})}),Ic.apply(this,arguments)}function wf(o,e){return U_.apply(this,arguments)}function U_(){return U_=(0,be.Z)(function*(o,e){Jm(o),yh(o)?(o.gu.hu(e),Xm(o)):o.gu.set("Unknown")}),U_.apply(this,arguments)}function es(o,e,t){return _l.apply(this,arguments)}function _l(){return _l=(0,be.Z)(function*(o,e,t){if(o.gu.set("Online"),e instanceof Eu&&2===e.state&&e.cause)try{yield(n=(0,be.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.du.delete(f),i.yu.removeTarget(f))}),function(i,a){return n.apply(this,arguments)})(o,e)}catch(n){In("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield gd(o,n)}else if(e instanceof id?o.yu.Gt(e):e instanceof Qh?o.yu.Yt(e):o.yu.Wt(e),!t.isEqual(ai.min()))try{const n=yield Wm(o.localStore);t.compareTo(n)>=0&&(yield function(i,a){const u=i.yu.te(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const C=i.du.get(_);C&&i.du.set(_,C.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=i.du.get(f);if(!_)return;i.du.set(f,_.withResumeToken(ur.EMPTY_BYTE_STRING,_.snapshotVersion)),V_(i,f);const C=new Iu(_.target,f,1,_.sequenceNumber);md(i,C)}),i.remoteSyncer.applyRemoteEvent(u)}(o,t))}catch(n){In("RemoteStore","Failed to raise snapshot:",n),yield gd(o,n)}var n}),_l.apply(this,arguments)}function gd(o,e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,be.Z)(function*(o,e,t){if(!ba(e))throw e;o._u.add(1),yield Qa(o),o.gu.set("Offline"),t||(t=()=>Wm(o.localStore)),o.asyncQueue.enqueueRetryable((0,be.Z)(function*(){In("RemoteStore","Retrying IndexedDB access"),yield t(),o._u.delete(1),yield ru(o)}))}),Sc.apply(this,arguments)}function Sp(o,e){return e().catch(t=>gd(o,t,e))}function su(o){return jl.apply(this,arguments)}function jl(){return jl=(0,be.Z)(function*(o){const e=jn(o),t=Bu(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Gl(e);)try{const i=yield F_(e.localStore,n);if(null===i){0===e.fu.length&&t.Fo();break}n=i.batchId,ou(e,i)}catch(i){yield gd(e,i)}Ap(e)&&au(e)}),jl.apply(this,arguments)}function Gl(o){return gl(o)&&o.fu.length<10}function ou(o,e){o.fu.push(e);const t=Bu(o);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ap(o){return gl(o)&&!Bu(o).No()&&o.fu.length>0}function au(o){Bu(o).start()}function Ac(o){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,be.Z)(function*(o){Bu(o).eu()}),Nu.apply(this,arguments)}function H_(o){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,be.Z)(function*(o){const e=Bu(o);for(const t of o.fu)e.Xo(t.mutations)}),Cf.apply(this,arguments)}function hv(o,e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,be.Z)(function*(o,e,t){const n=o.fu.shift(),i=Dc.from(n,e,t);yield Sp(o,()=>o.remoteSyncer.applySuccessfulWrite(i)),yield su(o)}),Tp.apply(this,arguments)}function fv(o,e){return vh.apply(this,arguments)}function vh(){return vh=(0,be.Z)(function*(o,e){var t;e&&Bu(o).Yo&&(yield(t=(0,be.Z)(function*(n,i){if(r_(a=i.code)&&a!==nn.ABORTED){const u=n.fu.shift();Bu(n).Oo(),yield Sp(n,()=>n.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield su(n)}var a}),function(n,i){return t.apply(this,arguments)})(o,e)),Ap(o)&&au(o)}),vh.apply(this,arguments)}function Df(o,e){return bh.apply(this,arguments)}function bh(){return bh=(0,be.Z)(function*(o,e){const t=jn(o);t.asyncQueue.verifyOperationInProgress(),In("RemoteStore","RemoteStore received new credentials");const n=gl(t);t._u.add(3),yield Qa(t),n&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ru(t)}),bh.apply(this,arguments)}function wh(o,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,be.Z)(function*(o,e){const t=jn(o);e?(t._u.delete(2),yield ru(t)):e||(t._u.add(2),yield Qa(t),t.gu.set("Unknown"))}),Ef.apply(this,arguments)}function xf(o){return o.pu||(o.pu=function(e,t,n){const i=jn(e);return i.su(),new Hl(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,n)}(o.datastore,o.asyncQueue,{Yr:bf.bind(null,o),Zr:wf.bind(null,o),Wo:es.bind(null,o)}),o.wu.push(function(){var e=(0,be.Z)(function*(t){t?(o.pu.Oo(),yh(o)?Xm(o):o.gu.set("Unknown")):(yield o.pu.stop(),Jm(o))});return function(t){return e.apply(this,arguments)}}())),o.pu}function Bu(o){return o.Iu||(o.Iu=function(e,t,n){const i=jn(e);return i.su(),new Ip(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,n)}(o.datastore,o.asyncQueue,{Yr:Ac.bind(null,o),Zr:fv.bind(null,o),tu:H_.bind(null,o),Zo:hv.bind(null,o)}),o.wu.push(function(){var e=(0,be.Z)(function*(t){t?(o.Iu.Oo(),yield su(o)):(yield o.Iu.stop(),o.fu.length>0&&(In("RemoteStore",`Stopping write stream with ${o.fu.length} pending writes`),o.fu=[]))});return function(t){return e.apply(this,arguments)}}())),o.Iu}class eg{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,f=new eg(e,t,u,i,a);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cn(nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ch(o,e){if($r("AsyncQueue",`${e}: ${o}`),ba(o))return new Cn(nn.UNAVAILABLE,`${e}: ${o}`);throw o}class Dh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sn.comparator(t.key,n.key):(t,n)=>Sn.comparator(t.key,n.key),this.keyedMap=td(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Dh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Dh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Eh{constructor(){this.Tu=new st(Sn.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Un():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,n)=>{e.push(n)}),e}}class _d{constructor(e,t,n,i,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,n,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new _d(e,t,Dh.emptySet(t),a,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class j_{constructor(){this.Au=void 0,this.listeners=[]}}class tg{constructor(){this.queries=new Wc(e=>h(e),W),this.onlineState="Unknown",this.Ru=new Set}}function Rp(o,e){return xh.apply(this,arguments)}function xh(){return xh=(0,be.Z)(function*(o,e){const t=jn(o),n=e.query;let i=!1,a=t.queries.get(n);if(a||(i=!0,a=new j_),i)try{a.Au=yield t.onListen(n)}catch(u){const f=Ch(u,`Initialization of query '${x(e.query)}' failed`);return void e.onError(f)}t.queries.set(n,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&ng(t)}),xh.apply(this,arguments)}function kp(o,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,be.Z)(function*(o,e){const t=jn(o),n=e.query;let i=!1;const a=t.queries.get(n);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(n),t.onUnlisten(n)}),Mh.apply(this,arguments)}function pv(o,e){const t=jn(o);let n=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Pu(i)&&(n=!0);u.Au=i}}n&&ng(t)}function mv(o,e,t){const n=jn(o),i=n.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);n.queries.delete(e)}function ng(o){o.Ru.forEach(e=>{e.next()})}class Op{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)3!==i.type&&n.push(i);e=new _d(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class gv{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Oy{constructor(e){this.It=e}Ji(e){return Ka(this.It,e)}Yi(e){return e.metadata.exists?a_(this.It,e.document,!1):rr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ar(e)}}class _v{constructor(e,t,n){this.Mu=e,this.localStore=t,this.It=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Py(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=Di.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,n=new Oy(this.It);for(const i of e)if(i.metadata.queries){const a=n.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||ji()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function Ty(o,e,t,n){return ph.apply(this,arguments)}(e.localStore,new Oy(e.It),e.documents,e.Mu.id),n=e.Fu(e.documents);for(const i of e.queries)yield Gi(e.localStore,i,n.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Py(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class G_{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class lc{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=ji(),this.mutatedKeys=ji(),this.Ku=pn(e),this.Gu=new Dh(this.Ku)}get Qu(){return this.Lu}ju(e,t){const n=t?t.Wu:new Eh,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,re)=>{const ve=i.get(T),qe=Q(this.query,re)?re:null,vt=!!ve&&this.mutatedKeys.has(ve.key),kt=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let tn=!1;ve&&qe?ve.data.isEqual(qe.data)?vt!==kt&&(n.track({type:3,doc:qe}),tn=!0):this.zu(ve,qe)||(n.track({type:2,doc:qe}),tn=!0,(_&&this.Ku(qe,_)>0||C&&this.Ku(qe,C)<0)&&(f=!0)):!ve&&qe?(n.track({type:0,doc:qe}),tn=!0):ve&&!qe&&(n.track({type:1,doc:ve}),tn=!0,(_||C)&&(f=!0)),tn&&(qe?(u=u.add(qe),a=kt?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),n.track({type:1,doc:T})}return{Gu:u,Wu:n,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((C,T)=>function(re,ve){const qe=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Un()}};return qe(re)-qe(ve)}(C.type,T.type)||this.Ku(C.doc,T.doc)),this.Hu(n);const u=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new _d(this.query,e.Gu,i,a,e.mutatedKeys,0===f,_,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Eh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ji(),this.Gu.forEach(n=>{this.Xu(n.key)&&(this.qu=this.qu.add(n.key))});const t=[];return e.forEach(n=>{this.qu.has(n)||t.push(new Pp(n))}),this.qu.forEach(n=>{e.has(n)||t.push(new G_(n))}),t}Zu(e){this.Lu=e.Hi,this.qu=ji();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return _d.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Fp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fy{constructor(e){this.key=e,this.ec=!1}}class ig{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Wc(f=>h(f),W),this.ic=new Map,this.rc=new Set,this.oc=new st(Sn.comparator),this.uc=new Map,this.cc=new cf,this.ac={},this.hc=new Map,this.lc=Jc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Mf(o,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,be.Z)(function*(o,e){const t=lu(o);let n,i;const a=t.sc.get(e);if(a)n=a.targetId,t.sharedClientState.addLocalQueryTarget(n),i=a.view.tc();else{const u=yield Pu(t.localStore,Mo(e));t.isPrimaryClient&&yf(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);n=u.targetId,i=yield If(t,e,n,"current"===f)}return i}),Lp.apply(this,arguments)}function If(o,e,t,n){return rg.apply(this,arguments)}function rg(){return rg=(0,be.Z)(function*(o,e,t,n){o.dc=(T,re,ve)=>{return(qe=(0,be.Z)(function*(vt,kt,tn,An){let Zn=kt.view.ju(tn);Zn.$i&&(Zn=yield Fu(vt.localStore,kt.query,!1).then(({documents:Jn})=>kt.view.ju(Jn,Zn)));const Xn=An&&An.targetChanges.get(kt.targetId),oi=kt.view.applyChanges(Zn,vt.isPrimaryClient,Xn);return Ah(vt,kt.targetId,oi.Yu),oi.snapshot}),function(vt,kt,tn,An){return qe.apply(this,arguments)})(o,T,re,ve);var qe};const i=yield Fu(o.localStore,e,!0),a=new lc(e,i.Hi),u=a.ju(i.documents),f=nd.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==o.onlineState),_=a.applyChanges(u,o.isPrimaryClient,f);Ah(o,t,_.Yu);const C=new Fp(e,t,a);return o.sc.set(e,C),o.ic.has(t)?o.ic.get(t).push(e):o.ic.set(t,[e]),_.snapshot}),rg.apply(this,arguments)}function Vu(o,e){return Np.apply(this,arguments)}function Np(){return Np=(0,be.Z)(function*(o,e){const t=jn(o),n=t.sc.get(e),i=t.ic.get(n.targetId);if(i.length>1)return t.ic.set(n.targetId,i.filter(a=>!W(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(n.targetId),t.sharedClientState.isActiveQueryTarget(n.targetId)||(yield ac(t.localStore,n.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(n.targetId),vf(t.remoteStore,n.targetId),Hu(t,n.targetId)}).catch(Os))):(Hu(t,n.targetId),yield ac(t.localStore,n.targetId,!0))}),Np.apply(this,arguments)}function sg(){return sg=(0,be.Z)(function*(o,e,t){const n=kf(o);try{const i=yield function(a,u){const f=jn(a),_=er.now(),C=u.reduce((ve,qe)=>ve.add(qe.key),ji());let T,re;return f.persistence.runTransaction("Locally write mutations","readwrite",ve=>{let qe=Ya(),vt=ji();return f.Gi.getEntries(ve,C).next(kt=>{qe=kt,qe.forEach((tn,An)=>{An.isValidDocument()||(vt=vt.add(tn))})}).next(()=>f.localDocuments.getOverlayedDocuments(ve,qe)).next(kt=>{T=kt;const tn=[];for(const An of u){const Zn=ap(An,T.get(An.key).overlayedDocument);null!=Zn&&tn.push(new nc(An.key,Zn,Ll(Zn.value.mapValue),Yr.exists(!0)))}return f.mutationQueue.addMutationBatch(ve,_,tn,u)}).next(kt=>{re=kt;const tn=kt.applyToLocalDocumentSet(T,vt);return f.documentOverlayCache.saveOverlays(ve,kt.batchId,tn)})}).then(()=>({batchId:re.batchId,changes:vm(T)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new st(ci)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(n,i.batchId,t),yield Tc(n,i.changes),yield su(n.remoteStore)}catch(i){const a=Ch(i,"Failed to persist write");t.reject(a)}}),sg.apply(this,arguments)}function Bp(o,e){return og.apply(this,arguments)}function og(){return og=(0,be.Z)(function*(o,e){const t=jn(o);try{const n=yield Ay(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.uc.get(a);u&&(fi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.ec=!0:i.modifiedDocuments.size>0?fi(u.ec):i.removedDocuments.size>0&&(fi(u.ec),u.ec=!1))}),yield Tc(t,n,e)}catch(n){yield Os(n)}}),og.apply(this,arguments)}function ag(o,e,t){const n=jn(o);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const i=[];n.sc.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=jn(a);f.onlineState=u;let _=!1;f.queries.forEach((C,T)=>{for(const re of T.listeners)re.bu(u)&&(_=!0)}),_&&ng(f)}(n.eventManager,e),i.length&&n.nc.Wo(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function Sf(o,e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,be.Z)(function*(o,e,t){const n=jn(o);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.uc.get(e),a=i&&i.key;if(a){let u=new st(Sn.comparator);u=u.insert(a,rr.newNoDocument(a,ai.min()));const f=ji().add(a),_=new ic(ai.min(),new Map,new _n(ci),u,f);yield Bp(n,_),n.oc=n.oc.remove(a),n.uc.delete(e),cg(n)}else yield ac(n.localStore,e,!1).then(()=>Hu(n,e,t)).catch(Os)}),Uu.apply(this,arguments)}function Vp(o,e){return cc.apply(this,arguments)}function cc(){return cc=(0,be.Z)(function*(o,e){const t=jn(o),n=e.batch.batchId;try{const i=yield zm(t.localStore,e);Sh(t,n,null),Ih(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Tc(t,i)}catch(i){yield Os(i)}}),cc.apply(this,arguments)}function Af(o,e,t){return yd.apply(this,arguments)}function yd(){return yd=(0,be.Z)(function*(o,e,t){const n=jn(o);try{const i=yield function(a,u){const f=jn(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return f.mutationQueue.lookupMutationBatch(_,u).next(T=>(fi(null!==T),C=T.keys(),f.mutationQueue.removeMutationBatch(_,T))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,C,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>f.localDocuments.getDocuments(_,C))})}(n.localStore,e);Sh(n,e,t),Ih(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),yield Tc(n,i)}catch(i){yield Os(i)}}),yd.apply(this,arguments)}function Up(){return Up=(0,be.Z)(function*(o,e){const t=jn(o);gl(t.remoteStore)||In("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(a){const u=jn(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===n)return void e.resolve();const i=t.hc.get(n)||[];i.push(e),t.hc.set(n,i)}catch(n){const i=Ch(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Up.apply(this,arguments)}function Ih(o,e){(o.hc.get(e)||[]).forEach(t=>{t.resolve()}),o.hc.delete(e)}function Sh(o,e,t){const n=jn(o);let i=n.ac[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.ac[n.currentUser.toKey()]=i}}function Hu(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const n of o.ic.get(e))o.sc.delete(n),t&&o.nc._c(n,t);o.ic.delete(e),o.isPrimaryClient&&o.cc.ls(e).forEach(n=>{o.cc.containsKey(n)||lg(o,n)})}function lg(o,e){o.rc.delete(e.path.canonicalString());const t=o.oc.get(e);null!==t&&(vf(o.remoteStore,t),o.oc=o.oc.remove(e),o.uc.delete(t),cg(o))}function Ah(o,e,t){for(const n of t)n instanceof G_?(o.cc.addReference(n.key,e),ju(o,n)):n instanceof Pp?(In("SyncEngine","Document no longer in limbo: "+n.key),o.cc.removeReference(n.key,e),o.cc.containsKey(n.key)||lg(o,n.key)):Un()}function ju(o,e){const t=e.key,n=t.path.canonicalString();o.oc.get(t)||o.rc.has(n)||(In("SyncEngine","New document in limbo: "+t),o.rc.add(n),cg(o))}function cg(o){for(;o.rc.size>0&&o.oc.size<o.maxConcurrentLimboResolutions;){const e=o.rc.values().next().value;o.rc.delete(e);const t=new Sn(Di.fromString(e)),n=o.lc.next();o.uc.set(n,new Fy(t)),o.oc=o.oc.insert(t,n),yf(o.remoteStore,new Iu(Mo(ec(t.path)),n,2,E.at))}}function Tc(o,e,t){return uc.apply(this,arguments)}function uc(){return uc=(0,be.Z)(function*(o,e,t){const n=jn(o),i=[],a=[],u=[];var f;n.sc.isEmpty()||(n.sc.forEach((f,_)=>{u.push(n.dc(_,e,t).then(C=>{if(C){n.isPrimaryClient&&n.sharedClientState.updateQueryState(_.targetId,C.fromCache?"not-current":"current"),i.push(C);const T=ws.Ci(_.targetId,C);a.push(T)}}))}),yield Promise.all(u),n.nc.Wo(i),yield(f=(0,be.Z)(function*(_,C){const T=jn(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",re=>en.forEach(C,ve=>en.forEach(ve.Si,qe=>T.persistence.referenceDelegate.addReference(re,ve.targetId,qe)).next(()=>en.forEach(ve.Di,qe=>T.persistence.referenceDelegate.removeReference(re,ve.targetId,qe)))))}catch(re){if(!ba(re))throw re;In("LocalStore","Failed to update sequence numbers: "+re)}for(const re of C){const ve=re.targetId;if(!re.fromCache){const qe=T.Ui.get(ve),kt=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);T.Ui=T.Ui.insert(ve,kt)}}}),function(_,C){return f.apply(this,arguments)})(n.localStore,a))}),uc.apply(this,arguments)}function Hp(o,e){return vd.apply(this,arguments)}function vd(){return vd=(0,be.Z)(function*(o,e){const t=jn(o);if(!t.currentUser.isEqual(e)){In("SyncEngine","User change. New user:",e.toKey());const n=yield Ou(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Cn(nn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield Tc(t,n.ji)}var i}),vd.apply(this,arguments)}function $_(o,e){const t=jn(o),n=t.uc.get(e);if(n&&n.ec)return ji().add(n.key);{let i=ji();const a=t.ic.get(e);if(!a)return i;for(const u of a){const f=t.sc.get(u);i=i.unionWith(f.view.Qu)}return i}}function By(o,e){return La.apply(this,arguments)}function La(){return La=(0,be.Z)(function*(o,e){const t=jn(o),n=yield Fu(t.localStore,e.query,!0),i=e.view.Zu(n);return t.isPrimaryClient&&Ah(t,e.targetId,i.Yu),i}),La.apply(this,arguments)}function ug(o,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,be.Z)(function*(o,e){const t=jn(o);return ff(t.localStore,e).then(n=>Tc(t,n))}),Tf.apply(this,arguments)}function yv(o,e,t,n){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,be.Z)(function*(o,e,t,n){const i=jn(o),a=yield function(u,f){const _=jn(u),C=jn(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Tn(T,f).next(re=>re?_.localDocuments.getDocuments(T,re):en.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield su(i.remoteStore):"acknowledged"===t||"rejected"===t?(Sh(i,e,n||null),Ih(i,e),f=e,jn(jn(i.localStore).mutationQueue).An(f)):Un(),yield Tc(i,a)):In("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rc.apply(this,arguments)}function jp(){return jp=(0,be.Z)(function*(o,e){const t=jn(o);if(lu(t),kf(t),!0===e&&!0!==t.fc){const n=t.sharedClientState.getAllActiveQueryTargets(),i=yield z_(t,n.toArray());t.fc=!0,yield wh(t.remoteStore,!0);for(const a of i)yf(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const n=[];let i=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?n.push(u):i=i.then(()=>(Hu(t,u),ac(t.localStore,u,!0))),vf(t.remoteStore,u)}),yield i,yield z_(t,n),function(a){const u=jn(a);u.uc.forEach((f,_)=>{vf(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new st(Sn.comparator)}(t),t.fc=!1,yield wh(t.remoteStore,!1)}}),jp.apply(this,arguments)}function z_(o,e,t){return dg.apply(this,arguments)}function dg(){return dg=(0,be.Z)(function*(o,e,t){const n=jn(o),i=[],a=[];for(const u of e){let f;const _=n.ic.get(u);if(_&&0!==_.length){f=yield Pu(n.localStore,Mo(_[0]));for(const C of _){const T=n.sc.get(C),re=yield By(n,T);re.snapshot&&a.push(re.snapshot)}}else{const C=yield L_(n.localStore,u);f=yield Pu(n.localStore,C),yield If(n,Rf(C),u,!1)}i.push(f)}return n.nc.Wo(a),i}),dg.apply(this,arguments)}function Rf(o){return Wd(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function hg(o){const e=jn(o);return jn(jn(e.localStore).persistence).vi()}function Vy(o,e,t,n){return Th.apply(this,arguments)}function Th(){return Th=(0,be.Z)(function*(o,e,t,n){const i=jn(o);if(i.fc)return void In("SyncEngine","Ignoring unexpected query state notification.");const a=i.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield ff(i.localStore,Ue(a[0])),f=ic.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Tc(i,u,f);break}case"rejected":yield ac(i.localStore,e,!0),Hu(i,e,n);break;default:Un()}}),Th.apply(this,arguments)}function Gp(o,e,t){return fg.apply(this,arguments)}function fg(){return fg=(0,be.Z)(function*(o,e,t){const n=lu(o);if(n.fc){for(const i of e){if(n.ic.has(i)){In("SyncEngine","Adding an already active target "+i);continue}const a=yield L_(n.localStore,i),u=yield Pu(n.localStore,a);yield If(n,Rf(a),u.targetId,!1),yf(n.remoteStore,u)}for(const i of t)n.ic.has(i)&&(yield ac(n.localStore,i,!1).then(()=>{vf(n.remoteStore,i),Hu(n,i)}).catch(Os))}}),fg.apply(this,arguments)}function lu(o){const e=jn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sf.bind(null,e),e.nc.Wo=pv.bind(null,e.eventManager),e.nc._c=mv.bind(null,e.eventManager),e}function kf(o){const e=jn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Af.bind(null,e),e}class $l{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.It=Mp(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return $m(this.persistence,new hh,e.initialUser,this.It)}gc(e){return new uf(Ru.Bs,this.It)}mc(e){return new Ry}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gu extends $l{constructor(e,t,n){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,be.Z)(function*(){yield t().call(n,e),yield n.Ec.initialize(n,e),yield kf(n.Ec.syncEngine),yield su(n.Ec.remoteStore),yield n.persistence.li(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return $m(this.persistence,new hh,e.initialUser,this.It)}Ic(e,t){return new vp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const n=new A(t,this.persistence);return new M(e.asyncQueue,n)}gc(e){const t=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Za.withCacheSize(this.cacheSizeBytes):Za.DEFAULT;return new Fi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xp(),_f(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Ry}}class $p extends Gu{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,be.Z)(function*(){yield t().call(n,e);const i=n.Ec.syncEngine;n.sharedClientState instanceof _h&&(n.sharedClientState.syncEngine={Fr:yv.bind(null,i),$r:Vy.bind(null,i),Br:Gp.bind(null,i),vi:hg.bind(null,i),Or:ug.bind(null,i)},yield n.sharedClientState.start()),yield n.persistence.li(function(){var a=(0,be.Z)(function*(u){yield function bd(o,e){return jp.apply(this,arguments)}(n.Ec.syncEngine,u),n.gcScheduler&&(u&&!n.gcScheduler.started?n.gcScheduler.start():u||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(u&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():u||n.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=xp();if(!_h.C(t))throw new Cn(nn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _h(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Of{initialize(e,t){var n=this;return(0,be.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=i=>ag(n.syncEngine,i,1),n.remoteStore.remoteSyncer.handleCredentialChange=Hp.bind(null,n.syncEngine),yield wh(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tg}createDatastore(e){const t=Mp(e.databaseInfo.databaseId),n=new qm(e.databaseInfo);return new B_(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,a=f=>ag(this.syncEngine,f,0),u=Lu.C()?new Lu:new gf,new iu(t,n,i,a,u);var t,n,i,a,u}createSyncEngine(e,t){return function(n,i,a,u,f,_,C){const T=new ig(n,i,a,u,f,_);return C&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const n=jn(t);In("RemoteStore","RemoteStore shutting down."),n._u.add(5),yield Qa(n),n.mu.shutdown(),n.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pg(o,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<o.byteLength){const n={value:o.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Uy{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(n=>{n&&n.ku()?this.metadata.resolve(n.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.payload)}`))},n=>this.metadata.reject(n))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const n=e.Pc.decode(t),i=Number(n);isNaN(i)&&e.Sc(`length string (${n}) is not valid number`);const a=yield e.Dc(i);return new gv(JSON.parse(a),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,be.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}Dc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const n=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,be.Z)(function*(){const t=yield e.bc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Pf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Cn(nn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(i=(0,be.Z)(function*(a,u){const f=jn(a),_=no(f.It)+"/documents",C={documents:u.map(qe=>ef(f.It,qe))},T=yield f.fo("BatchGetDocuments",_,C,u.length),re=new Map;T.forEach(qe=>{const vt=function xm(o,e){return"found"in e?function(t,n){fi(!!n.found);const i=Ka(t,n.found.name),a=Ar(n.found.updateTime),u=new us({mapValue:{fields:n.found.fields}});return rr.newFoundDocument(i,a,u)}(o,e):"missing"in e?function(t,n){fi(!!n.missing),fi(!!n.readTime);const i=Ka(t,n.missing),a=Ar(n.readTime);return rr.newNoDocument(i,a)}(o,e):Un()}(f.It,qe);re.set(vt.key.toString(),vt)});const ve=[];return u.forEach(qe=>{const vt=re.get(qe.toString());fi(!!vt),ve.push(vt)}),ve}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return n.forEach(i=>t.recordVersion(i)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,i)=>{const a=Sn.fromPath(i);e.mutations.push(new qh(a,e.precondition(a)))}),yield(n=(0,be.Z)(function*(i,a){const u=jn(i),f=no(u.It)+"/documents",_={writes:a.map(C=>sd(u.It,C))};yield u.co("Commit",f,_)}),function(i,a){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Un();t=ai.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cn(nn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ai.min())?Yr.exists(!1):Yr.updateTime(t):Yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ai.min()))throw new Cn(nn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yr.updateTime(t)}return Yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hy{constructor(e,t,n,i,a){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=a,this.Nc=n.maxAttempts,this.xo=new N_(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,be.Z)(function*(){const t=new Pf(e.datastore),n=e.Mc(t);n&&n.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Oc(a)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Oo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!r_(t)}return!1}}class mg{constructor(e,t,n,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ui.UNAUTHENTICATED,this.clientId=ll.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var u=(0,be.Z)(function*(f){In("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(n,u=>(In("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Cn(nn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Ch(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Y_(o,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,be.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),In("FirestoreClient","Initializing OfflineComponentProvider");const t=yield o.getConfiguration();yield e.initialize(t);let n=t.initialUser;o.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){n.isEqual(a)||(yield Ou(e.localStore,a),n=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o.offlineComponents=e}),Ff.apply(this,arguments)}function Cd(o,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,be.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield zp(o);In("FirestoreClient","Initializing OnlineComponentProvider");const n=yield o.getConfiguration();yield e.initialize(t,n),o.setCredentialChangeListener(i=>Df(e.remoteStore,i)),o.setAppCheckTokenChangeListener((i,a)=>Df(e.remoteStore,a)),o.onlineComponents=e}),Lf.apply(this,arguments)}function zp(o){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,be.Z)(function*(o){return o.offlineComponents||(In("FirestoreClient","Using default OfflineComponentProvider"),yield Y_(o,new $l)),o.offlineComponents}),Nf.apply(this,arguments)}function Bf(o){return gg.apply(this,arguments)}function gg(){return gg=(0,be.Z)(function*(o){return o.onlineComponents||(In("FirestoreClient","Using default OnlineComponentProvider"),yield Cd(o,new Of)),o.onlineComponents}),gg.apply(this,arguments)}function _g(o){return zp(o).then(e=>e.persistence)}function $u(o){return zp(o).then(e=>e.localStore)}function yg(o){return Bf(o).then(e=>e.remoteStore)}function Dd(o){return Bf(o).then(e=>e.syncEngine)}function yl(o){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,be.Z)(function*(o){const e=yield Bf(o),t=e.eventManager;return t.onListen=Mf.bind(null,e.syncEngine),t.onUnlisten=Vu.bind(null,e.syncEngine),t}),Rh.apply(this,arguments)}function kh(o,e,t={}){const n=new Lr;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,u,f,_){const C=new wd({next:re=>{a.enqueueAndForget(()=>kp(i,T));const ve=re.docs.has(u);!ve&&re.fromCache?_.reject(new Cn(nn.UNAVAILABLE,"Failed to get document because the client is offline.")):ve&&re.fromCache&&f&&"server"===f.source?_.reject(new Cn(nn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(re)},error:re=>_.reject(re)}),T=new Op(ec(u.path),C,{includeMetadataChanges:!0,Nu:!0});return Rp(i,T)}(yield yl(o),o.asyncQueue,e,t,n)})),n.promise}function kc(o,e,t={}){const n=new Lr;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,u,f,_){const C=new wd({next:re=>{a.enqueueAndForget(()=>kp(i,T)),re.fromCache&&"server"===f.source?_.reject(new Cn(nn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(re)},error:re=>_.reject(re)}),T=new Op(u,C,{includeMetadataChanges:!0,Nu:!0});return Rp(i,T)}(yield yl(o),o.asyncQueue,e,t,n)})),n.promise}const Yp=new Map;function Oc(o,e,t){if(!t)throw new Cn(nn.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Dg(o,e,t,n){if(!0===e&&!0===n)throw new Cn(nn.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function Gy(o){if(!Sn.isDocumentKey(o))throw new Cn(nn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Oh(o){if(Sn.isDocumentKey(o))throw new Cn(nn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Wl(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(t=o).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof o?"a function":Un()}function nr(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Cn(nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wl(o);throw new Cn(nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function Z_(o,e){if(e<=0)throw new Cn(nn.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class Eg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Cn(nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Cn(nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Dg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Cn(nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Cn(nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kl;switch(t.type){case"gapi":return new ya(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Cn(nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yp.get(e);t&&(In("ComponentProvider","Removing Datastore"),Yp.delete(e),t.terminate())}(this),Promise.resolve()}}class Br{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class Ca{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class Gs extends Ca{constructor(e,t,n){super(e,t,ec(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new Sn(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function xg(o,e,...t){if(o=(0,xe.m9)(o),Oc("collection","path",e),o instanceof Ed){const n=Di.fromString(e,...t);return Oh(n),new Gs(o,null,n)}{if(!(o instanceof Br||o instanceof Gs))throw new Cn(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=o._path.child(Di.fromString(e,...t));return Oh(n),new Gs(o.firestore,null,n)}}function xd(o,e,...t){if(o=(0,xe.m9)(o),1===arguments.length&&(e=ll.R()),Oc("doc","path",e),o instanceof Ed){const n=Di.fromString(e,...t);return Gy(n),new Br(o,null,new Sn(n))}{if(!(o instanceof Br||o instanceof Gs))throw new Cn(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=o._path.child(Di.fromString(e,...t));return Gy(n),new Br(o.firestore,o instanceof Gs?o.converter:null,new Sn(n))}}function Mg(o,e){return o=(0,xe.m9)(o),e=(0,xe.m9)(e),(o instanceof Br||o instanceof Gs)&&(e instanceof Br||e instanceof Gs)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function Xa(o,e){return o=(0,xe.m9)(o),e=(0,xe.m9)(e),o instanceof Ca&&e instanceof Ca&&o.firestore===e.firestore&&W(o._query,e._query)&&o.converter===e.converter}class q_{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new N_(this,"async_queue_retry"),this.jc=()=>{const t=_f();t&&In("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=_f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=_f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Lr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ba(t))throw t;In("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(n=>{throw this.qc=n,this.Kc=!1,$r("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(n)),n}).then(n=>(this.Kc=!1,n))));return this.$c=t,t}enqueueAfterDelay(e,t,n){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=eg.createAndSchedule(this,e,t,n,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Un()}verifyOperationInProgress(){}Yc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Fh(o){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(o)}class zu{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ts extends Ed{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new q_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ig(this),this._firestoreClient.terminate()}}function Cs(o){return o._firestoreClient||Ig(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Ig(o){var e;const t=o._freezeSettings(),n=(a=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Hc(o._databaseId,a,o._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;o._firestoreClient=new mg(o._authCredentials,o._appCheckCredentials,o._queue,n)}function No(o,e,t){const n=new Lr;return o.asyncQueue.enqueue((0,be.Z)(function*(){try{yield Y_(o,t),yield Cd(o,e),n.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===nn.FAILED_PRECONDITION||u.code===nn.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;ir("Error enabling offline persistence. Falling back to persistence disabled: "+a),n.reject(a)}var u})).then(()=>n.promise)}function Id(o){if(o._initialized||o._terminated)throw new Cn(nn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class el{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Cn(nn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(ur.fromBase64String(e))}catch(t){throw new Cn(nn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aa(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vl{constructor(e){this._methodName=e}}class cu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Cn(nn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Cn(nn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ci(this._lat,e._lat)||ci(this._long,e._long)}}const Sd=/^__.*__$/;class uu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new nc(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}}class Ag{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jf(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Un()}}class Wu{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.It=n,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Wu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:n,ra:!1});return i.oa(e),i}ua(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:n,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Yl(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(jf(this.na)&&Sd.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Q_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=n||Mp(e)}fa(e,t,n,i=!1){return new Wu({na:e,methodName:t,la:n,path:lr.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function bl(o){const e=o._freezeSettings(),t=Mp(o._databaseId);return new Q_(o._databaseId,!!e.ignoreUndefinedProperties,t)}function Gf(o,e,t,n,i,a={}){const u=o.fa(a.merge||a.mergeFields?2:0,e,t,i);Kf("Data must be an object, but it was:",u,n);const f=Nh(n,u);let _,C;if(a.merge)_=new yi(u.fieldMask),C=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const re of a.mergeFields){const ve=Td(e,re,t);if(!u.contains(ve))throw new Cn(nn.INVALID_ARGUMENT,`Field '${ve}' is specified in your field mask but missing from your input data.`);Rd(T,ve)||T.push(ve)}_=new yi(T),C=u.fieldTransforms.filter(re=>_.covers(re.field))}else _=null,C=u.fieldTransforms;return new uu(new us(f),_,C)}class Ad extends vl{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function Tg(o,e,t){return new Wu({na:3,la:e.settings.la,methodName:o._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Zp extends vl{_toFieldTransform(e){return new Zo(e.path,new _e)}isEqual(e){return e instanceof Zp}}class $f extends vl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Tg(this,e,!0),n=this.da.map(a=>Fc(a,t)),i=new Ze(n);return new Zo(e.path,i)}isEqual(e){return this===e}}class Rg extends vl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Tg(this,e,!0),n=this.da.map(a=>Fc(a,t)),i=new yn(n);return new Zo(e.path,i)}isEqual(e){return this===e}}class qp extends vl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new ni(e.It,As(e.It,this._a));return new Zo(e.path,t)}isEqual(e){return this===e}}function zf(o,e,t,n){const i=o.fa(1,e,t);Kf("Data must be an object, but it was:",i,n);const a=[],u=us.empty();Z(n,(_,C)=>{const T=du(e,_,t);C=(0,xe.m9)(C);const re=i.ua(T);if(C instanceof Ad)a.push(T);else{const ve=Fc(C,re);null!=ve&&(a.push(T),u.set(T,ve))}});const f=new yi(a);return new Ag(u,f,i.fieldTransforms)}function Wf(o,e,t,n,i,a){const u=o.fa(1,e,t),f=[Td(e,n,t)],_=[i];if(a.length%2!=0)throw new Cn(nn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ve=0;ve<a.length;ve+=2)f.push(Td(e,a[ve])),_.push(a[ve+1]);const C=[],T=us.empty();for(let ve=f.length-1;ve>=0;--ve)if(!Rd(C,f[ve])){const qe=f[ve];let vt=_[ve];vt=(0,xe.m9)(vt);const kt=u.ua(qe);if(vt instanceof Ad)C.push(qe);else{const tn=Fc(vt,kt);null!=tn&&(C.push(qe),T.set(qe,tn))}}const re=new yi(C);return new Ag(T,re,u.fieldTransforms)}function Qp(o,e,t,n=!1){return Fc(t,o.fa(n?4:3,e))}function Fc(o,e){if(Yf(o=(0,xe.m9)(o)))return Kf("Unsupported field value:",e,o),Nh(o,e);if(o instanceof vl)return function(t,n){if(!jf(n.na))throw n.aa(`${t._methodName}() can only be used with update() and set()`);if(!n.path)throw n.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,n){const i=[];let a=0;for(const u of t){let f=Fc(u,n.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(o,e)}return function(t,n){if(null===(t=(0,xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return As(n.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=er.fromDate(t);return{timestampValue:Jh(n.It,i)}}if(t instanceof er){const i=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jh(n.It,i)}}if(t instanceof cu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof aa)return{bytesValue:rd(n.It,t._byteString)};if(t instanceof Br){const i=n.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw n.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hl(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n.aa(`Unsupported field value: ${Wl(t)}`)}(o,e)}function Nh(o,e){const t={};return Ie(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Z(o,(n,i)=>{const a=Fc(i,e.ia(n));null!=a&&(t[n]=a)}),{mapValue:{fields:t}}}function Yf(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof er||o instanceof cu||o instanceof aa||o instanceof Br||o instanceof vl)}function Kf(o,e,t){if(!Yf(t)||"object"!=typeof(n=t)||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){const n=Wl(t);throw e.aa("an object"===n?o+" a custom object":o+" "+n)}var n}function Td(o,e,t){if((e=(0,xe.m9)(e))instanceof el)return e._internalPath;if("string"==typeof e)return du(o,e);throw Yl("Field path arguments must be of type string or ",o,!1,void 0,t)}const la=new RegExp("[~\\*/\\[\\]]");function du(o,e,t){if(e.search(la)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new el(...e.split("."))._internalPath}catch{throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function Yl(o,e,t,n,i){const a=n&&!n.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${n}`),u&&(_+=` in document ${i}`),_+=")"),new Cn(nn.INVALID_ARGUMENT,f+o+_)}function Rd(o,e){return o.some(t=>t.isEqual(e))}class ca{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yu extends ca{data(){return super.data()}}function kd(o,e){return"string"==typeof e?du(o,e):e instanceof el?e._internalPath:e._delegate._internalPath}class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends ca{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(kd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Zf extends Na{data(e={}){return super.data(e)}}class hu{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Zf(this._firestore,this._userDataWriter,n.key,n,new Lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cn(nn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let a=0;return n._snapshot.docChanges.map(u=>({type:"added",doc:new Zf(n._firestore,n._userDataWriter,u.doc.key,u.doc,new Lc(n._snapshot.mutatedKeys.has(u.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:a++}))}{let a=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Zf(n._firestore,n._userDataWriter,u.doc.key,u.doc,new Lc(n._snapshot.mutatedKeys.has(u.doc.key),n._snapshot.fromCache),n.query.converter);let _=-1,C=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),C=a.indexOf(u.doc.key)),{type:X_(u.type),doc:f,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function X_(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Un()}}function qf(o,e){return o instanceof Na&&e instanceof Na?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof hu&&e instanceof hu&&o._firestore===e._firestore&&Xa(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function J_(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Cn(nn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bh{}function fu(o,...e){for(const t of e)o=t._apply(o);return o}class kg extends Bh{constructor(e,t,n){super(),this.wa=e,this.ma=t,this.ga=n,this.type="where"}_apply(e){const t=bl(e.firestore),n=function(i,a,u,f,_,C,T){let re;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Cn(nn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){go(T,C);const qe=[];for(const vt of T)qe.push(ty(f,i,vt));re={arrayValue:{values:qe}}}else re=ty(f,i,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||go(T,C),re=Qp(u,"where",T,"in"===C||"not-in"===C);const ve=Nr.create(_,C,re);return function(qe,vt){if(vt.dt()){const tn=jc(qe);if(null!==tn&&!tn.isEqual(vt.field))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${tn.toString()}' and '${vt.field.toString()}'`);const An=Kd(qe);null!==An&&Bg(0,vt.field,An)}const kt=function(tn,An){for(const Zn of tn.filters)if(An.indexOf(Zn.op)>=0)return Zn.op;return null}(qe,function(tn){switch(tn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(vt.op));if(null!==kt)throw new Cn(nn.INVALID_ARGUMENT,kt===vt.op?`Invalid query. You cannot use more than one '${vt.op.toString()}' filter.`:`Invalid query. You cannot use '${vt.op.toString()}' filters with '${kt.toString()}' filters.`)}(i,ve),ve}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ca(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new dl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class Qf extends Bh{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(n,i,a){if(null!==n.startAt)throw new Cn(nn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==n.endAt)throw new Cn(nn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ul(i,a);return function(f,_){if(null===Kd(f)){const C=jc(f);null!==C&&Bg(0,C,_.field)}}(n,u),u}(e._query,this.wa,this.ya);return new Ca(e.firestore,e.converter,function(n,i){const a=n.explicitOrderBy.concat([i]);return new dl(n.path,n.collectionGroup,a,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,t))}}class Xf extends Bh{constructor(e,t,n){super(),this.type=e,this.pa=t,this.Ia=n}_apply(e){return new Ca(e.firestore,e.converter,H(e._query,this.pa,this.Ia))}}class Xp extends Bh{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=Ng(e,this.type,this.Ta,this.Ea);return new Ca(e.firestore,e.converter,(i=t,new dl((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,i,n.endAt)));var n,i}}class hc extends Bh{constructor(e,t,n){super(),this.type=e,this.Ta=t,this.Ea=n}_apply(e){const t=Ng(e,this.type,this.Ta,this.Ea);return new Ca(e.firestore,e.converter,(i=t,new dl((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,i)));var n,i}}function Ng(o,e,t,n){if(t[0]=(0,xe.m9)(t[0]),t[0]instanceof ca)return function(i,a,u,f,_){if(!f)throw new Cn(nn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const T of wa(i))if(T.field.isKeyField())C.push(ft(a,f.key));else{const re=f.data.field(T.field);if(ja(re))throw new Cn(nn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===re){const ve=T.field.canonicalString();throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ve}' (used as the orderBy) does not exist.`)}C.push(re)}return new Wa(C,_)}(o._query,o.firestore._databaseId,e,t[0]._document,n);{const i=bl(o.firestore);return function(a,u,f,_,C,T){const re=a.explicitOrderBy;if(C.length>re.length)throw new Cn(nn.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ve=[];for(let qe=0;qe<C.length;qe++){const vt=C[qe];if(re[qe].field.isKeyField()){if("string"!=typeof vt)throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof vt}`);if(!tc(a)&&-1!==vt.indexOf("/"))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${vt}' contains a slash.`);const kt=a.path.child(Di.fromString(vt));if(!Sn.isDocumentKey(kt))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${kt}' is not because it contains an odd number of segments.`);const tn=new Sn(kt);ve.push(ft(u,tn))}else{const kt=Qp(f,_,vt);ve.push(kt)}}return new Wa(ve,T)}(o._query,o.firestore._databaseId,i,e,t,n)}}function ty(o,e,t){if("string"==typeof(t=(0,xe.m9)(t))){if(""===t)throw new Cn(nn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tc(e)&&-1!==t.indexOf("/"))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Di.fromString(t));if(!Sn.isDocumentKey(n))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ft(o,new Sn(n))}if(t instanceof Br)return ft(o,t._key);throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(t)}.`)}function go(o,e){if(!Array.isArray(o)||0===o.length)throw new Cn(nn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(o.length>10)throw new Cn(nn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Bg(o,e,t){if(!t.isEqual(e))throw new Cn(nn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Yy={maxAttempts:5};class Vg{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Un()}}convertObject(e,t){const n={};return Z(e.fields,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertGeoPoint(e){return new cu(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Eo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ko(e));default:return null}}convertTimestamp(e){const t=Mr(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Di.fromString(e);fi(dp(n));const i=new Wo(n.get(1),n.get(3)),a=new Sn(n.popFirst(5));return i.isEqual(t)||$r(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Jf(o,e,t){let n;return n=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,n}class Ky extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}class Ug{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bl(e)}set(e,t,n){this._verifyNotCommitted();const i=pu(e,this._firestore),a=Jf(i.converter,t,n),u=Gf(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,n);return this._mutations.push(u.toMutation(i._key,Yr.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const a=pu(e,this._firestore);let u;return u="string"==typeof(t=(0,xe.m9)(t))||t instanceof el?Wf(this._dataReader,"WriteBatch.update",a._key,t,n,i):zf(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pu(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(t._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Cn(nn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(o,e){if((o=(0,xe.m9)(o)).firestore!==e)throw new Cn(nn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class Pd extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}function Jp(o,e,t){o=nr(o,Br);const n=nr(o.firestore,ts),i=Jf(o.converter,e,t);return ua(n,[Gf(bl(n),"setDoc",o._key,i,null!==o.converter,t).toMutation(o._key,Yr.none())])}function em(o,e,t,...n){o=nr(o,Br);const i=nr(o.firestore,ts),a=bl(i);let u;return u="string"==typeof(e=(0,xe.m9)(e))||e instanceof el?Wf(a,"updateDoc",o._key,e,t,n):zf(a,"updateDoc",o._key,e),ua(i,[u.toMutation(o._key,Yr.exists(!0))])}function Hg(o,...e){var t,n,i;o=(0,xe.m9)(o);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Fh(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Fh(e[u])){const re=e[u];e[u]=null===(t=re.next)||void 0===t?void 0:t.bind(re),e[u+1]=null===(n=re.error)||void 0===n?void 0:n.bind(re),e[u+2]=null===(i=re.complete)||void 0===i?void 0:i.bind(re)}let _,C,T;if(o instanceof Br)C=nr(o.firestore,ts),T=ec(o._key.path),_={next:re=>{e[u]&&e[u](wl(C,o,re))},error:e[u+1],complete:e[u+2]};else{const re=nr(o,Ca);C=nr(re.firestore,ts),T=re._query;const ve=new Pd(C);_={next:qe=>{e[u]&&e[u](new hu(C,ve,re,qe))},error:e[u+1],complete:e[u+2]},J_(o._query)}return function(re,ve,qe,vt){const kt=new wd(vt),tn=new Op(ve,kt,qe);return re.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Rp(yield yl(re),tn)})),()=>{kt.Rc(),re.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return kp(yield yl(re),tn)}))}}(Cs(C),T,f,_)}function ua(o,e){return function(t,n){const i=new Lr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Ly(o,e,t){return sg.apply(this,arguments)}(yield Dd(t),n,i)})),i.promise}(Cs(o),e)}function wl(o,e,t){const n=t.docs.get(e._key),i=new Pd(o);return new Na(o,i,e._key,n,new Lc(t.hasPendingWrites,t.fromCache),e.converter)}class jg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bl(e)}get(e){const t=pu(e,this._firestore),n=new Ky(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Un();const a=i[0];if(a.isFoundDocument())return new ca(this._firestore,n,a.key,a,t.converter);if(a.isNoDocument())return new ca(this._firestore,n,t._key,null,t.converter);throw Un()})}set(e,t,n){const i=pu(e,this._firestore),a=Jf(i.converter,t,n),u=Gf(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,n);return this._transaction.set(i._key,u),this}update(e,t,n,...i){const a=pu(e,this._firestore);let u;return u="string"==typeof(t=(0,xe.m9)(t))||t instanceof el?Wf(this._dataReader,"Transaction.update",a._key,t,n,i):zf(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=pu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pu(e,this._firestore),n=new Pd(this._firestore);return super.get(e).then(i=>new Na(this._firestore,n,t._key,i._document,new Lc(!1,!1),t.converter))}}function nm(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cn("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function ep(){if(typeof Uint8Array>"u")throw new Cn("unimplemented","Uint8Arrays are not available in this environment.")}function ay(){if(!function Ss(){return typeof atob<"u"}())throw new Cn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(o,e=!0){al=dt.SDK_VERSION,(0,dt._registerComponent)(new tt.wA("firestore",(t,{instanceIdentifier:n,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new ts(new _a(t.getProvider("auth-internal")),new _r(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Cn(nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(f.options.projectId,_)}(a,n),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,dt.registerVersion)(Tl,"3.5.0",o),(0,dt.registerVersion)(Tl,"3.5.0","esm2017")}();class Hh{constructor(e){this._delegate=e}static fromBase64String(e){return ay(),new Hh(aa.fromBase64String(e))}static fromUint8Array(e){return ep(),new Hh(aa.fromUint8Array(e))}toBase64(){return ay(),this._delegate.toBase64()}toUint8Array(){return ep(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function im(o){return function zg(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(o,["next","error","complete"])}class rm{enableIndexedDbPersistence(e,t){return function dc(o,e){Id(o=nr(o,ts));const t=Cs(o),n=o._freezeSettings(),i=new Of;return No(t,i,new Gu(i,n.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Vf(o){Id(o=nr(o,ts));const e=Cs(o),t=o._freezeSettings(),n=new Of;return No(e,n,new $p(n,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Pc(o){if(o._initialized&&!o._terminated)throw new Cn(nn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return o._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(n){if(!js.C())return Promise.resolve();const i=n+"main";yield js.delete(i)}),function(n){return t.apply(this,arguments)})(Gm(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ly{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ir("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function Ph(o,e,t,n={}){var i;const a=(o=nr(o,Ed))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),n.mockUserToken){let u,f;if("string"==typeof n.mockUserToken)u=n.mockUserToken,f=Ui.MOCK_USER;else{u=(0,xe.Sg)(n.mockUserToken,null===(i=o._app)||void 0===i?void 0:i.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new Cn(nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ui(_)}o._authCredentials=new jo(new Rl(u,f))}}(this._delegate,e,t,n)}enableNetwork(){return function Ja(o){return function vg(o){return o.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield _g(o),t=yield yg(o);return e.setNetworkEnabled(!0),function(n){const i=jn(n);return i._u.delete(0),ru(i)}(t)}))}(Cs(o=nr(o,ts)))}(this._delegate)}disableNetwork(){return function Sg(o){return function bg(o){return o.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield _g(o),t=yield yg(o);return e.setNetworkEnabled(!1),(n=(0,be.Z)(function*(i){const a=jn(i);a._u.add(0),yield Qa(a),a.gu.set("Offline")}),function(i){return n.apply(this,arguments)})(t);var n}))}(Cs(o=nr(o,ts)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Dg("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Kp(o){return function(e){const t=new Lr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Ny(o,e){return Up.apply(this,arguments)}(yield Dd(e),t)})),t.promise}(Cs(o=nr(o,ts)))}(this._delegate)}onSnapshotsInSync(e){return function Kl(o,e){return function wg(o,e){const t=new wd(e);return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return n=yield yl(o),i=t,jn(n).Ru.add(i),void i.next();var n,i})),()=>{t.Rc(),o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return n=yield yl(o),i=t,void jn(n).Ru.delete(i);var n,i}))}}(Cs(o=nr(o,ts)),Fh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Cn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jh(this,xg(this._delegate,e))}catch(t){throw Da(t,"collection()","Firestore.collection()")}}doc(e){try{return new Cl(this,xd(this._delegate,e))}catch(t){throw Da(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function $y(o,e){if(o=nr(o,Ed),Oc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cn(nn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ca(o,null,(t=e,new dl(Di.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Da(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ry(o,e,t){o=nr(o,ts);const n=Object.assign(Object.assign({},Yy),t);return function(i){if(i.maxAttempts<1)throw new Cn(nn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function Cg(o,e,t){const n=new Lr;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const i=yield(a=o,Bf(a).then(u=>u.datastore));var a;new Hy(o.asyncQueue,i,t,e,n).run()})),n.promise}(Cs(o),i=>e(new jg(o,i)),n)}(this._delegate,t=>e(new Wg(this,t)))}batch(){return Cs(this._delegate),new Yg(new Ug(this._delegate,e=>ua(this._delegate,e)))}loadBundle(e){return function Lh(o,e){const t=Cs(o=nr(o,ts)),n=new zu;return function K_(o,e,t,n){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,C){if(_ instanceof Uint8Array)return pg(_,C);if(_ instanceof ArrayBuffer)return pg(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Uy(_,u);var _}(t,Mp(e));o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function W_(o,e,t){const n=jn(o);var i;(i=(0,be.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(ve,qe){const vt=jn(ve),kt=Ar(qe.createTime);return vt.persistence.runTransaction("hasNewerBundle","readonly",tn=>vt.Ns.getBundleMetadata(tn,qe.id)).then(tn=>!!tn&&tn.createTime.compareTo(kt)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(ve=_).totalDocuments,bytesLoaded:ve.totalBytes,totalDocuments:ve.totalDocuments,totalBytes:ve.totalBytes}),Promise.resolve(new Set);f._updateProgress(Py(_));const C=new _v(_,a.localStore,u.It);let T=yield u.wc();for(;T;){const ve=yield C.Ou(T);ve&&f._updateProgress(ve),T=yield u.wc()}const re=yield C.complete();return yield Tc(a,re.Bu,void 0),yield function(ve,qe){const vt=jn(ve);return vt.persistence.runTransaction("Save bundle","readwrite",kt=>vt.Ns.saveBundleMetadata(kt,qe))}(a.localStore,_),f._completeWith(re.progress),Promise.resolve(re.$u)}catch(_){return ir("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var ve}),function(a,u,f){return i.apply(this,arguments)})(n,e,t).then(i=>{n.sharedClientState.notifyBundleLoaded(i)})}(yield Dd(o),i,n)}))}(t,o._databaseId,e,n),n}(this._delegate,e)}namedQuery(e){return function Md(o,e){return function jy(o,e){return o.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,n){const i=jn(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,n))}(yield $u(o),e)}))}(Cs(o=nr(o,ts)),e).then(t=>t?new Ca(o,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class sm extends Vg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(new aa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cl.forKey(t,this.firestore,null)}}class Wg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sm(e)}get(e){const t=Fd(e);return this._delegate.get(t).then(n=>new Zl(this._firestore,new Na(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,t.converter)))}set(e,t,n){const i=Fd(e);return n?(nm("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const a=Fd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Fd(e);return this._delegate.delete(t),this}}class Yg{constructor(e){this._delegate=e}set(e,t,n){const i=Fd(e);return n?(nm("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const a=Fd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Fd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mu{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Zf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _o(this._firestore,n),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=mu.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let a=i.get(t);return a||(a=new mu(e,new sm(e),t),i.set(t,a)),a}}mu.INSTANCES=new WeakMap;class Cl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sm(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Cn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cl(t,new Br(t._delegate,n,new Sn(e)))}static forKey(e,t,n){return new Cl(t,new Br(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new jh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jh(this.firestore,xg(this._delegate,e))}catch(t){throw Da(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xe.m9)(e))instanceof Br&&Mg(this._delegate,e)}set(e,t){t=nm("DocumentReference.set",t);try{return t?Jp(this._delegate,e,t):Jp(this._delegate,e)}catch(n){throw Da(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?em(this._delegate,e):em(this._delegate,e,t,...n)}catch(i){throw Da(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Nc(o){return ua(nr(o.firestore,ts),[new Cu(o._key,Yr.none())])}(this._delegate)}onSnapshot(...e){const t=Kg(e),n=uy(e,i=>new Zl(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Hg(this._delegate,t,n)}get(e){let t;return t="cache"===e?.source?function Zy(o){o=nr(o,Br);const e=nr(o.firestore,ts),t=Cs(e),n=new Pd(e);return function zl(o,e){const t=new Lr;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(n=(0,be.Z)(function*(i,a,u){try{const f=yield function(_,C){const T=jn(_);return T.persistence.runTransaction("read document","readonly",re=>T.localDocuments.getDocument(re,C))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Cn(nn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ch(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return n.apply(this,arguments)})(yield $u(o),e,t);var n})),t.promise}(t,o._key).then(i=>new Na(e,n,o._key,i,new Lc(null!==i&&i.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function ny(o){o=nr(o,Br);const e=nr(o.firestore,ts);return kh(Cs(e),o._key,{source:"server"}).then(t=>wl(e,o,t))}(this._delegate):function Uh(o){o=nr(o,Br);const e=nr(o.firestore,ts);return kh(Cs(e),o._key).then(t=>wl(e,o,t))}(this._delegate),t.then(n=>new Zl(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new Cl(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}function Da(o,e,t){return o.message=o.message.replace(e,t),o}function Kg(o){for(const e of o)if("object"==typeof e&&!im(e))return e;return{}}function uy(o,e){var t,n;let i;return i=im(o[0])?o[0]:im(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(n=i.complete)||void 0===n?void 0:n.bind(i)}}class Zl{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qf(this._delegate,e._delegate)}}class _o extends Zl{data(e){const t=this._delegate.data(e);return function na(o,e){o||Un()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sm(e)}where(e,t,n){try{return new fs(this.firestore,fu(this._delegate,function Od(o,e,t){const n=e,i=kd("where",o);return new kg(i,n,t)}(e,t,n)))}catch(i){throw Da(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,fu(this._delegate,function Vh(o,e="asc"){const t=e,n=kd("orderBy",o);return new Qf(n,t)}(e,t)))}catch(n){throw Da(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,fu(this._delegate,function Og(o){return Z_("limit",o),new Xf("limit",o,"F")}(e)))}catch(t){throw Da(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,fu(this._delegate,function Pg(o){return Z_("limitToLast",o),new Xf("limitToLast",o,"L")}(e)))}catch(t){throw Da(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,fu(this._delegate,function Fg(...o){return new Xp("startAt",o,!0)}(...e)))}catch(t){throw Da(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,fu(this._delegate,function Lg(...o){return new Xp("startAfter",o,!1)}(...e)))}catch(t){throw Da(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,fu(this._delegate,function ey(...o){return new hc("endBefore",o,!1)}(...e)))}catch(t){throw Da(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,fu(this._delegate,function Wy(...o){return new hc("endAt",o,!0)}(...e)))}catch(t){throw Da(t,"endAt()","Query.endAt()")}}isEqual(e){return Xa(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function iy(o){o=nr(o,Ca);const e=nr(o.firestore,ts),t=Cs(e),n=new Pd(e);return function Wp(o,e){const t=new Lr;return o.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(n=(0,be.Z)(function*(i,a,u){try{const f=yield Fu(i,a,!0),_=new lc(a,f.Hi),C=_.ju(f.documents),T=_.applyChanges(C,!1);u.resolve(T.snapshot)}catch(f){const _=Ch(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return n.apply(this,arguments)})(yield $u(o),e,t);var n})),t.promise}(t,o._query).then(i=>new hu(e,n,o,i))}(this._delegate):"server"===e?.source?function wv(o){o=nr(o,Ca);const e=nr(o.firestore,ts),t=Cs(e),n=new Pd(e);return kc(t,o._query,{source:"server"}).then(i=>new hu(e,n,o,i))}(this._delegate):function qy(o){o=nr(o,Ca);const e=nr(o.firestore,ts),t=Cs(e),n=new Pd(e);return J_(o._query),kc(t,o._query).then(i=>new hu(e,n,o,i))}(this._delegate),t.then(n=>new Zg(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const t=Kg(e),n=uy(e,i=>new Zg(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Hg(this._delegate,t,n)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}class tp{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _o(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _o(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new tp(this._firestore,t))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new _o(this._firestore,n))})}isEqual(e){return qf(this._delegate,e._delegate)}}class jh extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cl(this.firestore,e):null}doc(e){try{return new Cl(this.firestore,void 0===e?xd(this._delegate):xd(this._delegate,e))}catch(t){throw Da(t,"doc()","CollectionReference.doc()")}}add(e){return function fc(o,e){const t=nr(o.firestore,ts),n=xd(o),i=Jf(o.converter,e);return ua(t,[Gf(bl(o.firestore),"addDoc",n._key,i,null!==o.converter,{}).toMutation(n._key,Yr.exists(!1))]).then(()=>n)}(this._delegate,e).then(t=>new Cl(this.firestore,t))}isEqual(e){return Mg(this._delegate,e._delegate)}withConverter(e){return new jh(this.firestore,this._delegate.withConverter(e?mu.getInstance(this.firestore,e):null))}}function Fd(o){return nr(o,Br)}class qg{constructor(...e){this._delegate=new el(...e)}static documentId(){return new qg(lr.keyField().canonicalString())}isEqual(e){return(e=(0,xe.m9)(e))instanceof el&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Xy(){return new Zp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ld(e)}static delete(){const e=function Qy(){return new Ad("deleteField")}();return e._methodName="FieldValue.delete",new Ld(e)}static arrayUnion(...e){const t=function Jy(...o){return new $f("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new Ld(t)}static arrayRemove(...e){const t=function sy(...o){return new Rg("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new Ld(t)}static increment(e){const t=function Gg(o){return new qp("increment",o)}(e);return t._methodName="FieldValue.increment",new Ld(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tv={Firestore:ly,GeoPoint:cu,Timestamp:er,Blob:Hh,Transaction:Wg,WriteBatch:Yg,DocumentReference:Cl,DocumentSnapshot:Zl,Query:fs,QueryDocumentSnapshot:_o,QuerySnapshot:Zg,CollectionReference:jh,FieldPath:qg,FieldValue:Ld,setLogLevel:function cy(o){!function Ba(o){Wi.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function hy(o){(function dy(o,e){o.INTERNAL.registerComponent(new tt.wA("firestore-compat",t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(n,i)},"PUBLIC").setServiceProps(Object.assign({},tv)))})(o,(e,t)=>new ly(e,t,new rm)),o.registerVersion("@firebase/firestore-compat","0.1.25")}(Ee.Z);var gu=w(1205),fy=w(440),np=w(127);function om(o,e){return function nv(o,e=y.z){return new b.y(t=>{let n;return null!=e?e.schedule(()=>{n=o.onSnapshot({includeMetadataChanges:!0},t)}):n=o.onSnapshot({includeMetadataChanges:!0},t),()=>{n?.()}})}(o,e)}function am(o,e){return om(o,e).pipe((0,me.U)(t=>({payload:t,type:"query"})))}function Gh(o,e){return am(o,e).pipe((0,Ke.O)(void 0),ne(),(0,me.U)(([t,n])=>{const i=n.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(n.payload.metadata)&&n.payload.docs.forEach((u,f)=>{const _=i.find(T=>T.doc.ref.isEqual(u.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function lm(o,e,t){return Gh(o,t).pipe((0,he.R)((n,i)=>function Qg(o,e,t){return e.forEach(n=>{t.indexOf(n.type)>-1&&(o=function my(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return cm(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cm(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cm(o,e.oldIndex,1)}return o}(o,n))}),o}(n,i.map(a=>a.payload),e),[]),(0,He.x)(),(0,me.U)(n=>n.map(i=>({type:i.type,payload:i}))))}function cm(o,e,t,...n){const i=o.slice();return i.splice(e,t,...n),i}function Xg(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class ip{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Gh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,me.U)(n=>n.filter(i=>e.indexOf(i.type)>-1)))),t.pipe((0,Ke.O)(void 0),ne(),(0,We.h)(([n,i])=>i.length>0||!n),(0,me.U)(([n,i])=>i),Be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,he.R)((t,n)=>[...t,...n],[]))}snapshotChanges(e){const t=Xg(e);return lm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Be.iC)}valueChanges(e={}){return am(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.payload.docs.map(n=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data())),Be.iC)}get(e){return(0,F.D)(this.query.get(e)).pipe(Be.iC)}add(e){return this.ref.add(e)}doc(e){return new um(this.ref.doc(e),this.afs)}}class um{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:i,query:a}=dm(n,t);return new ip(i,a,this.afs)}snapshotChanges(){return function py(o,e){return om(o,e).pipe((0,Ke.O)(void 0),ne(),(0,me.U)(([t,n])=>n.exists?t?.exists?{payload:n,type:"modified"}:{payload:n,type:"added"}:{payload:n,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Be.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,me.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,F.D)(this.ref.get(e)).pipe(Be.iC)}}class Nd{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Gh(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(t=>t.filter(n=>e.indexOf(n.type)>-1)),(0,We.h)(t=>t.length>0),Be.iC):Gh(this.query,this.afs.schedulers.outsideAngular).pipe(Be.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,he.R)((t,n)=>[...t,...n],[]))}snapshotChanges(e){const t=Xg(e);return lm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Be.iC)}valueChanges(e={}){return am(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(n=>n.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Be.iC)}get(e){return(0,F.D)(this.query.get(e)).pipe(Be.iC)}}const Jg=new c.OlP("angularfire2.enableFirestorePersistence"),gy=new c.OlP("angularfire2.firestore.persistenceSettings"),$h=new c.OlP("angularfire2.firestore.settings"),Cv=new c.OlP("angularfire2.firestore.use-emulator");function dm(o,e=(t=>t)){return{query:e(o),ref:o}}let iv=(()=>{class o{constructor(t,n,i,a,u,f,_,C,T,re,ve,qe,vt,kt,tn,An,Zn){this.schedulers=_;const Xn=(0,Me.on)(t,f,n),oi=T;re&&(0,gu.nw)(Xn,f,ve,vt,kt,tn,qe,An),[this.firestore,this.persistenceEnabled$]=(0,Me.cc)(`${Xn.name}.firestore`,"AngularFirestore",Xn.name,()=>{const Jn=f.runOutsideAngular(()=>Xn.firestore());if(a&&Jn.settings(a),oi&&Jn.useEmulator(...oi),i&&!(0,ze.PM)(u)){const ki=()=>{try{return(0,F.D)(Jn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(fr){return typeof console<"u"&&console.warn(fr),(0,de.of)(!1)}};return[Jn,f.runOutsideAngular(ki)]}return[Jn,(0,de.of)(!1)]},[a,oi,i])}collection(t,n){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=dm(i,n),f=this.schedulers.ngZone.run(()=>a);return new ip(f,u,this)}collectionGroup(t,n){const i=n||(u=>u),a=this.firestore.collectionGroup(t);return new Nd(i(a),this)}doc(t){let n;n="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>n);return new um(i,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(t){return new(t||o)(c.LFG(Me.Dh),c.LFG(Me.xv,8),c.LFG(Jg,8),c.LFG($h,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Be.HU),c.LFG(gy,8),c.LFG(Cv,8),c.LFG(gu.zQ,8),c.LFG(gu.Qv,8),c.LFG(gu.L6,8),c.LFG(gu._Q,8),c.LFG(gu.rT,8),c.LFG(gu.lh,8),c.LFG(gu.f7,8),c.LFG(fy.nm,8))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),_y=(()=>{class o{constructor(){np.Z.registerVersion("angularfire",Be.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:Jg,useValue:!0},{provide:gy,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({providers:[iv]}),o})()},2011:(ln,ht,w)=>{w.d(ht,{Dh:()=>Re,GT:()=>Be,cc:()=>We,hO:()=>He,on:()=>ne,pX:()=>de,xv:()=>S});var c=w(4650),y=w(127),b=w(5813);ln=w.hmd(ln);const F=["ngOnDestroy"],de=(Ee,be,dt,tt={})=>new Proxy(Ee,{get:(Le,xe)=>dt.runOutsideAngular(()=>{var Ne;if(Ee[xe])return!(null===(Ne=tt?.spy)||void 0===Ne)&&Ne.get&&tt.spy.get(xe,Ee[xe]),Ee[xe];if(F.indexOf(xe)>-1)return()=>{};const se=be.toPromise().then(oe=>{const Qe=oe&&oe[xe];return"function"==typeof Qe?Qe.bind(oe):Qe&&Qe.then?Qe.then(ae=>dt.run(()=>ae)):dt.run(()=>Qe)});return new Proxy(()=>{},{get:(oe,Qe)=>se[Qe],apply:(oe,Qe,ae)=>se.then(ue=>{var Ce;const Je=ue&&ue(...ae);return!(null===(Ce=tt?.spy)||void 0===Ce)&&Ce.apply&&tt.spy.apply(xe,ae,Je),Je})})})}),Be=(Ee,be)=>{be.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(tt=>{Object.defineProperty(Ee.prototype,tt,Object.getOwnPropertyDescriptor(dt.prototype||dt,tt))})})};class Ke{constructor(be){return be}}const Re=new c.OlP("angularfire2.app.options"),S=new c.OlP("angularfire2.app.name");function ne(Ee,be,dt){const Le="object"==typeof dt&&dt||{};Le.name=Le.name||"string"==typeof dt&&dt||"[DEFAULT]";const Ne=y.Z.apps.filter(se=>se&&se.name===Le.name)[0]||be.runOutsideAngular(()=>y.Z.initializeApp(Ee,Le));try{JSON.stringify(Ee)!==JSON.stringify(Ne.options)&&me("error",`${Ne.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ke(Ne)}const me=(Ee,...be)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ee](...be)},he={provide:Ke,useFactory:ne,deps:[Re,c.R0b,[new c.FiY,S]]};let He=(()=>{class Ee{constructor(dt){y.Z.registerVersion("angularfire",b.q4.full,"core"),y.Z.registerVersion("angularfire",b.q4.full,"app-compat"),y.Z.registerVersion("angular",c.q4F.full,dt.toString())}static initializeApp(dt,tt){return{ngModule:Ee,providers:[{provide:Re,useValue:dt},{provide:S,useValue:tt}]}}}return Ee.\u0275fac=function(dt){return new(dt||Ee)(c.LFG(c.Lbi))},Ee.\u0275mod=c.oAB({type:Ee}),Ee.\u0275inj=c.cJS({providers:[he]}),Ee})();function We(Ee,be,dt,tt,Le){const[,xe,Ne]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===Ee)||[];if(xe)return function Me(Ee,be){try{return Ee.toString()===be.toString()}catch{return Ee===be}}(Le,Ne)||(Se("error",`${be} was already initialized on the ${dt} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Le,was:Ne})),xe;{const se=tt();return globalThis.\u0275AngularfireInstanceCache.push([Ee,se,Le]),se}}const ze=!!ln.hot,Se=(Ee,...be)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ee](...be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ln,ht,w)=>{w.d(ht,{q4:()=>_t,iC:()=>po,fc:()=>fo,HU:()=>Wo,vb:()=>ja,JM:()=>to});var c=w(4650),y=w(5867),b=w(5861),F=w(9681),de=w(2090),Be=w(3475),Ke=w(1877),Re=w(8766);const S="@firebase/installations",ne="0.5.12",he=`w:${ne}`,He="FIS_v2",be=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(j){return j instanceof de.ZR&&j.code.includes("request-failed")}function tt({projectId:j}){return`https://firebaseinstallations.googleapis.com/v1/projects/${j}/installations`}function Le(j){return{token:j.token,requestStatus:2,expiresIn:ue(j.expiresIn),creationTime:Date.now()}}function xe(j,q){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,b.Z)(function*(j,q){const ft=(yield q.json()).error;return be.create("request-failed",{requestName:j,serverCode:ft.code,serverMessage:ft.message,serverStatus:ft.status})})).apply(this,arguments)}function se({apiKey:j}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j})}function oe(j,{refreshToken:q}){const ye=se(j);return ye.append("Authorization",function Ce(j){return`${He} ${j}`}(q)),ye}function Qe(j){return ae.apply(this,arguments)}function ae(){return(ae=(0,b.Z)(function*(j){const q=yield j();return q.status>=500&&q.status<600?j():q})).apply(this,arguments)}function ue(j){return Number(j.replace("s","000"))}function Je(j,q){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,b.Z)(function*({appConfig:j,heartbeatServiceProvider:q},{fid:ye}){const ft=tt(j),Ut=se(j),Wt=q.getImmediate({optional:!0});if(Wt){const pi=yield Wt.getHeartbeatsHeader();pi&&Ut.append("x-firebase-client",pi)}const On={method:"POST",headers:Ut,body:JSON.stringify({fid:ye,authVersion:He,appId:j.appId,sdkVersion:he})},ti=yield Qe(()=>fetch(ft,On));if(ti.ok){const pi=yield ti.json();return{fid:pi.fid||ye,registrationStatus:2,refreshToken:pi.refreshToken,authToken:Le(pi.authToken)}}throw yield xe("Create Installation",ti)})).apply(this,arguments)}function jt(j){return new Promise(q=>{setTimeout(q,j)})}const on=/^[cdef][\w-]{21}$/;function Te(){try{const j=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(j),j[0]=112+j[0]%16;const ye=function Et(j){return function sn(j){return btoa(String.fromCharCode(...j)).replace(/\+/g,"-").replace(/\//g,"_")}(j).substr(0,22)}(j);return on.test(ye)?ye:""}catch{return""}}function pt(j){return`${j.appName}!${j.appId}`}const Lt=new Map;function Mt(j,q){const ye=pt(j);et(ye,q),function rt(j,q){const ye=function Nt(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=j=>{et(j.data.key,j.data.fid)}),Dt}();ye&&ye.postMessage({key:j,fid:q}),function dn(){0===Lt.size&&Dt&&(Dt.close(),Dt=null)}()}(ye,q)}function et(j,q){const ye=Lt.get(j);if(ye)for(const ft of ye)ft(q)}let Dt=null;const Fn="firebase-installations-store";let Bn=null;function En(){return Bn||(Bn=(0,Re.X3)("firebase-installations-database",1,{upgrade:(j,q)=>{0===q&&j.createObjectStore(Fn)}})),Bn}function Jt(j,q){return ot.apply(this,arguments)}function ot(){return(ot=(0,b.Z)(function*(j,q){const ye=pt(j),Ut=(yield En()).transaction(Fn,"readwrite"),Wt=Ut.objectStore(Fn),Dn=yield Wt.get(ye);return yield Wt.put(q,ye),yield Ut.done,(!Dn||Dn.fid!==q.fid)&&Mt(j,q.fid),q})).apply(this,arguments)}function ge(j){return P.apply(this,arguments)}function P(){return(P=(0,b.Z)(function*(j){const q=pt(j),ft=(yield En()).transaction(Fn,"readwrite");yield ft.objectStore(Fn).delete(q),yield ft.done})).apply(this,arguments)}function $(j,q){return De.apply(this,arguments)}function De(){return(De=(0,b.Z)(function*(j,q){const ye=pt(j),Ut=(yield En()).transaction(Fn,"readwrite"),Wt=Ut.objectStore(Fn),Dn=yield Wt.get(ye),On=q(Dn);return void 0===On?yield Wt.delete(ye):yield Wt.put(On,ye),yield Ut.done,On&&(!Dn||Dn.fid!==On.fid)&&Mt(j,On.fid),On})).apply(this,arguments)}function mt(j){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,b.Z)(function*(j){let q;const ye=yield $(j.appConfig,ft=>{const Ut=Pe(ft),Wt=Fe(j,Ut);return q=Wt.registrationPromise,Wt.installationEntry});return""===ye.fid?{installationEntry:yield q}:{installationEntry:ye,registrationPromise:q}})).apply(this,arguments)}function Pe(j){return at(j||{fid:Te(),registrationStatus:0})}function Fe(j,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(be.create("app-offline"))};const ye={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},ft=function xt(j,q){return St.apply(this,arguments)}(j,ye);return{installationEntry:ye,registrationPromise:ft}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Pt(j)}:{installationEntry:q}}function St(){return(St=(0,b.Z)(function*(j,q){try{const ye=yield Je(j,q);return Jt(j.appConfig,ye)}catch(ye){throw dt(ye)&&409===ye.customData.serverCode?yield ge(j.appConfig):yield Jt(j.appConfig,{fid:q.fid,registrationStatus:0}),ye}})).apply(this,arguments)}function Pt(j){return gn.apply(this,arguments)}function gn(){return(gn=(0,b.Z)(function*(j){let q=yield Ln(j.appConfig);for(;1===q.registrationStatus;)yield jt(100),q=yield Ln(j.appConfig);if(0===q.registrationStatus){const{installationEntry:ye,registrationPromise:ft}=yield mt(j);return ft||ye}return q})).apply(this,arguments)}function Ln(j){return $(j,q=>{if(!q)throw be.create("installation-not-found");return at(q)})}function at(j){return function Vt(j){return 1===j.registrationStatus&&j.registrationTime+1e4<Date.now()}(j)?{fid:j.fid,registrationStatus:0}:j}function ce(j,q){return lt.apply(this,arguments)}function lt(){return(lt=(0,b.Z)(function*({appConfig:j,heartbeatServiceProvider:q},ye){const ft=gt(j,ye),Ut=oe(j,ye),Wt=q.getImmediate({optional:!0});if(Wt){const pi=yield Wt.getHeartbeatsHeader();pi&&Ut.append("x-firebase-client",pi)}const On={method:"POST",headers:Ut,body:JSON.stringify({installation:{sdkVersion:he,appId:j.appId}})},ti=yield Qe(()=>fetch(ft,On));if(ti.ok)return Le(yield ti.json());throw yield xe("Generate Auth Token",ti)})).apply(this,arguments)}function gt(j,{fid:q}){return`${tt(j)}/${q}/authTokens:generate`}function te(j){return J.apply(this,arguments)}function J(){return(J=(0,b.Z)(function*(j,q=!1){let ye;const ft=yield $(j.appConfig,Wt=>{if(!je(Wt))throw be.create("not-registered");const Dn=Wt.authToken;if(!q&&Ft(Dn))return Wt;if(1===Dn.requestStatus)return ye=ee(j,q),Wt;{if(!navigator.onLine)throw be.create("app-offline");const On=mn(Wt);return ye=z(j,On),On}});return ye?yield ye:ft.authToken})).apply(this,arguments)}function ee(j,q){return O.apply(this,arguments)}function O(){return(O=(0,b.Z)(function*(j,q){let ye=yield K(j.appConfig);for(;1===ye.authToken.requestStatus;)yield jt(100),ye=yield K(j.appConfig);const ft=ye.authToken;return 0===ft.requestStatus?te(j,q):ft})).apply(this,arguments)}function K(j){return $(j,q=>{if(!je(q))throw be.create("not-registered");return function At(j){return 1===j.requestStatus&&j.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function z(j,q){return fe.apply(this,arguments)}function fe(){return(fe=(0,b.Z)(function*(j,q){try{const ye=yield ce(j,q),ft=Object.assign(Object.assign({},q),{authToken:ye});return yield Jt(j.appConfig,ft),ye}catch(ye){if(!dt(ye)||401!==ye.customData.serverCode&&404!==ye.customData.serverCode){const ft=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Jt(j.appConfig,ft)}else yield ge(j.appConfig);throw ye}})).apply(this,arguments)}function je(j){return void 0!==j&&2===j.registrationStatus}function Ft(j){return 2===j.requestStatus&&!function cn(j){const q=Date.now();return q<j.creationTime||j.creationTime+j.expiresIn<q+36e5}(j)}function mn(j){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},j),{authToken:q})}function yt(){return(yt=(0,b.Z)(function*(j){const q=j,{installationEntry:ye,registrationPromise:ft}=yield mt(q);return ft?ft.catch(console.error):te(q).catch(console.error),ye.fid})).apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(j,q=!1){const ye=j;return yield $n(ye),(yield te(ye,q)).token})).apply(this,arguments)}function $n(j){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,b.Z)(function*(j){const{registrationPromise:q}=yield mt(j);q&&(yield q)})).apply(this,arguments)}function Ii(j){return be.create("missing-app-config-values",{valueName:j})}const wr="installations",wt=j=>{const q=j.getProvider("app").getImmediate(),ye=function ii(j){if(!j||!j.options)throw Ii("App Configuration");if(!j.name)throw Ii("App Name");const q=["projectId","apiKey","appId"];for(const ye of q)if(!j.options[ye])throw Ii(ye);return{appName:j.name,projectId:j.options.projectId,apiKey:j.options.apiKey,appId:j.options.appId}}(q);return{app:q,appConfig:ye,heartbeatServiceProvider:(0,F._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},B=j=>{const q=j.getProvider("app").getImmediate(),ye=(0,F._getProvider)(q,wr).getImmediate();return{getId:()=>function ut(j){return yt.apply(this,arguments)}(ye),getToken:Ut=>function Yt(j){return wn.apply(this,arguments)}(ye,Ut)}};(function we(){(0,F._registerComponent)(new Be.wA(wr,wt,"PUBLIC")),(0,F._registerComponent)(new Be.wA("installations-internal",B,"PRIVATE"))})(),(0,F.registerVersion)(S,ne),(0,F.registerVersion)(S,ne,"esm2017");const Ve="@firebase/remote-config",mi=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ms{constructor(q,ye,ft,Ut){this.client=q,this.storage=ye,this.storageCache=ft,this.logger=Ut}isCachedDataFresh(q,ye){if(!ye)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ft=Date.now()-ye,Ut=ft<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ft}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${Ut}.`),Ut}fetch(q){var ye=this;return(0,b.Z)(function*(){const[ft,Ut]=yield Promise.all([ye.storage.getLastSuccessfulFetchTimestampMillis(),ye.storage.getLastSuccessfulFetchResponse()]);if(Ut&&ye.isCachedDataFresh(q.cacheMaxAgeMillis,ft))return Ut;q.eTag=Ut&&Ut.eTag;const Wt=yield ye.client.fetch(q),Dn=[ye.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Wt.status&&Dn.push(ye.storage.setLastSuccessfulFetchResponse(Wt)),yield Promise.all(Dn),Wt})()}}function rn(j=navigator){return j.languages&&j.languages[0]||j.language}class Cr{constructor(q,ye,ft,Ut,Wt,Dn){this.firebaseInstallations=q,this.sdkVersion=ye,this.namespace=ft,this.projectId=Ut,this.apiKey=Wt,this.appId=Dn}fetch(q){var ye=this;return(0,b.Z)(function*(){var ft,Ut,Wt;const[Dn,On]=yield Promise.all([ye.firebaseInstallations.getId(),ye.firebaseInstallations.getToken()]),pi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ye.projectId}/namespaces/${ye.namespace}:fetch?key=${ye.apiKey}`,Ti={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},ui={sdk_version:ye.sdkVersion,app_instance_id:Dn,app_instance_id_token:On,app_id:ye.appId,language_code:rn()},cr={method:"POST",headers:Ti,body:JSON.stringify(ui)},Fs=fetch(pi,cr),Fl=new Promise((Ko,$a)=>{q.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",$a(za)})});let us;try{yield Promise.race([Fs,Fl]),us=yield Fs}catch(Ko){let $a="fetch-client-network";throw"AbortError"===(null===(ft=Ko)||void 0===ft?void 0:ft.name)&&($a="fetch-timeout"),mi.create($a,{originalErrorMessage:null===(Ut=Ko)||void 0===Ut?void 0:Ut.message})}let Ll=us.status;const rr=us.headers.get("ETag")||void 0;let xo,Jl;if(200===us.status){let Ko;try{Ko=yield us.json()}catch($a){throw mi.create("fetch-client-parse",{originalErrorMessage:null===(Wt=$a)||void 0===Wt?void 0:Wt.message})}xo=Ko.entries,Jl=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===Jl?Ll=500:"NO_CHANGE"===Jl?Ll=304:("NO_TEMPLATE"===Jl||"EMPTY_CONFIG"===Jl)&&(xo={}),304!==Ll&&200!==Ll)throw mi.create("fetch-status",{httpStatus:Ll});return{status:Ll,eTag:rr,config:xo}})()}}class Tt{constructor(q,ye){this.client=q,this.storage=ye}fetch(q){var ye=this;return(0,b.Z)(function*(){const ft=(yield ye.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ye.attemptFetch(q,ft)})()}attemptFetch(q,{throttleEndTimeMillis:ye,backoffCount:ft}){var Ut=this;return(0,b.Z)(function*(){yield function is(j,q){return new Promise((ye,ft)=>{const Ut=Math.max(q-Date.now(),0),Wt=setTimeout(ye,Ut);j.addEventListener(()=>{clearTimeout(Wt),ft(mi.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ye);try{const Wt=yield Ut.client.fetch(q);return yield Ut.storage.deleteThrottleMetadata(),Wt}catch(Wt){if(!function Ot(j){if(!(j instanceof de.ZR&&j.customData))return!1;const q=Number(j.customData.httpStatus);return 429===q||500===q||503===q||504===q}(Wt))throw Wt;const Dn={throttleEndTimeMillis:Date.now()+(0,de.$s)(ft),backoffCount:ft+1};return yield Ut.storage.setThrottleMetadata(Dn),Ut.attemptFetch(q,Dn)}})()}}class Rn{constructor(q,ye,ft,Ut,Wt){this.app=q,this._client=ye,this._storageCache=ft,this._storage=Ut,this._logger=Wt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nn(j,q){var ye;const ft=j.target.error||void 0;return mi.create(q,{originalErrorMessage:ft&&(null===(ye=ft)||void 0===ye?void 0:ye.message)})}const ri="app_namespace_store";class Zr{constructor(q,ye,ft,Ut=function Es(){return new Promise((j,q)=>{var ye;try{const ft=indexedDB.open("firebase_remote_config",1);ft.onerror=Ut=>{q(Nn(Ut,"storage-open"))},ft.onsuccess=Ut=>{j(Ut.target.result)},ft.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(ri,{keyPath:"compositeKey"})}}catch(ft){q(mi.create("storage-open",{originalErrorMessage:null===(ye=ft)||void 0===ye?void 0:ye.message}))}})}()){this.appId=q,this.appName=ye,this.namespace=ft,this.openDbPromise=Ut}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ye=this;return(0,b.Z)(function*(){const ft=yield ye.openDbPromise;return new Promise((Ut,Wt)=>{var Dn;const ti=ft.transaction([ri],"readonly").objectStore(ri),pi=ye.createCompositeKey(q);try{const Ti=ti.get(pi);Ti.onerror=ui=>{Wt(Nn(ui,"storage-get"))},Ti.onsuccess=ui=>{const cr=ui.target.result;Ut(cr?cr.value:void 0)}}catch(Ti){Wt(mi.create("storage-get",{originalErrorMessage:null===(Dn=Ti)||void 0===Dn?void 0:Dn.message}))}})})()}set(q,ye){var ft=this;return(0,b.Z)(function*(){const Ut=yield ft.openDbPromise;return new Promise((Wt,Dn)=>{var On;const pi=Ut.transaction([ri],"readwrite").objectStore(ri),Ti=ft.createCompositeKey(q);try{const ui=pi.put({compositeKey:Ti,value:ye});ui.onerror=cr=>{Dn(Nn(cr,"storage-set"))},ui.onsuccess=()=>{Wt()}}catch(ui){Dn(mi.create("storage-set",{originalErrorMessage:null===(On=ui)||void 0===On?void 0:On.message}))}})})()}delete(q){var ye=this;return(0,b.Z)(function*(){const ft=yield ye.openDbPromise;return new Promise((Ut,Wt)=>{var Dn;const ti=ft.transaction([ri],"readwrite").objectStore(ri),pi=ye.createCompositeKey(q);try{const Ti=ti.delete(pi);Ti.onerror=ui=>{Wt(Nn(ui,"storage-delete"))},Ti.onsuccess=()=>{Ut()}}catch(Ti){Wt(mi.create("storage-delete",{originalErrorMessage:null===(Dn=Ti)||void 0===Dn?void 0:Dn.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class rs{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,b.Z)(function*(){const ye=q.storage.getLastFetchStatus(),ft=q.storage.getLastSuccessfulFetchTimestampMillis(),Ut=q.storage.getActiveConfig(),Wt=yield ye;Wt&&(q.lastFetchStatus=Wt);const Dn=yield ft;Dn&&(q.lastSuccessfulFetchTimestampMillis=Dn);const On=yield Ut;On&&(q.activeConfig=On)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function So(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,b.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Xo(){(0,F._registerComponent)(new Be.wA("remote-config",function j(q,{instanceIdentifier:ye}){const ft=q.getProvider("app").getImmediate(),Ut=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mi.create("registration-window");if(!(0,de.hl)())throw mi.create("indexed-db-unavailable");const{projectId:Wt,apiKey:Dn,appId:On}=ft.options;if(!Wt)throw mi.create("registration-project-id");if(!Dn)throw mi.create("registration-api-key");if(!On)throw mi.create("registration-app-id");const ti=new Zr(On,ft.name,ye=ye||"firebase"),pi=new rs(ti),Ti=new Ke.Yd(Ve);Ti.logLevel=Ke.in.ERROR;const ui=new Cr(Ut,F.SDK_VERSION,ye,Wt,Dn,On),cr=new Tt(ui,ti),Fs=new ms(cr,ti,pi,Ti),Fl=new Rn(ft,Fs,pi,ti,Ti);return function wi(j){const q=(0,de.m9)(j);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Fl),Fl},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Ve,"0.3.11"),(0,F.registerVersion)(Ve,"0.3.11","esm2017")}();const Vr="/firebase-messaging-sw.js",Ls="/firebase-cloud-messaging-push-scope",bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="google.c.a.c_id",Ys="google.c.a.c_l",Ao="google.c.a.ts",gs="google.c.a.e";var jr=(()=>{return(j=jr||(jr={})).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",jr;var j})();function so(j){const q=new Uint8Array(j);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qr(j){const ye=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ft=atob(ye),Ut=new Uint8Array(ft.length);for(let Wt=0;Wt<ft.length;++Wt)Ut[Wt]=ft.charCodeAt(Wt);return Ut}const Rs="fcm_token_details_db",oo="fcm_token_object_Store";function Ks(j){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,b.Z)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Wt=>Wt.name).includes(Rs))return null;let q=null;return(yield(0,Re.X3)(Rs,5,{upgrade:(ft=(0,b.Z)(function*(Ut,Wt,Dn,On){var ti;if(Wt<2||!Ut.objectStoreNames.contains(oo))return;const pi=On.objectStore(oo),Ti=yield pi.index("fcmSenderId").get(j);if(yield pi.clear(),Ti)if(2===Wt){const ui=Ti;if(!ui.auth||!ui.p256dh||!ui.endpoint)return;q={token:ui.fcmToken,createTime:null!==(ti=ui.createTime)&&void 0!==ti?ti:Date.now(),subscriptionOptions:{auth:ui.auth,p256dh:ui.p256dh,endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:"string"==typeof ui.vapidKey?ui.vapidKey:so(ui.vapidKey)}}}else if(3===Wt){const ui=Ti;q={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:so(ui.auth),p256dh:so(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:so(ui.vapidKey)}}}else if(4===Wt){const ui=Ti;q={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:so(ui.auth),p256dh:so(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:so(ui.vapidKey)}}}}),function(Wt,Dn,On,ti){return ft.apply(this,arguments)})})).close(),yield(0,Re.Lj)(Rs),yield(0,Re.Lj)("fcm_vapid_details_db"),yield(0,Re.Lj)("undefined"),Xi(q)?q:null;var ft}),Zs.apply(this,arguments)}function Xi(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:q}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Si="firebase-messaging-store";let Gr=null;function ao(){return Gr||(Gr=(0,Re.X3)("firebase-messaging-database",1,{upgrade:(j,q)=>{0===q&&j.createObjectStore(Si)}})),Gr}function xs(j){return qs.apply(this,arguments)}function qs(){return(qs=(0,b.Z)(function*(j){const q=os(j),ft=yield(yield ao()).transaction(Si).objectStore(Si).get(q);if(ft)return ft;{const Ut=yield Ks(j.appConfig.senderId);if(Ut)return yield Ai(j,Ut),Ut}})).apply(this,arguments)}function Ai(j,q){return fa.apply(this,arguments)}function fa(){return(fa=(0,b.Z)(function*(j,q){const ye=os(j),Ut=(yield ao()).transaction(Si,"readwrite");return yield Ut.objectStore(Si).put(q,ye),yield Ut.done,q})).apply(this,arguments)}function Ns(j){return ss.apply(this,arguments)}function ss(){return(ss=(0,b.Z)(function*(j){const q=os(j),ft=(yield ao()).transaction(Si,"readwrite");yield ft.objectStore(Si).delete(q),yield ft.done})).apply(this,arguments)}function os({appConfig:j}){return j.appId}const $i=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function di(j,q){return lo.apply(this,arguments)}function lo(){return(lo=(0,b.Z)(function*(j,q){var ye;const ft=yield xa(j),Ut=fn(q),Wt={method:"POST",headers:ft,body:JSON.stringify(Ut)};let Dn;try{Dn=yield(yield fetch(Ms(j.appConfig),Wt)).json()}catch(On){throw $i.create("token-subscribe-failed",{errorInfo:null===(ye=On)||void 0===ye?void 0:ye.toString()})}if(Dn.error)throw $i.create("token-subscribe-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw $i.create("token-subscribe-no-token");return Dn.token})).apply(this,arguments)}function pa(j,q){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,b.Z)(function*(j,q){var ye;const ft=yield xa(j),Ut=fn(q.subscriptionOptions),Wt={method:"PATCH",headers:ft,body:JSON.stringify(Ut)};let Dn;try{Dn=yield(yield fetch(`${Ms(j.appConfig)}/${q.token}`,Wt)).json()}catch(On){throw $i.create("token-update-failed",{errorInfo:null===(ye=On)||void 0===ye?void 0:ye.toString()})}if(Dn.error)throw $i.create("token-update-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw $i.create("token-update-no-token");return Dn.token})).apply(this,arguments)}function il(j,q){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(j,q){var ye;const Ut={method:"DELETE",headers:yield xa(j)};try{const Dn=yield(yield fetch(`${Ms(j.appConfig)}/${q}`,Ut)).json();if(Dn.error)throw $i.create("token-unsubscribe-failed",{errorInfo:Dn.error.message})}catch(Wt){throw $i.create("token-unsubscribe-failed",{errorInfo:null===(ye=Wt)||void 0===ye?void 0:ye.toString()})}})).apply(this,arguments)}function Ms({projectId:j}){return`https://fcmregistrations.googleapis.com/v1/projects/${j}/registrations`}function xa(j){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,b.Z)(function*({appConfig:j,installations:q}){const ye=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${ye}`})})).apply(this,arguments)}function fn({p256dh:j,auth:q,endpoint:ye,vapidKey:ft}){const Ut={web:{endpoint:ye,auth:q,p256dh:j}};return ft!==bo&&(Ut.web.applicationPubKey=ft),Ut}const hi=6048e5;function Ma(j){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(j){const q=yield Yn(j.swRegistration,j.vapidKey),ye={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:q.endpoint,auth:so(q.getKey("auth")),p256dh:so(q.getKey("p256dh"))},ft=yield xs(j.firebaseDependencies);if(ft){if(Is(ft.subscriptionOptions,ye))return Date.now()>=ft.createTime+hi?Y(j,{token:ft.token,createTime:Date.now(),subscriptionOptions:ye}):ft.token;try{yield il(j.firebaseDependencies,ft.token)}catch(Ut){console.warn(Ut)}return ke(j.firebaseDependencies,ye)}return ke(j.firebaseDependencies,ye)})).apply(this,arguments)}function Ur(j){return X.apply(this,arguments)}function X(){return(X=(0,b.Z)(function*(j){const q=yield xs(j.firebaseDependencies);q&&(yield il(j.firebaseDependencies,q.token),yield Ns(j.firebaseDependencies));const ye=yield j.swRegistration.pushManager.getSubscription();return!ye||ye.unsubscribe()})).apply(this,arguments)}function Y(j,q){return V.apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(j,q){try{const ye=yield pa(j.firebaseDependencies,q),ft=Object.assign(Object.assign({},q),{token:ye,createTime:Date.now()});return yield Ai(j.firebaseDependencies,ft),ye}catch(ye){throw yield Ur(j),ye}})).apply(this,arguments)}function ke(j,q){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,b.Z)(function*(j,q){const ft={token:yield di(j,q),createTime:Date.now(),subscriptionOptions:q};return yield Ai(j,ft),ft.token})).apply(this,arguments)}function Yn(j,q){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,b.Z)(function*(j,q){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qr(q)})})).apply(this,arguments)}function Is(j,q){return q.vapidKey===j.vapidKey&&q.endpoint===j.endpoint&&q.auth===j.auth&&q.p256dh===j.p256dh}function hr(j){const q={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function Zi(j,q){if(!q.notification)return;j.notification={};const ye=q.notification.title;ye&&(j.notification.title=ye);const ft=q.notification.body;ft&&(j.notification.body=ft);const Ut=q.notification.image;Ut&&(j.notification.image=Ut)}(q,j),function Bs(j,q){!q.data||(j.data=q.data)}(q,j),function ma(j,q){var ye,ft,Ut,Wt,Dn;if(!(q.fcmOptions||null!==(ye=q.notification)&&void 0!==ye&&ye.click_action))return;j.fcmOptions={};const On=null!==(Ut=null===(ft=q.fcmOptions)||void 0===ft?void 0:ft.link)&&void 0!==Ut?Ut:null===(Wt=q.notification)||void 0===Wt?void 0:Wt.click_action;On&&(j.fcmOptions.link=On);const ti=null===(Dn=q.fcmOptions)||void 0===Dn?void 0:Dn.analytics_label;ti&&(j.fcmOptions.analyticsLabel=ti)}(q,j),q}function pr(j){return"object"==typeof j&&!!j&&io in j}function To(j,q){const ye=[];for(let ft=0;ft<j.length;ft++)ye.push(j.charAt(ft)),ft<q.length&&ye.push(q.charAt(ft));return ye.join("")}function ga(j){return $i.create("missing-app-config-values",{valueName:j})}To("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),To("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ml{constructor(q,ye,ft){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ut=function xl(j){if(!j||!j.options)throw ga("App Configuration Object");if(!j.name)throw ga("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ye}=j;for(const ft of q)if(!ye[ft])throw ga(ft);return{appName:j.name,projectId:ye.projectId,apiKey:ye.apiKey,appId:ye.appId,senderId:ye.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:Ut,installations:ye,analyticsProvider:ft}}_delete(){return Promise.resolve()}}function Il(j){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,b.Z)(function*(j){var q;try{j.swRegistration=yield navigator.serviceWorker.register(Vr,{scope:Ls}),j.swRegistration.update().catch(()=>{})}catch(ye){throw $i.create("failed-service-worker-registration",{browserErrorMessage:null===(q=ye)||void 0===q?void 0:q.message})}})).apply(this,arguments)}function Ia(j,q){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,b.Z)(function*(j,q){if(!q&&!j.swRegistration&&(yield Il(j)),q||!j.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw $i.create("invalid-sw-registration");j.swRegistration=q}})).apply(this,arguments)}function Sa(j,q){return as.apply(this,arguments)}function as(){return(as=(0,b.Z)(function*(j,q){q?j.vapidKey=q:j.vapidKey||(j.vapidKey=bo)})).apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(j,q){if(!navigator)throw $i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $i.create("permission-blocked");return yield Sa(j,q?.vapidKey),yield Ia(j,q?.serviceWorkerRegistration),Ma(j)})).apply(this,arguments)}function rl(j,q,ye){return co.apply(this,arguments)}function co(){return(co=(0,b.Z)(function*(j,q,ye){const ft=Aa(q);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(ft,{message_id:ye[io],message_name:ye[Ys],message_time:ye[Ao],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Aa(j){switch(j){case jr.NOTIFICATION_CLICKED:return"notification_open";case jr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function le(){return(le=(0,b.Z)(function*(j,q){const ye=q.data;if(!ye.isFirebaseMessaging)return;j.onMessageHandler&&ye.messageType===jr.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(hr(ye)):j.onMessageHandler.next(hr(ye)));const ft=ye.data;pr(ft)&&"1"===ft[gs]&&(yield rl(j,ye.messageType,ft))})).apply(this,arguments)}const G="@firebase/messaging",bt=j=>{const q=new Ml(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ye=>function N(j,q){return le.apply(this,arguments)}(q,ye)),q},Qt=j=>{const q=j.getProvider("messaging").getImmediate();return{getToken:ft=>function Sl(j,q){return ea.apply(this,arguments)}(q,ft)}};function Kn(){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function an(){(0,F._registerComponent)(new Be.wA("messaging",bt,"PUBLIC")),(0,F._registerComponent)(new Be.wA("messaging-internal",Qt,"PRIVATE")),(0,F.registerVersion)(G,"0.9.16"),(0,F.registerVersion)(G,"0.9.16","esm2017")}();const Js="analytics",Co="firebase_id",ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sl="https://www.googletagmanager.com/gtag/js",Er=new Ke.Yd("@firebase/analytics");function ta(j){return Promise.all(j.map(q=>q.catch(ye=>ye)))}function Ta(j,q){const ye=document.createElement("script");ye.src=`${sl}?l=${j}&id=${q}`,ye.async=!0,document.head.appendChild(ye)}function ks(j,q,ye,ft,Ut,Wt){return gc.apply(this,arguments)}function gc(){return(gc=(0,b.Z)(function*(j,q,ye,ft,Ut,Wt){const Dn=ft[Ut];try{if(Dn)yield q[Dn];else{const ti=(yield ta(ye)).find(pi=>pi.measurementId===Ut);ti&&(yield q[ti.appId])}}catch(On){Er.error(On)}j("config",Ut,Wt)})).apply(this,arguments)}function Ho(j,q,ye,ft,Ut){return Do.apply(this,arguments)}function Do(){return(Do=(0,b.Z)(function*(j,q,ye,ft,Ut){try{let Wt=[];if(Ut&&Ut.send_to){let Dn=Ut.send_to;Array.isArray(Dn)||(Dn=[Dn]);const On=yield ta(ye);for(const ti of Dn){const pi=On.find(ui=>ui.measurementId===ti),Ti=pi&&q[pi.appId];if(!Ti){Wt=[];break}Wt.push(Ti)}}0===Wt.length&&(Wt=Object.values(q)),yield Promise.all(Wt),j("event",ft,Ut||{})}catch(Wt){Er.error(Wt)}})).apply(this,arguments)}function Al(){const j=window.document.getElementsByTagName("script");for(const q of Object.values(j))if(q.src&&q.src.includes(sl))return q;return null}const Ui=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ba=new class Ra{constructor(q={},ye=1e3){this.throttleMetadata=q,this.intervalMillis=ye}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,ye){this.throttleMetadata[q]=ye}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function In(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function $r(j){return ir.apply(this,arguments)}function ir(){return(ir=(0,b.Z)(function*(j){var q;const{appId:ye,apiKey:ft}=j,Ut={method:"GET",headers:In(ft)},Wt=ys.replace("{app-id}",ye),Dn=yield fetch(Wt,Ut);if(200!==Dn.status&&304!==Dn.status){let On="";try{const ti=yield Dn.json();null!==(q=ti.error)&&void 0!==q&&q.message&&(On=ti.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:Dn.status,responseMessage:On})}return Dn.json()})).apply(this,arguments)}function ql(j){return Un.apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(j,q=Ba,ye){const{appId:ft,apiKey:Ut,measurementId:Wt}=j.options;if(!ft)throw Ui.create("no-app-id");if(!Ut){if(Wt)return{measurementId:Wt,appId:ft};throw Ui.create("no-api-key")}const Dn=q.getThrottleMetadata(ft)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new Cn;return setTimeout((0,b.Z)(function*(){On.abort()}),void 0!==ye?ye:6e4),fi({appId:ft,apiKey:Ut,measurementId:Wt},Dn,On,q)})).apply(this,arguments)}function fi(j,q,ye){return na.apply(this,arguments)}function na(){return(na=(0,b.Z)(function*(j,{throttleEndTimeMillis:q,backoffCount:ye},ft,Ut=Ba){var Wt,Dn;const{appId:On,measurementId:ti}=j;try{yield jn(ft,q)}catch(pi){if(ti)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ti} provided in the "measurementId" field in the local Firebase config. [${null===(Wt=pi)||void 0===Wt?void 0:Wt.message}]`),{appId:On,measurementId:ti};throw pi}try{const pi=yield $r(j);return Ut.deleteThrottleMetadata(On),pi}catch(pi){const Ti=pi;if(!nn(Ti)){if(Ut.deleteThrottleMetadata(On),ti)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ti} provided in the "measurementId" field in the local Firebase config. [${Ti?.message}]`),{appId:On,measurementId:ti};throw pi}const ui=503===Number(null===(Dn=Ti?.customData)||void 0===Dn?void 0:Dn.httpStatus)?(0,de.$s)(ye,Ut.intervalMillis,30):(0,de.$s)(ye,Ut.intervalMillis),cr={throttleEndTimeMillis:Date.now()+ui,backoffCount:ye+1};return Ut.setThrottleMetadata(On,cr),Er.debug(`Calling attemptFetch again in ${ui} millis`),fi(j,cr,ft,Ut)}})).apply(this,arguments)}function jn(j,q){return new Promise((ye,ft)=>{const Ut=Math.max(q-Date.now(),0),Wt=setTimeout(ye,Ut);j.addEventListener(()=>{clearTimeout(Wt),ft(Ui.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function nn(j){if(!(j instanceof de.ZR&&j.customData))return!1;const q=Number(j.customData.httpStatus);return 429===q||500===q||503===q||504===q}class Cn{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let Lr,ll;function kl(){return(kl=(0,b.Z)(function*(j,q,ye,ft,Ut){if(Ut&&Ut.global)j("event",ye,ft);else{const Wt=yield q;j("event",ye,Object.assign(Object.assign({},ft),{send_to:Wt}))}})).apply(this,arguments)}function ci(j){ll=j}function cl(j){Lr=j}function vu(){return er.apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(){var j;if(!(0,de.hl)())return Er.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(q){return Er.warn(Ui.create("indexeddb-unavailable",{errorInfo:null===(j=q)||void 0===j?void 0:j.toString()}).message),!1}return!0})).apply(this,arguments)}function $o(){return($o=(0,b.Z)(function*(j,q,ye,ft,Ut,Wt,Dn){var On;const ti=ql(j);ti.then(Fs=>{ye[Fs.measurementId]=Fs.appId,j.options.measurementId&&Fs.measurementId!==j.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${Fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fs=>Er.error(Fs)),q.push(ti);const pi=vu().then(Fs=>{if(Fs)return ft.getId()}),[Ti,ui]=yield Promise.all([ti,pi]);Al()||Ta(Wt,Ti.measurementId),ll&&(Ut("consent","default",ll),ci(void 0)),Ut("js",new Date);const cr=null!==(On=Dn?.config)&&void 0!==On?On:{};return cr.origin="firebase",cr.update=!0,null!=ui&&(cr[Co]=ui),Ut("config",Ti.measurementId,cr),Lr&&(Ut("set",Lr),cl(void 0)),Ti.measurementId})).apply(this,arguments)}class Di{constructor(q){this.app=q}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},lr=[];const Sn={};let Us,Hs,zo="dataLayer",va=!1;function Ql(j,q,ye){!function Ol(){const j=[];if((0,de.ru)()&&j.push("This is a browser extension environment."),(0,de.zI)()||j.push("Cookies are not available."),j.length>0){const q=j.map((ft,Ut)=>`(${Ut+1}) ${ft}`).join(" "),ye=Ui.create("invalid-analytics-context",{errorInfo:q});Er.warn(ye.message)}}();const ft=j.options.appId;if(!ft)throw Ui.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw Ui.create("no-api-key");Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[ft])throw Ui.create("already-exists",{id:ft});if(!va){!function ol(j){let q=[];Array.isArray(window[j])?q=window[j]:window[j]=q}(zo);const{wrappedGtag:Wt,gtagCore:Dn}=function ho(j,q,ye,ft,Ut){let Wt=function(...Dn){window[ft].push(arguments)};return window[Ut]&&"function"==typeof window[Ut]&&(Wt=window[Ut]),window[Ut]=function nt(j,q,ye,ft){function Wt(){return(Wt=(0,b.Z)(function*(Dn,On,ti){try{"event"===Dn?yield Ho(j,q,ye,On,ti):"config"===Dn?yield ks(j,q,ye,ft,On,ti):"consent"===Dn?j("consent","update",ti):j("set",On)}catch(pi){Er.error(pi)}})).apply(this,arguments)}return function Ut(Dn,On,ti){return Wt.apply(this,arguments)}}(Wt,j,q,ye),{gtagCore:Wt,wrappedGtag:window[Ut]}}(Hr,lr,Sn,zo,"gtag");Hs=Wt,Us=Dn,va=!0}return Hr[ft]=function ai(j,q,ye,ft,Ut,Wt,Dn){return $o.apply(this,arguments)}(j,lr,Sn,q,Us,zo,ye),new Di(j)}function Vc(){return vs.apply(this,arguments)}function vs(){return(vs=(0,b.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Ua="@firebase/analytics";!function xr(){(0,F._registerComponent)(new Be.wA(Js,(q,{options:ye})=>Ql(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),ye),"PUBLIC")),(0,F._registerComponent)(new Be.wA("analytics-internal",function j(q){try{const ye=q.getProvider(Js).getImmediate();return{logEvent:(ft,Ut,Wt)=>function js(j,q,ye,ft){j=(0,de.m9)(j),function Rl(j,q,ye,ft,Ut){return kl.apply(this,arguments)}(Hs,Hr[j.app.options.appId],q,ye,ft).catch(Ut=>Er.error(Ut))}(ye,ft,Ut,Wt)}}catch(ye){throw Ui.create("interop-component-reg-failed",{reason:ye})}},"PRIVATE")),(0,F.registerVersion)(Ua,"0.8.0"),(0,F.registerVersion)(Ua,"0.8.0","esm2017")}();var cs=w(4408),Oa=w(7565);const A=new class M extends Oa.v{}(class Ha extends cs.o{constructor(q,ye){super(q,ye),this.scheduler=q,this.work=ye}schedule(q,ye=0){return ye>0?super.schedule(q,ye):(this.delay=ye,this.state=q,this.scheduler.flush(this),this)}execute(q,ye){return ye>0||this.closed?super.execute(q,ye):this._execute(q,ye)}requestAsyncId(q,ye,ft=0){return null!=ft&&ft>0||null==ft&&this.delay>0?super.requestAsyncId(q,ye,ft):q.flush(this)}});var U=w(4986),Z=w(8505),Ie=w(5363),st=w(9468);const _t=new c.GfV("7.4.1"),qt="__angularfire_symbol__analyticsIsSupportedValue",_n="__angularfire_symbol__analyticsIsSupported",gi="__angularfire_symbol__remoteConfigIsSupportedValue",Wn="__angularfire_symbol__remoteConfigIsSupported",yi="__angularfire_symbol__messagingIsSupportedValue",Ss="__angularfire_symbol__messagingIsSupported";function to(j,q,ye){if(q){if(1===q.length)return q[0];const Wt=q.filter(Dn=>Dn.app===ye);if(1===Wt.length)return Wt[0]}return ye.container.getProvider(j).getImmediate({optional:!0})}globalThis[_n]||(globalThis[_n]=Vc().then(j=>globalThis[qt]=j).catch(()=>globalThis[qt]=!1)),globalThis[Ss]||(globalThis[Ss]=Kn().then(j=>globalThis[yi]=j).catch(()=>globalThis[yi]=!1)),globalThis[Wn]||(globalThis[Wn]=So().then(j=>globalThis[gi]=j).catch(()=>globalThis[gi]=!1));const ja=(j,q)=>{const ye=q?[q]:(0,y.C6)(),ft=[];return ye.forEach(Ut=>{Ut.container.getProvider(j).instances.forEach(Dn=>{ft.includes(Dn)||ft.push(Dn)})}),ft};function Eo(){}class ko{constructor(q,ye=A){this.zone=q,this.delegate=ye}now(){return this.delegate.now()}schedule(q,ye,ft){const Ut=this.zone;return this.delegate.schedule(function(Dn){Ut.runGuarded(()=>{q.apply(this,[Dn])})},ye,ft)}}class Hc{constructor(q){this.zone=q,this.task=null}call(q,ye){const ft=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),ye.pipe((0,Z.b)({next:ft,complete:ft,error:ft})).subscribe(q).add(ft)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wo=(()=>{class j{constructor(ye){this.ngZone=ye,this.outsideAngular=ye.runOutsideAngular(()=>new ko(Zone.current)),this.insideAngular=ye.run(()=>new ko(Zone.current,U.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(ye){return new(ye||j)(c.LFG(c.R0b))},j.\u0275prov=c.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function Oo(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function fo(j){return j.pipe((0,Ie.Q)(Oo().outsideAngular))}function po(j){return Oo(),function ra(j){return function(ye){return(ye=ye.lift(new Hc(j.ngZone))).pipe((0,st.R)(j.outsideAngular),(0,Ie.Q)(j.insideAngular))}}(Oo())(j)}},7143:(ln,ht,w)=>{w.d(ht,{$:()=>Ms,A:()=>me,B:()=>We,G:()=>B,H:()=>vn,J:()=>Tt,L:()=>Ft,M:()=>Ws,N:()=>wo,P:()=>U,Q:()=>io,R:()=>en,T:()=>Ys,U:()=>bo,V:()=>jr,W:()=>so,X:()=>Ks,Y:()=>_s,Z:()=>di,_:()=>pa,a:()=>Wi,a0:()=>Ma,a1:()=>Ur,a2:()=>Y,a3:()=>ke,a4:()=>Yn,a5:()=>Is,a6:()=>Zi,a7:()=>Bs,a8:()=>pr,a9:()=>To,aA:()=>Fs,aB:()=>ti,aC:()=>fo,aD:()=>ia,aE:()=>pe,aI:()=>In,aL:()=>gs,aa:()=>Il,ab:()=>Ia,ac:()=>Sa,af:()=>rl,ag:()=>Aa,ah:()=>N,ak:()=>Si,al:()=>_i,an:()=>sl,ao:()=>gc,ap:()=>$e,aq:()=>Qe,ar:()=>it,as:()=>$n,at:()=>dt,au:()=>tc,av:()=>rr,aw:()=>tt,ax:()=>se,ay:()=>ue,az:()=>cn,b:()=>Ui,c:()=>yi,d:()=>Mr,e:()=>ur,f:()=>ra,g:()=>ft,h:()=>j,i:()=>er,j:()=>Dn,k:()=>W,l:()=>ba,m:()=>Q,o:()=>Re,r:()=>cs,s:()=>Xl,u:()=>A});var c=w(5861),y=w(2090),b=w(9681),F=w(655),de=w(1877),Be=w(3475);const Re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new de.Yd("@firebase/auth");function be(I,...g){Ee.logLevel<=de.in.ERROR&&Ee.error(`Auth (${b.SDK_VERSION}): ${I}`,...g)}function dt(I,...g){throw Ne(I,...g)}function tt(I,...g){return Ne(I,...g)}function Le(I,g,v){const k=Object.assign(Object.assign({},Me()),{[g]:v});return new y.LL("auth","Firebase",k).create(g,{appName:I.name})}function xe(I,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&dt(I,"argument-error"),Le(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(I,...g){if("string"!=typeof I){const v=g[0],k=[...g.slice(1)];return k[0]&&(k[0].appName=I.name),I._errorFactory.create(v,...k)}return ze.create(I,...g)}function se(I,g,...v){if(!I)throw Ne(g,...v)}function oe(I){const g="INTERNAL ASSERTION FAILED: "+I;throw be(g),new Error(g)}function Qe(I,g){I||oe(g)}const ae=new Map;function ue(I){Qe(I instanceof Function,"Expected a class definition");let g=ae.get(I);return g?(Qe(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,ae.set(I,g),g)}function Ht(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function jt(){return"http:"===sn()||"https:"===sn()}function sn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Te{constructor(g,v){this.shortDelay=g,this.longDelay=v,Qe(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function on(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(I,g){Qe(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class pt{static initialize(g,v,k){this.fetchImpl=g,v&&(this.headersImpl=v),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mt=new Te(3e4,6e4);function zt(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ye(I,g,v,k){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(I,g,v,k,_e={}){return rt(I,_e,(0,c.Z)(function*(){let Ze={},$t={};k&&("GET"===g?$t=k:Ze={body:JSON.stringify(k)});const yn=(0,y.xO)(Object.assign({key:I.config.apiKey},$t)).slice(1),zn=yield I._getAdditionalHeaders();return zn["Content-Type"]="application/json",I.languageCode&&(zn["X-Firebase-Locale"]=I.languageCode),pt.fetch()(Mn(I,I.config.apiHost,v,yn),Object.assign({method:g,headers:zn,referrerPolicy:"no-referrer"},Ze))}))})).apply(this,arguments)}function rt(I,g,v){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(I,g,v){I._canInitEmulator=!1;const k=Object.assign(Object.assign({},Lt),g);try{const _e=new Pn(I),Ze=yield Promise.race([v(),_e.promise]);_e.clearNetworkTimeout();const $t=yield Ze.json();if("needConfirmation"in $t)throw Fn(I,"account-exists-with-different-credential",$t);if(Ze.ok&&!("errorMessage"in $t))return $t;{const yn=Ze.ok?$t.errorMessage:$t.error.message,[zn,ni]=yn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zn)throw Fn(I,"credential-already-in-use",$t);if("EMAIL_EXISTS"===zn)throw Fn(I,"email-already-in-use",$t);if("USER_DISABLED"===zn)throw Fn(I,"user-disabled",$t);const Hi=k[zn]||zn.toLowerCase().replace(/[_\s]+/g,"-");if(ni)throw Le(I,Hi,ni);dt(I,Hi)}}catch(_e){if(_e instanceof y.ZR)throw _e;dt(I,"network-request-failed")}})).apply(this,arguments)}function Nt(I,g,v,k){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(I,g,v,k,_e={}){const Ze=yield Ye(I,g,v,k,_e);return"mfaPendingCredential"in Ze&&dt(I,"multi-factor-auth-required",{_serverResponse:Ze}),Ze})).apply(this,arguments)}function Mn(I,g,v,k){const _e=`${g}${v}?${k}`;return I.config.emulator?Et(I.config,_e):`${I.config.apiScheme}://${_e}`}class Pn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,k)=>{this.timer=setTimeout(()=>k(tt(this.auth,"network-request-failed")),Mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(I,g,v){const k={appName:I.name};v.email&&(k.email=v.email),v.phoneNumber&&(k.phoneNumber=v.phoneNumber);const _e=tt(I,g,k);return _e.customData._tokenResponse=v,_e}function En(){return(En=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Jt(I,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ge(I,g){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function $(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ge(){return(Ge=(0,c.Z)(function*(I,g=!1){const v=(0,y.m9)(I),k=yield v.getIdToken(g),_e=Fe(k);se(_e&&_e.exp&&_e.auth_time&&_e.iat,v.auth,"internal-error");const Ze="object"==typeof _e.firebase?_e.firebase:void 0,$t=Ze?.sign_in_provider;return{claims:_e,token:k,authTime:$(Pe(_e.auth_time)),issuedAtTime:$(Pe(_e.iat)),expirationTime:$(Pe(_e.exp)),signInProvider:$t||null,signInSecondFactor:Ze?.sign_in_second_factor||null}})).apply(this,arguments)}function Pe(I){return 1e3*Number(I)}function Fe(I){var g;const[v,k,_e]=I.split(".");if(void 0===v||void 0===k||void 0===_e)return be("JWT malformed, contained fewer than 3 sections"),null;try{const Ze=(0,y.tV)(k);return Ze?JSON.parse(Ze):(be("Failed to decode base64 JWT payload"),null)}catch(Ze){return be("Caught error parsing JWT payload as JSON",null===(g=Ze)||void 0===g?void 0:g.toString()),null}}function St(I,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(I,g,v=!1){if(v)return g;try{return yield g}catch(k){throw k instanceof y.ZR&&gn(k)&&I.auth.currentUser===I&&(yield I.auth.signOut()),k}})).apply(this,arguments)}function gn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Ln{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const _e=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,_e)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const k=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),k)}iteration(){var g=this;return(0,c.Z)(function*(){var v;try{yield g.user.getIdToken(!0)}catch(k){return void("auth/network-request-failed"===(null===(v=k)||void 0===v?void 0:v.code)&&g.schedule(!0))}g.schedule()})()}}class at{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(I){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(I){var g;const v=I.auth,k=yield I.getIdToken(),_e=yield St(I,ge(v,{idToken:k}));se(_e?.users.length,v,"internal-error");const Ze=_e.users[0];I._notifyReloadListener(Ze);const $t=null!==(g=Ze.providerUserInfo)&&void 0!==g&&g.length?J(Ze.providerUserInfo):[],yn=te(I.providerData,$t),Hi=!!I.isAnonymous&&!(I.email&&Ze.passwordHash||yn?.length),Wr={uid:Ze.localId,displayName:Ze.displayName||null,photoURL:Ze.photoUrl||null,email:Ze.email||null,emailVerified:Ze.emailVerified||!1,phoneNumber:Ze.phoneNumber||null,tenantId:Ze.tenantId||null,providerData:yn,metadata:new at(Ze.createdAt,Ze.lastLoginAt),isAnonymous:Hi};Object.assign(I,Wr)})).apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(I){const g=(0,y.m9)(I);yield Vt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function te(I,g){return[...I.filter(k=>!g.some(_e=>_e.providerId===k.providerId)),...g]}function J(I){return I.map(g=>{var{providerId:v}=g,k=(0,F._T)(g,["providerId"]);return{providerId:v,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function O(){return(O=(0,c.Z)(function*(I,g){const v=yield rt(I,{},(0,c.Z)(function*(){const k=(0,y.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:_e,apiKey:Ze}=I.config,$t=Mn(I,_e,"/v1/token",`key=${Ze}`),yn=yield I._getAdditionalHeaders();return yn["Content-Type"]="application/x-www-form-urlencoded",pt.fetch()($t,{method:"POST",headers:yn,body:k})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){se(g.idToken,"internal-error"),se(typeof g.idToken<"u","internal-error"),se(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function xt(I){const g=Fe(I);return se(g,"internal-error"),se(typeof g.exp<"u","internal-error"),se(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var k=this;return(0,c.Z)(function*(){return se(!k.accessToken||k.refreshToken,g,"user-token-expired"),v||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(g,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var k=this;return(0,c.Z)(function*(){const{accessToken:_e,refreshToken:Ze,expiresIn:$t}=yield function ee(I,g){return O.apply(this,arguments)}(g,v);k.updateTokensAndExpiration(_e,Ze,Number($t))})()}updateTokensAndExpiration(g,v,k){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(g,v){const{refreshToken:k,accessToken:_e,expirationTime:Ze}=v,$t=new K;return k&&(se("string"==typeof k,"internal-error",{appName:g}),$t.refreshToken=k),_e&&(se("string"==typeof _e,"internal-error",{appName:g}),$t.accessToken=_e),Ze&&(se("number"==typeof Ze,"internal-error",{appName:g}),$t.expirationTime=Ze),$t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return oe("not implemented")}}function z(I,g){se("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class fe{constructor(g){var{uid:v,auth:k,stsTokenManager:_e}=g,Ze=(0,F._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=k,this.stsTokenManager=_e,this.accessToken=_e.accessToken,this.displayName=Ze.displayName||null,this.email=Ze.email||null,this.emailVerified=Ze.emailVerified||!1,this.phoneNumber=Ze.phoneNumber||null,this.photoURL=Ze.photoURL||null,this.isAnonymous=Ze.isAnonymous||!1,this.tenantId=Ze.tenantId||null,this.providerData=Ze.providerData?[...Ze.providerData]:[],this.metadata=new at(Ze.createdAt||void 0,Ze.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,c.Z)(function*(){const k=yield St(v,v.stsTokenManager.getToken(v.auth,g));return se(k,v.auth,"internal-error"),v.accessToken!==k&&(v.accessToken=k,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),k})()}getIdTokenResult(g){return function mt(I){return Ge.apply(this,arguments)}(this,g)}reload(){return function lt(I){return gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(se(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new fe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var k=this;return(0,c.Z)(function*(){let _e=!1;g.idToken&&g.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(g),_e=!0),v&&(yield Vt(k)),yield k.auth._persistUserIfCurrent(k),_e&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var g=this;return(0,c.Z)(function*(){const v=yield g.getIdToken();return yield St(g,function Bn(I,g){return En.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var k,_e,Ze,$t,yn,zn,ni,Hi;const Wr=null!==(k=v.displayName)&&void 0!==k?k:void 0,Zo=null!==(_e=v.email)&&void 0!==_e?_e:void 0,Gc=null!==(Ze=v.phoneNumber)&&void 0!==Ze?Ze:void 0,Zd=null!==($t=v.photoURL)&&void 0!==$t?$t:void 0,Yr=null!==(yn=v.tenantId)&&void 0!==yn?yn:void 0,yc=null!==(zn=v._redirectEventId)&&void 0!==zn?zn:void 0,$c=null!==(ni=v.createdAt)&&void 0!==ni?ni:void 0,Ju=null!==(Hi=v.lastLoginAt)&&void 0!==Hi?Hi:void 0,{uid:op,emailVerified:ed,isAnonymous:ap,providerData:qd,stsTokenManager:zc}=v;se(op&&zc,g,"internal-error");const nc=K.fromJSON(this.name,zc);se("string"==typeof op,g,"internal-error"),z(Wr,g.name),z(Zo,g.name),se("boolean"==typeof ed,g,"internal-error"),se("boolean"==typeof ap,g,"internal-error"),z(Gc,g.name),z(Zd,g.name),z(Yr,g.name),z(yc,g.name),z($c,g.name),z(Ju,g.name);const Qd=new fe({uid:op,auth:g,email:Zo,emailVerified:ed,displayName:Wr,isAnonymous:ap,photoURL:Zd,phoneNumber:Gc,tenantId:Yr,stsTokenManager:nc,createdAt:$c,lastLoginAt:Ju});return qd&&Array.isArray(qd)&&(Qd.providerData=qd.map(Xd=>Object.assign({},Xd))),yc&&(Qd._redirectEventId=yc),Qd}static _fromIdTokenResponse(g,v,k=!1){return(0,c.Z)(function*(){const _e=new K;_e.updateFromServerResponse(v);const Ze=new fe({uid:v.localId,auth:g,stsTokenManager:_e,isAnonymous:k});return yield Vt(Ze),Ze})()}}const Ft=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,k){var _e=this;return(0,c.Z)(function*(){_e.storage[v]=k})()}_get(v){var k=this;return(0,c.Z)(function*(){const _e=k.storage[v];return void 0===_e?null:_e})()}_remove(v){var k=this;return(0,c.Z)(function*(){delete k.storage[v]})()}_addListener(v,k){}_removeListener(v,k){}}return I.type="NONE",I})();function cn(I,g,v){return`firebase:${I}:${g}:${v}`}class mn{constructor(g,v,k){this.persistence=g,this.auth=v,this.userKey=k;const{config:_e,name:Ze}=this.auth;this.fullUserKey=cn(this.userKey,_e.apiKey,Ze),this.fullPersistenceKey=cn("persistence",_e.apiKey,Ze),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?fe._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,c.Z)(function*(){if(v.persistence===g)return;const k=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,k?v.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,k="authUser"){return(0,c.Z)(function*(){if(!v.length)return new mn(ue(Ft),g,k);const _e=(yield Promise.all(v.map(function(){var ni=(0,c.Z)(function*(Hi){if(yield Hi._isAvailable())return Hi});return function(Hi){return ni.apply(this,arguments)}}()))).filter(ni=>ni);let Ze=_e[0]||ue(Ft);const $t=cn(k,g.config.apiKey,g.name);let yn=null;for(const ni of v)try{const Hi=yield ni._get($t);if(Hi){const Wr=fe._fromJSON(g,Hi);ni!==Ze&&(yn=Wr),Ze=ni;break}}catch{}const zn=_e.filter(ni=>ni._shouldAllowMigration);return Ze._shouldAllowMigration&&zn.length?(Ze=zn[0],yn&&(yield Ze._set($t,yn.toJSON())),yield Promise.all(v.map(function(){var ni=(0,c.Z)(function*(Hi){if(Hi!==Ze)try{yield Hi._remove($t)}catch{}});return function(Hi){return ni.apply(this,arguments)}}())),new mn(Ze,g,k)):new mn(Ze,g,k)})()}}function At(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(wn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ut(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Gn(g))return"Blackberry";if(Xe(g))return"Webos";if(yt(g))return"Safari";if((g.includes("chrome/")||Yt(g))&&!g.includes("edge/"))return"Chrome";if($n(g))return"Android";{const k=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function ut(I=(0,y.z$)()){return/firefox\//i.test(I)}function yt(I=(0,y.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Yt(I=(0,y.z$)()){return/crios\//i.test(I)}function wn(I=(0,y.z$)()){return/iemobile/i.test(I)}function $n(I=(0,y.z$)()){return/android/i.test(I)}function Gn(I=(0,y.z$)()){return/blackberry/i.test(I)}function Xe(I=(0,y.z$)()){return/webos/i.test(I)}function it(I=(0,y.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function $e(I=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function xn(I=(0,y.z$)()){return it(I)||$n(I)||Xe(I)||Gn(I)||/windows phone/i.test(I)||wn(I)}function ii(I,g=[]){let v;switch(I){case"Browser":v=At((0,y.z$)());break;case"Worker":v=`${At((0,y.z$)())}-${I}`;break;default:v=I}const k=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${b.SDK_VERSION}/${k}`}class Ii{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const k=Ze=>new Promise(($t,yn)=>{try{$t(g(Ze))}catch(zn){yn(zn)}});k.onAbort=v,this.queue.push(k);const _e=this.queue.length-1;return()=>{this.queue[_e]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,c.Z)(function*(){var k;if(v.auth.currentUser===g)return;const _e=[];try{for(const Ze of v.queue)yield Ze(g),Ze.onAbort&&_e.push(Ze.onAbort)}catch(Ze){_e.reverse();for(const $t of _e)try{$t()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(k=Ze)||void 0===k?void 0:k.message})}})()}}class wr{constructor(g,v,k){this.app=g,this.heartbeatServiceProvider=v,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wt(this),this.idTokenSubscription=new wt(this),this.beforeStateQueue=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(g,v){var k=this;return v&&(this._popupRedirectResolver=ue(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var _e,Ze;if(!k._deleted&&(k.persistenceManager=yield mn.create(k,g),!k._deleted)){if(null!==(_e=k._popupRedirectResolver)&&void 0!==_e&&_e._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(v),k.lastNotifiedUid=(null===(Ze=k.currentUser)||void 0===Ze?void 0:Ze.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,c.Z)(function*(){var k;const _e=yield v.assertedPersistence.getCurrentUser();let Ze=_e,$t=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const yn=null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId,zn=Ze?._redirectEventId,ni=yield v.tryRedirectSignIn(g);(!yn||yn===zn)&&ni?.user&&(Ze=ni.user,$t=!0)}if(!Ze)return v.directlySetCurrentUser(null);if(!Ze._redirectEventId){if($t)try{yield v.beforeStateQueue.runMiddleware(Ze)}catch(yn){Ze=_e,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(yn))}return Ze?v.reloadAndSetCurrentUserOrClear(Ze):v.directlySetCurrentUser(null)}return se(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===Ze._redirectEventId?v.directlySetCurrentUser(Ze):v.reloadAndSetCurrentUserOrClear(Ze)})()}tryRedirectSignIn(g){var v=this;return(0,c.Z)(function*(){let k=null;try{k=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,c.Z)(function*(){var k;try{yield Vt(g)}catch(_e){if("auth/network-request-failed"!==(null===(k=_e)||void 0===k?void 0:k.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,c.Z)(function*(){const k=g?(0,y.m9)(g):null;return k&&se(k.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(k&&k._clone(v))})()}_updateCurrentUser(g,v=!1){var k=this;return(0,c.Z)(function*(){if(!k._deleted)return g&&se(k.tenantId===g.tenantId,k,"tenant-id-mismatch"),v||(yield k.beforeStateQueue.runMiddleware(g)),k.queue((0,c.Z)(function*(){yield k.directlySetCurrentUser(g),k.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(ue(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new y.LL("auth","Firebase",g())}onAuthStateChanged(g,v,k){return this.registerStateListener(this.authStateSubscription,g,v,k)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,k){return this.registerStateListener(this.idTokenSubscription,g,v,k)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var k=this;return(0,c.Z)(function*(){const _e=yield k.getOrInitRedirectPersistenceManager(v);return null===g?_e.removeCurrentUser():_e.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const k=g&&ue(g)||v._popupRedirectResolver;se(k,v,"argument-error"),v.redirectPersistenceManager=yield mn.create(v,[ue(k._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,c.Z)(function*(){var k,_e;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(k=v._currentUser)||void 0===k?void 0:k._redirectEventId)===g?v._currentUser:(null===(_e=v.redirectUser)||void 0===_e?void 0:_e._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,c.Z)(function*(){if(g===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,k,_e){if(this._deleted)return()=>{};const Ze="function"==typeof v?v:v.next.bind(v),$t=this._isInitialized?Promise.resolve():this._initializationPromise;return se($t,this,"internal-error"),$t.then(()=>Ze(this.currentUser)),"function"==typeof v?g.addObserver(v,k,_e):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var v;const k={"X-Client-Version":g.clientVersion};g.app.options.appId&&(k["X-Firebase-gmpid"]=g.app.options.appId);const _e=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return _e&&(k["X-Firebase-Client"]=_e),k})()}}function pe(I){return(0,y.m9)(I)}class wt{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,y.ne)(v=>this.observer=v)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function B(I,g,v){const k=pe(I);se(k._canInitEmulator,k,"emulator-config-failed"),se(/^https?:\/\//.test(g),k,"invalid-emulator-scheme");const _e=!!v?.disableWarnings,Ze=we(g),{host:$t,port:yn}=function Ve(I){const g=we(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!v)return{host:"",port:null};const k=v[2].split("@").pop()||"",_e=/^(\[[^\]]+\])(:|$)/.exec(k);if(_e){const Ze=_e[1];return{host:Ze,port:Ct(k.substr(Ze.length+1))}}{const[Ze,$t]=k.split(":");return{host:Ze,port:Ct($t)}}}(g);k.config.emulator={url:`${Ze}//${$t}${null===yn?"":`:${yn}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:$t,port:yn,protocol:Ze.replace(":",""),options:Object.freeze({disableWarnings:_e})}),_e||function un(){function I(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function we(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Ct(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class vn{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return oe("not implemented")}_getIdTokenResponse(g){return oe("not implemented")}_linkToIdToken(g,v){return oe("not implemented")}_getReauthenticationResolver(g){return oe("not implemented")}}function Qn(I,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:resetPassword",zt(I,g))})).apply(this,arguments)}function Ci(I,g){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qi(I,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:update",zt(I,g))})).apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithPassword",zt(I,g))})).apply(this,arguments)}function Li(I,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:sendOobCode",zt(I,g))})).apply(this,arguments)}function ps(I,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(I,g){return Li(I,g)})).apply(this,arguments)}function Ir(I,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(I,g){return Li(I,g)})).apply(this,arguments)}function kr(I,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(I,g){return Li(I,g)})).apply(this,arguments)}function ha(I,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(I,g){return Li(I,g)})).apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithEmailLink",zt(I,g))})).apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithEmailLink",zt(I,g))})).apply(this,arguments)}class rn extends vn{constructor(g,v,k,_e=null){super("password",k),this._email=g,this._password=v,this._tenantId=_e}static _fromEmailAndPassword(g,v){return new rn(g,v,"password")}static _fromEmailAndCode(g,v,k=null){return new rn(g,v,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function Kr(I,g){return dr.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ns(I,g){return Bo.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:dt(g,"internal-error")}})()}_linkToIdToken(g,v){var k=this;return(0,c.Z)(function*(){switch(k.signInMethod){case"password":return Ci(g,{idToken:v,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function nl(I,g){return ms.apply(this,arguments)}(g,{idToken:v,email:k._email,oobCode:k._password});default:dt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Cr(I,g){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithIdp",zt(I,g))})).apply(this,arguments)}class Tt extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Tt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):dt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:k,signInMethod:_e}=v,Ze=(0,F._T)(v,["providerId","signInMethod"]);if(!k||!_e)return null;const $t=new Tt(k,_e);return $t.idToken=Ze.idToken||void 0,$t.accessToken=Ze.accessToken||void 0,$t.secret=Ze.secret,$t.nonce=Ze.nonce,$t.pendingToken=Ze.pendingToken||null,$t}_getIdTokenResponse(g){return Cr(g,this.buildRequest())}_linkToIdToken(g,v){const k=this.buildRequest();return k.idToken=v,Cr(g,k)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Cr(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,y.xO)(v)}return g}}function Zt(I,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:sendVerificationCode",zt(I,g))})).apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithPhoneNumber",zt(I,g))})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(I,g){const v=yield Nt(I,"POST","/v1/accounts:signInWithPhoneNumber",zt(I,g));if(v.temporaryProof)throw Fn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ni={USER_NOT_FOUND:"user-not-found"};function Zr(){return(Zr=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithPhoneNumber",zt(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ni)})).apply(this,arguments)}class rs extends vn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new rs({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new rs({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Rn(I,g){return Nn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function ri(I,g){return Dr.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Es(I,g){return Zr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:k,verificationCode:_e}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:k,code:_e}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:k,phoneNumber:_e,temporaryProof:Ze}=g;return k||v||_e||Ze?new rs({verificationId:v,verificationCode:k,phoneNumber:_e,temporaryProof:Ze}):null}}class zs{constructor(g){var v,k,_e,Ze,$t,yn;const zn=(0,y.zd)((0,y.pd)(g)),ni=null!==(v=zn.apiKey)&&void 0!==v?v:null,Hi=null!==(k=zn.oobCode)&&void 0!==k?k:null,Wr=function Xo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_e=zn.mode)&&void 0!==_e?_e:null);se(ni&&Hi&&Wr,"argument-error"),this.apiKey=ni,this.operation=Wr,this.code=Hi,this.continueUrl=null!==(Ze=zn.continueUrl)&&void 0!==Ze?Ze:null,this.languageCode=null!==($t=zn.languageCode)&&void 0!==$t?$t:null,this.tenantId=null!==(yn=zn.tenantId)&&void 0!==yn?yn:null}static parseLink(g){const v=function Or(I){const g=(0,y.zd)((0,y.pd)(I)).link,v=g?(0,y.zd)((0,y.pd)(g)).deep_link_id:null,k=(0,y.zd)((0,y.pd)(I)).deep_link_id;return(k?(0,y.zd)((0,y.pd)(k)).link:null)||k||v||g||I}(g);try{return new zs(v)}catch{return null}}}let Ws=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,k){return rn._fromEmailAndPassword(v,k)}static credentialWithLink(v,k){const _e=zs.parseLink(k);return se(_e,"argument-error"),rn._fromEmailAndCode(v,_e.code,_e.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Vr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ls extends Vr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class bo extends Ls{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return se("providerId"in v&&"signInMethod"in v,"argument-error"),Tt._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return se(g.idToken||g.accessToken,"argument-error"),Tt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return bo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return bo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:k,oauthTokenSecret:_e,pendingToken:Ze,nonce:$t,providerId:yn}=g;if(!k&&!_e&&!v&&!Ze||!yn)return null;try{return new bo(yn)._credential({idToken:v,accessToken:k,nonce:$t,pendingToken:Ze})}catch{return null}}}let wo=(()=>{class I extends Ls{constructor(){super("facebook.com")}static credential(v){return Tt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),io=(()=>{class I extends Ls{constructor(){super("google.com"),this.addScope("profile")}static credential(v,k){return Tt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:k})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:k,oauthAccessToken:_e}=v;if(!k&&!_e)return null;try{return I.credential(k,_e)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ys=(()=>{class I extends Ls{constructor(){super("github.com")}static credential(v){return Tt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class gs extends vn{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Cr(g,this.buildRequest())}_linkToIdToken(g,v){const k=this.buildRequest();return k.idToken=v,Cr(g,k)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Cr(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:k,signInMethod:_e,pendingToken:Ze}=v;return k&&_e&&Ze&&k===_e?new gs(k,Ze):null}static _create(g,v){return new gs(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends Vr{constructor(g){se(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return jr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return jr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=gs.fromJSON(g);return se(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:k}=g;if(!v||!k)return null;try{return gs._create(k,v)}catch{return null}}}let so=(()=>{class I extends Ls{constructor(){super("twitter.com")}static credential(v,k){return Tt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:k})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:k,oauthTokenSecret:_e}=v;if(!k||!_e)return null;try{return I.credential(k,_e)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function qr(I,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signUp",zt(I,g))})).apply(this,arguments)}class Qr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,k,_e=!1){return(0,c.Z)(function*(){const Ze=yield fe._fromIdTokenResponse(g,k,_e),$t=oo(k);return new Qr({user:Ze,providerId:$t,_tokenResponse:k,operationType:v})})()}static _forOperation(g,v,k){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(k,!0);const _e=oo(k);return new Qr({user:g,providerId:_e,_tokenResponse:k,operationType:v})})()}}function oo(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ks(I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(I){var g;const v=pe(I);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Qr({user:v.currentUser,providerId:null,operationType:"signIn"});const k=yield qr(v,{returnSecureToken:!0}),_e=yield Qr._fromIdTokenResponse(v,"signIn",k,!0);return yield v._updateCurrentUser(_e.user),_e})).apply(this,arguments)}class Xi extends y.ZR{constructor(g,v,k,_e){var Ze;super(v.code,v.message),this.operationType=k,this.user=_e,Object.setPrototypeOf(this,Xi.prototype),this.customData={appName:g.name,tenantId:null!==(Ze=g.tenantId)&&void 0!==Ze?Ze:void 0,_serverResponse:v.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(g,v,k,_e){return new Xi(g,v,k,_e)}}function Vo(I,g,v,k){return("reauthenticate"===g?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(Ze=>{throw"auth/multi-factor-auth-required"===Ze.code?Xi._fromErrorAndOperation(I,Ze,g,k):Ze})}function Ea(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Si(I,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(I,g){const v=(0,y.m9)(I);yield qs(!0,v,g);const{providerUserInfo:k}=yield Jt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),_e=Ea(k||[]);return v.providerData=v.providerData.filter(Ze=>_e.has(Ze.providerId)),_e.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function ao(I,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(I,g,v=!1){const k=yield St(I,g._linkToIdToken(I.auth,yield I.getIdToken()),v);return Qr._forOperation(I,"link",k)})).apply(this,arguments)}function qs(I,g,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(I,g,v){yield Vt(g);const _e=!1===I?"provider-already-linked":"no-such-provider";se(Ea(g.providerData).has(v)===I,g.auth,_e)})).apply(this,arguments)}function fa(I,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(I,g,v=!1){var k;const{auth:_e}=I,Ze="reauthenticate";try{const $t=yield St(I,Vo(_e,Ze,g,I),v);se($t.idToken,_e,"internal-error");const yn=Fe($t.idToken);se(yn,_e,"internal-error");const{sub:zn}=yn;return se(I.uid===zn,_e,"user-mismatch"),Qr._forOperation(I,Ze,$t)}catch($t){throw"auth/user-not-found"===(null===(k=$t)||void 0===k?void 0:k.code)&&dt(_e,"user-mismatch"),$t}})).apply(this,arguments)}function ss(I,g){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(I,g,v=!1){const k="signIn",_e=yield Vo(I,k,g),Ze=yield Qr._fromIdTokenResponse(I,k,_e);return v||(yield I._updateCurrentUser(Ze.user)),Ze})).apply(this,arguments)}function _s(I,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(I,g){return ss(pe(I),g)})).apply(this,arguments)}function di(I,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(I,g){const v=(0,y.m9)(I);return yield qs(!1,v,g.providerId),ao(v,g)})).apply(this,arguments)}function pa(I,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(I,g){return fa((0,y.m9)(I),g)})).apply(this,arguments)}function il(I,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(I,g){return Nt(I,"POST","/v1/accounts:signInWithCustomToken",zt(I,g))})).apply(this,arguments)}function Ms(I,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(I,g){const v=pe(I),k=yield il(v,{token:g,returnSecureToken:!0}),_e=yield Qr._fromIdTokenResponse(v,"signIn",k);return yield v._updateCurrentUser(_e.user),_e})).apply(this,arguments)}class Xr{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?fn._fromServerResponse(g,v):dt(g,"internal-error")}}class fn extends Xr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new fn(v)}}function hi(I,g,v){var k;se((null===(k=v.url)||void 0===k?void 0:k.length)>0,I,"invalid-continue-uri"),se(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(se(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(se(v.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Ma(I,g,v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I),_e={requestType:"PASSWORD_RESET",email:g};v&&hi(k,_e,v),yield Ir(k,_e)})).apply(this,arguments)}function Ur(I,g,v){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(I,g,v){yield Qn((0,y.m9)(I),{oobCode:g,newPassword:v})})).apply(this,arguments)}function Y(I,g){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(I,g){yield qi((0,y.m9)(I),{oobCode:g})})).apply(this,arguments)}function ke(I,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(I,g){const v=(0,y.m9)(I),k=yield Qn(v,{oobCode:g}),_e=k.requestType;switch(se(_e,v,"internal-error"),_e){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(k.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(k.mfaInfo,v,"internal-error");default:se(k.email,v,"internal-error")}let Ze=null;return k.mfaInfo&&(Ze=Xr._fromServerResponse(pe(v),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:Ze},operation:_e}})).apply(this,arguments)}function Yn(I,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(I,g){const{data:v}=yield ke((0,y.m9)(I),g);return v.email})).apply(this,arguments)}function Is(I,g,v){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(I,g,v){const k=pe(I),_e=yield qr(k,{returnSecureToken:!0,email:g,password:v}),Ze=yield Qr._fromIdTokenResponse(k,"signIn",_e);return yield k._updateCurrentUser(Ze.user),Ze})).apply(this,arguments)}function Zi(I,g,v){return _s((0,y.m9)(I),Ws.credential(g,v))}function Bs(I,g,v){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I),_e={requestType:"EMAIL_SIGNIN",email:g};se(v.handleCodeInApp,k,"argument-error"),v&&hi(k,_e,v),yield kr(k,_e)})).apply(this,arguments)}function pr(I,g){return"EMAIL_SIGNIN"===zs.parseLink(g)?.operation}function To(I,g,v){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I),_e=Ws.credentialWithLink(g,v||Ht());return se(_e._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),_s(k,_e)})).apply(this,arguments)}function ga(I,g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:createAuthUri",zt(I,g))})).apply(this,arguments)}function Il(I,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(I,g){const k={identifier:g,continueUri:jt()?Ht():"http://localhost"},{signinMethods:_e}=yield ga((0,y.m9)(I),k);return _e||[]})).apply(this,arguments)}function Ia(I,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(I,g){const v=(0,y.m9)(I),_e={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&hi(v.auth,_e,g);const{email:Ze}=yield ps(v.auth,_e);Ze!==I.email&&(yield I.reload())})).apply(this,arguments)}function Sa(I,g,v){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I),Ze={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};v&&hi(k.auth,Ze,v);const{email:$t}=yield ha(k.auth,Ze);$t!==I.email&&(yield I.reload())})).apply(this,arguments)}function Sl(I,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(I,g){return Ye(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rl(I,g){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(I,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const k=(0,y.m9)(I),Ze={idToken:yield k.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},$t=yield St(k,Sl(k.auth,Ze));k.displayName=$t.displayName||null,k.photoURL=$t.photoUrl||null;const yn=k.providerData.find(({providerId:zn})=>"password"===zn);yn&&(yn.displayName=k.displayName,yn.photoURL=k.photoURL),yield k._updateTokensIfNecessary($t)})).apply(this,arguments)}function Aa(I,g){return le((0,y.m9)(I),g,null)}function N(I,g){return le((0,y.m9)(I),null,g)}function le(I,g,v){return G.apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(I,g,v){const{auth:k}=I,Ze={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(Ze.email=g),v&&(Ze.password=v);const $t=yield St(I,Ci(k,Ze));yield I._updateTokensIfNecessary($t,!0)})).apply(this,arguments)}class bt{constructor(g,v,k={}){this.isNewUser=g,this.providerId=v,this.profile=k}}class Qt extends bt{constructor(g,v,k,_e){super(g,v,k),this.username=_e}}class an extends bt{constructor(g,v){super(g,"facebook.com",v)}}class Kn extends Qt{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class zi extends bt{constructor(g,v){super(g,"google.com",v)}}class Bi extends Qt{constructor(g,v,k){super(g,"twitter.com",v,k)}}function _i(I){const{user:g,_tokenResponse:v}=I;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ae(I){var g,v;if(!I)return null;const{providerId:k}=I,_e=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Ze=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!k&&I?.idToken){const $t=null===(v=null===(g=Fe(I.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if($t)return new bt(Ze,"anonymous"!==$t&&"custom"!==$t?$t:null)}if(!k)return null;switch(k){case"facebook.com":return new an(Ze,_e);case"github.com":return new Kn(Ze,_e);case"google.com":return new zi(Ze,_e);case"twitter.com":return new Bi(Ze,_e,I.screenName||null);case"custom":case"anonymous":return new bt(Ze,null);default:return new bt(Ze,k,_e)}}(v)}class gr{constructor(g,v,k){this.type=g,this.credential=v,this.auth=k}static _fromIdtoken(g,v){return new gr("enroll",g,v)}static _fromMfaPendingCredential(g){return new gr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,k;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return gr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(k=g.multiFactorSession)&&void 0!==k&&k.idToken)return gr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ys{constructor(g,v,k){this.session=g,this.hints=v,this.signInResolver=k}static _fromError(g,v){const k=pe(g),_e=v.customData._serverResponse,Ze=(_e.mfaInfo||[]).map(yn=>Xr._fromServerResponse(k,yn));se(_e.mfaPendingCredential,k,"internal-error");const $t=gr._fromMfaPendingCredential(_e.mfaPendingCredential);return new ys($t,Ze,function(){var yn=(0,c.Z)(function*(zn){const ni=yield zn._process(k,$t);delete _e.mfaInfo,delete _e.mfaPendingCredential;const Hi=Object.assign(Object.assign({},_e),{idToken:ni.idToken,refreshToken:ni.refreshToken});switch(v.operationType){case"signIn":const Wr=yield Qr._fromIdTokenResponse(k,v.operationType,Hi);return yield k._updateCurrentUser(Wr.user),Wr;case"reauthenticate":return se(v.user,k,"internal-error"),Qr._forOperation(v.user,v.operationType,Hi);default:dt(k,"internal-error")}});return function(zn){return yn.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,c.Z)(function*(){return v.signInResolver(g)})()}}function sl(I,g){var v;const k=(0,y.m9)(I),_e=g;return se(g.customData.operationType,k,"argument-error"),se(null===(v=_e.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,k,"argument-error"),ys._fromError(k,_e)}function Er(I,g){return Ye(I,"POST","/v2/accounts/mfaEnrollment:start",zt(I,g))}class ol{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(k=>Xr._fromServerResponse(g.auth,k)))})}static _fromUser(g){return new ol(g)}getSession(){var g=this;return(0,c.Z)(function*(){return gr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var k=this;return(0,c.Z)(function*(){const _e=g,Ze=yield k.getSession(),$t=yield St(k.user,_e._process(k.user.auth,Ze,v));return yield k.user._updateTokensIfNecessary($t),k.user.reload()})()}unenroll(g){var v=this;return(0,c.Z)(function*(){var k;const _e="string"==typeof g?g:g.uid,Ze=yield v.user.getIdToken(),$t=yield St(v.user,function Ta(I,g){return Ye(I,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(I,g))}(v.user.auth,{idToken:Ze,mfaEnrollmentId:_e}));v.enrolledFactors=v.enrolledFactors.filter(({uid:yn})=>yn!==_e),yield v.user._updateTokensIfNecessary($t);try{yield v.user.reload()}catch(yn){if("auth/user-token-expired"!==(null===(k=yn)||void 0===k?void 0:k.code))throw yn}})()}}const ks=new WeakMap;function gc(I){const g=(0,y.m9)(I);return ks.has(g)||ks.set(g,ol._fromUser(g)),ks.get(g)}const Ho="__sak";class Do{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ui=(()=>{class I extends Do{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,k)=>this.onStorageEvent(v,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nt(){const I=(0,y.z$)();return yt(I)||it(I)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const k of Object.keys(this.listeners)){const _e=this.storage.getItem(k),Ze=this.localCache[k];_e!==Ze&&v(k,Ze,_e)}}onStorageEvent(v,k=!1){if(!v.key)return void this.forAllChangedKeys((yn,zn,ni)=>{this.notifyListeners(yn,ni)});const _e=v.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yn=this.storage.getItem(_e);if(v.newValue!==yn)null!==v.newValue?this.storage.setItem(_e,v.newValue):this.storage.removeItem(_e);else if(this.localCache[_e]===v.newValue&&!k)return}const Ze=()=>{const yn=this.storage.getItem(_e);!k&&this.localCache[_e]===yn||this.notifyListeners(_e,yn)},$t=this.storage.getItem(_e);!function Gt(){return(0,y.w1)()&&10===document.documentMode}()||$t===v.newValue||v.newValue===v.oldValue?Ze():setTimeout(Ze,10)}notifyListeners(v,k){this.localCache[v]=k;const _e=this.listeners[v];if(_e)for(const Ze of Array.from(_e))Ze(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,k,_e)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:k,newValue:_e}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,k){var _e=()=>super._set,Ze=this;return(0,c.Z)(function*(){yield _e().call(Ze,v,k),Ze.localCache[v]=JSON.stringify(k)})()}_get(v){var k=()=>super._get,_e=this;return(0,c.Z)(function*(){const Ze=yield k().call(_e,v);return _e.localCache[v]=JSON.stringify(Ze),Ze})()}_remove(v){var k=()=>super._remove,_e=this;return(0,c.Z)(function*(){yield k().call(_e,v),delete _e.localCache[v]})()}}return I.type="LOCAL",I})(),Wi=(()=>{class I extends Do{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,k){}_removeListener(v,k){}}return I.type="SESSION",I})();let Ba=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const k=this.receivers.find(Ze=>Ze.isListeningto(v));if(k)return k;const _e=new I(v);return this.receivers.push(_e),_e}isListeningto(v){return this.eventTarget===v}handleEvent(v){var k=this;return(0,c.Z)(function*(){const _e=v,{eventId:Ze,eventType:$t,data:yn}=_e.data,zn=k.handlersMap[$t];if(!zn?.size)return;_e.ports[0].postMessage({status:"ack",eventId:Ze,eventType:$t});const ni=Array.from(zn).map(function(){var Wr=(0,c.Z)(function*(Zo){return Zo(_e.origin,yn)});return function(Zo){return Wr.apply(this,arguments)}}()),Hi=yield function Ra(I){return Promise.all(I.map(function(){var g=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(k){return{fulfilled:!1,reason:k}}});return function(v){return g.apply(this,arguments)}}()))}(ni);_e.ports[0].postMessage({status:"done",eventId:Ze,eventType:$t,response:Hi})})()}_subscribe(v,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(k)}_unsubscribe(v,k){this.handlersMap[v]&&k&&this.handlersMap[v].delete(k),(!k||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function In(I="",g=10){let v="";for(let k=0;k<g;k++)v+=Math.floor(10*Math.random());return I+v}class $r{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,k=50){var _e=this;return(0,c.Z)(function*(){const Ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ze)throw new Error("connection_unavailable");let $t,yn;return new Promise((zn,ni)=>{const Hi=In("",20);Ze.port1.start();const Wr=setTimeout(()=>{ni(new Error("unsupported_event"))},k);yn={messageChannel:Ze,onMessage(Zo){const Gc=Zo;if(Gc.data.eventId===Hi)switch(Gc.data.status){case"ack":clearTimeout(Wr),$t=setTimeout(()=>{ni(new Error("timeout"))},3e3);break;case"done":clearTimeout($t),zn(Gc.data.response);break;default:clearTimeout(Wr),clearTimeout($t),ni(new Error("invalid_response"))}}},_e.handlers.add(yn),Ze.port1.addEventListener("message",yn.onMessage),_e.target.postMessage({eventType:g,eventId:Hi,data:v},[Ze.port2])}).finally(()=>{yn&&_e.removeMessageHandler(yn)})})()}}function ir(){return window}function Un(){return typeof ir().WorkerGlobalScope<"u"&&"function"==typeof ir().importScripts}function na(){return(na=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cn="firebaseLocalStorageDb",Rl="firebaseLocalStorage",kl="fbase_key";class jo{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function _a(I,g){return I.transaction([Rl],g?"readwrite":"readonly").objectStore(Rl)}function ya(){const I=indexedDB.open(Cn,1);return new Promise((g,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const k=I.result;try{k.createObjectStore(Rl,{keyPath:kl})}catch(_e){v(_e)}}),I.addEventListener("success",(0,c.Z)(function*(){const k=I.result;k.objectStoreNames.contains(Rl)?g(k):(k.close(),yield function ls(){const I=indexedDB.deleteDatabase(Cn);return new jo(I).toPromise()}(),g(yield ya()))}))})}function Go(I,g,v){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(I,g,v){const k=_a(I,!0).put({[kl]:g,value:v});return new jo(k).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(I,g){const v=_a(I,!1).get(g),k=yield new jo(v).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function ll(I,g){const v=_a(I,!0).delete(g);return new jo(v).toPromise()}const er=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield ya()),v.db})()}_withRetries(v){var k=this;return(0,c.Z)(function*(){let _e=0;for(;;)try{const Ze=yield k._openDb();return yield v(Ze)}catch(Ze){if(_e++>3)throw Ze;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return Un()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=Ba._getInstance(function nn(){return Un()?self:null}()),v.receiver._subscribe("keyChanged",function(){var k=(0,c.Z)(function*(_e,Ze){return{keyProcessed:(yield v._poll()).includes(Ze.key)}});return function(_e,Ze){return k.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var k=(0,c.Z)(function*(_e,Ze){return["keyChanged"]});return function(_e,Ze){return k.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var k,_e;if(v.activeServiceWorker=yield function fi(){return na.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new $r(v.activeServiceWorker);const Ze=yield v.sender._send("ping",{},800);!Ze||(null===(k=Ze[0])||void 0===k?void 0:k.fulfilled)&&(null===(_e=Ze[0])||void 0===_e?void 0:_e.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var k=this;return(0,c.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function jn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:v},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ya();return yield Go(v,Ho,"1"),yield ll(v,Ho),!0}catch{}return!1})()}_withPendingWrite(v){var k=this;return(0,c.Z)(function*(){k.pendingWrites++;try{yield v()}finally{k.pendingWrites--}})()}_set(v,k){var _e=this;return(0,c.Z)(function*(){return _e._withPendingWrite((0,c.Z)(function*(){return yield _e._withRetries(Ze=>Go(Ze,v,k)),_e.localCache[v]=k,_e.notifyServiceWorker(v)}))})()}_get(v){var k=this;return(0,c.Z)(function*(){const _e=yield k._withRetries(Ze=>function _c(I,g){return Va.apply(this,arguments)}(Ze,v));return k.localCache[v]=_e,_e})()}_remove(v){var k=this;return(0,c.Z)(function*(){return k._withPendingWrite((0,c.Z)(function*(){return yield k._withRetries(_e=>ll(_e,v)),delete k.localCache[v],k.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const k=yield v._withRetries($t=>{const yn=_a($t,!1).getAll();return new jo(yn).toPromise()});if(!k)return[];if(0!==v.pendingWrites)return[];const _e=[],Ze=new Set;for(const{fbase_key:$t,value:yn}of k)Ze.add($t),JSON.stringify(v.localCache[$t])!==JSON.stringify(yn)&&(v.notifyListeners($t,yn),_e.push($t));for(const $t of Object.keys(v.localCache))v.localCache[$t]&&!Ze.has($t)&&(v.notifyListeners($t,null),_e.push($t));return _e})()}notifyListeners(v,k){this.localCache[v]=k;const _e=this.listeners[v];if(_e)for(const Ze of Array.from(_e))Ze(k)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(k)}_removeListener(v,k){this.listeners[v]&&(this.listeners[v].delete(k),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ai(I,g){return Ye(I,"POST","/v2/accounts/mfaSignIn:start",zt(I,g))}function Hr(){return(Hr=(0,c.Z)(function*(I){return(yield Ye(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(I){return new Promise((g,v)=>{const k=document.createElement("script");k.setAttribute("src",I),k.onload=g,k.onerror=_e=>{const Ze=tt("internal-error");Ze.customData=_e,v(Ze)},k.type="text/javascript",k.charset="UTF-8",function lr(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(k)})}function zo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Hs=1e12;class va{constructor(g){this.auth=g,this.counter=Hs,this._widgets=new Map}render(g,v){const k=this.counter;return this._widgets.set(k,new yr(g,this.auth.name,v||{})),this.counter++,k}reset(g){var v;const k=g||Hs;null===(v=this._widgets.get(k))||void 0===v||v.delete(),this._widgets.delete(k)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Hs))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,c.Z)(function*(){var k;return null===(k=v._widgets.get(g||Hs))||void 0===k||k.execute(),""})()}}class yr{constructor(g,v,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _e="string"==typeof g?document.getElementById(g):g;se(_e,"argument-error",{appName:v}),this.container=_e,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ol(I){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<I;k++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ql=zo("rcb"),Bc=new Te(3e4,6e4);class Vc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ir().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return se(function vs(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(ir().grecaptcha):new Promise((k,_e)=>{const Ze=ir().setTimeout(()=>{_e(tt(g,"network-request-failed"))},Bc.get());ir()[Ql]=()=>{ir().clearTimeout(Ze),delete ir()[Ql];const yn=ir().grecaptcha;if(!yn)return void _e(tt(g,"internal-error"));const zn=yn.render;yn.render=(ni,Hi)=>{const Wr=zn(ni,Hi);return this.counter++,Wr},this.hostLanguage=v,k(yn)},Sn(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:Ql,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(Ze),_e(tt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=ir().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(g){return(0,c.Z)(function*(){return new va(g)})()}clearedOneInstance(){}}const Os="recaptcha",Uc={theme:"light",type:"image"};class en{constructor(g,v=Object.assign({},Uc),k){this.parameters=v,this.type=Os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pe(k),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _e="string"==typeof g?document.getElementById(g):g;se(_e,this.auth,"argument-error"),this.container=_e,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new Vc,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),k=g.getAssertedRecaptcha();return k.getResponse(v)||new Promise(Ze=>{const $t=yn=>{!yn||(g.tokenChangeListeners.delete($t),Ze(yn))};g.tokenChangeListeners.add($t),g.isInvisible&&k.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(k=>k(v)),"function"==typeof g)g(v);else if("string"==typeof g){const k=ir()[g];"function"==typeof k&&k(v)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const k=document.createElement("div");v.appendChild(k),v=k}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){se(jt()&&!Un(),g.auth,"internal-error"),yield function zr(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Di(I){return Hr.apply(this,arguments)}(g.auth);se(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class js{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=rs._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Xl(I,g,v){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(I,g,v){const k=pe(I),_e=yield Oa(k,g,(0,y.m9)(v));return new js(_e,Ze=>_s(k,Ze))})).apply(this,arguments)}function ba(I,g,v){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I);yield qs(!1,k,"phone");const _e=yield Oa(k.auth,g,(0,y.m9)(v));return new js(_e,Ze=>di(k,Ze))})).apply(this,arguments)}function cs(I,g,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I),_e=yield Oa(k.auth,g,(0,y.m9)(v));return new js(_e,Ze=>pa(k,Ze))})).apply(this,arguments)}function Oa(I,g,v){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(I,g,v){var k;const _e=yield v.verify();try{let Ze;if(se("string"==typeof _e,I,"argument-error"),se(v.type===Os,I,"argument-error"),Ze="string"==typeof g?{phoneNumber:g}:g,"session"in Ze){const $t=Ze.session;if("phoneNumber"in Ze)return se("enroll"===$t.type,I,"internal-error"),(yield Er(I,{idToken:$t.credential,phoneEnrollmentInfo:{phoneNumber:Ze.phoneNumber,recaptchaToken:_e}})).phoneSessionInfo.sessionInfo;{se("signin"===$t.type,I,"internal-error");const yn=(null===(k=Ze.multiFactorHint)||void 0===k?void 0:k.uid)||Ze.multiFactorUid;return se(yn,I,"missing-multi-factor-info"),(yield ai(I,{mfaPendingCredential:$t.credential,mfaEnrollmentId:yn,phoneSignInInfo:{recaptchaToken:_e}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$t}=yield Zt(I,{phoneNumber:Ze.phoneNumber,recaptchaToken:_e});return $t}}finally{v._reset()}})).apply(this,arguments)}function A(I,g){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I,g){yield ao((0,y.m9)(I),g)})).apply(this,arguments)}let U=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=pe(v)}verifyPhoneNumber(v,k){return Oa(this.auth,v,(0,y.m9)(k))}static credential(v,k){return rs._fromVerification(v,k)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:k,temporaryProof:_e}=v;return k&&_e?rs._fromTokenResponse(k,_e):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Z(I,g){return g?ue(g):(se(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ie extends vn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Cr(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Cr(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Cr(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function st(I){return ss(I.auth,new Ie(I),I.bypassAuthState)}function _t(I){const{auth:g,user:v}=I;return se(v,g,"internal-error"),fa(v,new Ie(I),I.bypassAuthState)}function qt(I){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(I){const{auth:g,user:v}=I;return se(v,g,"internal-error"),ao(v,new Ie(I),I.bypassAuthState)})).apply(this,arguments)}class gi{constructor(g,v,k,_e,Ze=!1){this.auth=g,this.resolver=k,this.user=_e,this.bypassAuthState=Ze,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,c.Z)(function*(k,_e){g.pendingPromise={resolve:k,reject:_e};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Ze){g.reject(Ze)}});return function(k,_e){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,c.Z)(function*(){const{urlResponse:k,sessionId:_e,postBody:Ze,tenantId:$t,error:yn,type:zn}=g;if(yn)return void v.reject(yn);const ni={auth:v.auth,requestUri:k,sessionId:_e,tenantId:$t||void 0,postBody:Ze||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(zn)(ni))}catch(Hi){v.reject(Hi)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return st;case"linkViaPopup":case"linkViaRedirect":return qt;case"reauthViaPopup":case"reauthViaRedirect":return _t;default:dt(this.auth,"internal-error")}}resolve(g){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wn=new Te(2e3,1e4);function yi(I,g,v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(I,g,v){const k=pe(I);xe(I,g,Vr);const _e=Z(k,v);return new to(k,"signInViaPopup",g,_e).executeNotNull()})).apply(this,arguments)}function ur(I,g,v){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I);xe(k.auth,g,Vr);const _e=Z(k.auth,v);return new to(k.auth,"reauthViaPopup",g,_e,k).executeNotNull()})).apply(this,arguments)}function Mr(I,g,v){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I);xe(k.auth,g,Vr);const _e=Z(k.auth,v);return new to(k.auth,"linkViaPopup",g,_e,k).executeNotNull()})).apply(this,arguments)}let to=(()=>{class I extends gi{constructor(v,k,_e,Ze,$t){super(v,k,Ze,$t),this.provider=_e,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const k=yield v.execute();return se(k,v.auth,"internal-error"),k})()}onExecution(){var v=this;return(0,c.Z)(function*(){Qe(1===v.filter.length,"Popup operations only handle one event");const k=In();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],k),v.authWindow.associatedEvent=k,v.resolver._originValidation(v.auth).catch(_e=>{v.reject(_e)}),v.resolver._isIframeWebStorageSupported(v.auth,_e=>{_e||v.reject(tt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var k,_e;this.pollId=null!==(_e=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==_e&&_e.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Wn.get())};v()}}return I.currentPopupAction=null,I})();const Eo=new Map;class ko extends gi{constructor(g,v,k=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,k),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,c.Z)(function*(){let k=Eo.get(v.auth._key());if(!k){try{const Ze=(yield function Hc(I,g){return Wo.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;k=()=>Promise.resolve(Ze)}catch(_e){k=()=>Promise.reject(_e)}Eo.set(v.auth._key(),k)}return v.bypassAuthState||Eo.set(v.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,k=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(k,g);if("unknown"!==g.type){if(g.eventId){const _e=yield k.auth._redirectUserForId(g.eventId);if(_e)return k.user=_e,v().call(k,g);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Wo(){return(Wo=(0,c.Z)(function*(I,g){const v=po(g),k=Ga(I);if(!(yield k._isAvailable()))return!1;const _e="true"===(yield k._get(v));return yield k._remove(v),_e})).apply(this,arguments)}function Oo(I,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(I,g){return Ga(I)._set(po(g),"true")})).apply(this,arguments)}function ia(){Eo.clear()}function fo(I,g){Eo.set(I._key(),g)}function Ga(I){return ue(I._redirectPersistence)}function po(I){return cn("pendingRedirect",I.config.apiKey,I.name)}function ra(I,g,v){return function Sr(I,g,v){return Yo.apply(this,arguments)}(I,g,v)}function Yo(){return(Yo=(0,c.Z)(function*(I,g,v){const k=pe(I);xe(I,g,Vr);const _e=Z(k,v);return yield Oo(_e,k),_e._openRedirect(k,g,"signInViaRedirect")})).apply(this,arguments)}function j(I,g,v){return function q(I,g,v){return ye.apply(this,arguments)}(I,g,v)}function ye(){return(ye=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I);xe(k.auth,g,Vr);const _e=Z(k.auth,v);yield Oo(_e,k.auth);const Ze=yield Ti(k);return _e._openRedirect(k.auth,g,"reauthViaRedirect",Ze)})).apply(this,arguments)}function ft(I,g,v){return function Ut(I,g,v){return Wt.apply(this,arguments)}(I,g,v)}function Wt(){return(Wt=(0,c.Z)(function*(I,g,v){const k=(0,y.m9)(I);xe(k.auth,g,Vr);const _e=Z(k.auth,v);yield qs(!1,k,g.providerId),yield Oo(_e,k.auth);const Ze=yield Ti(k);return _e._openRedirect(k.auth,g,"linkViaRedirect",Ze)})).apply(this,arguments)}function Dn(I,g){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(I,g){return yield pe(I)._initializationPromise,ti(I,g,!1)})).apply(this,arguments)}function ti(I,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(I,g,v=!1){const k=pe(I),_e=Z(k,g),$t=yield new ko(k,_e,v).execute();return $t&&!v&&(delete $t.user._redirectEventId,yield k._persistUserIfCurrent($t.user),yield k._setRedirectUser(null,g)),$t})).apply(this,arguments)}function Ti(I){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(I){const g=In(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Fs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(g,k)&&(v=!0,this.sendToConsumer(g,k),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ll(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var k;if(g.error&&!us(g)){const _e=(null===(k=g.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";v.onError(tt(this.auth,_e))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const k=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&k}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fl(g))}saveEventToCache(g){this.cachedEventUids.add(Fl(g)),this.lastProcessedEventTime=Date.now()}}function Fl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function us({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function rr(I){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(I,g={}){return Ye(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ko=/^https?/;function za(){return(za=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield rr(I);for(const v of g)try{if(Ud(v))return}catch{}dt(I,"unauthorized-domain")})).apply(this,arguments)}function Ud(I){const g=Ht(),{protocol:v,hostname:k}=new URL(g);if(I.startsWith("chrome-extension://")){const $t=new URL(I);return""===$t.hostname&&""===k?"chrome-extension:"===v&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&$t.hostname===k}if(!Ko.test(v))return!1;if(Jl.test(I))return k===I;const _e=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_e+"|"+_e+")$","i").test(k)}const qu=new Te(3e4,6e4);function Qu(){const I=ir().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Nr=null;function Hd(I){return Nr=Nr||function Xu(I){return new Promise((g,v)=>{var k,_e,Ze;function $t(){Qu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qu(),v(tt(I,"network-request-failed"))},timeout:qu.get()})}if(null!==(_e=null===(k=ir().gapi)||void 0===k?void 0:k.iframes)&&void 0!==_e&&_e.Iframe)g(gapi.iframes.getContext());else{if(null===(Ze=ir().gapi)||void 0===Ze||!Ze.load){const yn=zo("iframefcb");return ir()[yn]=()=>{gapi.load?$t():v(tt(I,"network-request-failed"))},Sn(`https://apis.google.com/js/api.js?onload=${yn}`).catch(zn=>v(zn))}$t()}}).catch(g=>{throw Nr=null,g})}(I),Nr}const Wh=new Te(5e3,15e3),wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ym=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gd(I){const g=I.config;se(g.authDomain,I,"auth-domain-config-required");const v=g.emulator?Et(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,k={apiKey:g.apiKey,appName:I.name,v:b.SDK_VERSION},_e=ym.get(I.config.apiHost);_e&&(k.eid=_e);const Ze=I._getFrameworks();return Ze.length&&(k.fw=Ze.join(",")),`${v}?${(0,y.xO)(k).slice(1)}`}function Wa(){return Wa=(0,c.Z)(function*(I){const g=yield Hd(I),v=ir().gapi;return se(v,I,"internal-error"),g.open({where:document.body,url:Gd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},k=>new Promise(function(){var _e=(0,c.Z)(function*(Ze,$t){yield k.restyle({setHideOnLeave:!1});const yn=tt(I,"network-request-failed"),zn=ir().setTimeout(()=>{$t(yn)},Wh.get());function ni(){ir().clearTimeout(zn),Ze(k)}k.ping(ni).then(ni,()=>{$t(yn)})});return function(Ze,$t){return _e.apply(this,arguments)}}()))}),Wa.apply(this,arguments)}const ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tc(I,g,v,k,_e,Ze){se(I.config.authDomain,I,"auth-domain-config-required"),se(I.config.apiKey,I,"invalid-api-key");const $t={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:k,v:b.SDK_VERSION,eventId:_e};if(g instanceof Vr){g.setDefaultLanguage(I.languageCode),$t.providerId=g.providerId||"",(0,y.xb)(g.getCustomParameters())||($t.customParameters=JSON.stringify(g.getCustomParameters()));for(const[zn,ni]of Object.entries(Ze||{}))$t[zn]=ni}if(g instanceof Ls){const zn=g.getScopes().filter(ni=>""!==ni);zn.length>0&&($t.scopes=zn.join(","))}I.tenantId&&($t.tid=I.tenantId);const yn=$t;for(const zn of Object.keys(yn))void 0===yn[zn]&&delete yn[zn];return`${function wa({config:I}){return I.emulator?Et(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,y.xO)(yn).slice(1)}`}const Mo="webStorageSupport",W=class H{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wi,this._completeRedirectFn=ti,this._overrideRedirectResult=fo}_openPopup(g,v,k,_e){var Ze=this;return(0,c.Z)(function*(){var $t;Qe(null===($t=Ze.eventManagers[g._key()])||void 0===$t?void 0:$t.manager,"_initialize() not called before _openPopup()");const yn=tc(g,v,k,Ht(),_e);return function ec(I,g,v,k=500,_e=600){const Ze=Math.max((window.screen.availHeight-_e)/2,0).toString(),$t=Math.max((window.screen.availWidth-k)/2,0).toString();let yn="";const zn=Object.assign(Object.assign({},ul),{width:k.toString(),height:_e.toString(),top:Ze,left:$t}),ni=(0,y.z$)().toLowerCase();v&&(yn=Yt(ni)?"_blank":v),ut(ni)&&(g=g||"http://localhost",zn.scrollbars="yes");const Hi=Object.entries(zn).reduce((Zo,[Gc,Zd])=>`${Zo}${Gc}=${Zd},`,"");if(function It(I=(0,y.z$)()){var g;return it(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ni)&&"_self"!==yn)return function Yd(I,g){const v=document.createElement("a");v.href=I,v.target=g;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(k)}(g||"",yn),new Wd(null);const Wr=window.open(g||"",yn,Hi);se(Wr,I,"popup-blocked");try{Wr.focus()}catch{}return new Wd(Wr)}(g,yn,In())})()}_openRedirect(g,v,k,_e){var Ze=this;return(0,c.Z)(function*(){return yield Ze._originValidation(g),function ql(I){ir().location.href=I}(tc(g,v,k,Ht(),_e)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:_e,promise:Ze}=this.eventManagers[v];return _e?Promise.resolve(_e):(Qe(Ze,"If manager is not set, promise should be"),Ze)}const k=this.initAndGetManager(g);return this.eventManagers[v]={promise:k},k.catch(()=>{delete this.eventManagers[v]}),k}initAndGetManager(g){var v=this;return(0,c.Z)(function*(){const k=yield function Kh(I){return Wa.apply(this,arguments)}(g),_e=new Fs(g);return k.register("authEvent",Ze=>(se(Ze?.authEvent,g,"invalid-auth-event"),{status:_e.onEvent(Ze.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:_e},v.iframes[g._key()]=k,_e})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Mo,{type:Mo},_e=>{var Ze;const $t=null===(Ze=_e?.[0])||void 0===Ze?void 0:Ze[Mo];void 0!==$t&&v(!!$t),dt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function $a(I){return za.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return xn()||yt()||it()}};class x extends class h{constructor(g){this.factorId=g}_process(g,v,k){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,k);case"signin":return this._finalizeSignIn(g,v.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new x(g)}_finalizeEnroll(g,v,k){return function ta(I,g){return Ye(I,"POST","/v2/accounts/mfaEnrollment:finalize",zt(I,g))}(g,{idToken:v,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function $o(I,g){return Ye(I,"POST","/v2/accounts/mfaSignIn:finalize",zt(I,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Q=(()=>{class I{constructor(){}static assertion(v){return x._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Ue="@firebase/auth";class Hn{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(k=>{var _e;g((null===(_e=k)||void 0===_e?void 0:_e.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Jr(I){(0,b._registerComponent)(new Be.wA("auth",(g,{options:v})=>{const k=g.getProvider("app").getImmediate(),_e=g.getProvider("heartbeat"),{apiKey:Ze,authDomain:$t}=k.options;return((yn,zn)=>{se(Ze&&!Ze.includes(":"),"invalid-api-key",{appName:yn.name}),se(!$t?.includes(":"),"argument-error",{appName:yn.name});const ni={apiKey:Ze,authDomain:$t,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(I)},Hi=new wr(yn,zn,ni);return function Je(I,g){const v=g?.persistence||[],k=(Array.isArray(v)?v:[v]).map(ue);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(k,g?.popupRedirectResolver)}(Hi,v),Hi})(k,_e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,k)=>{g.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new Be.wA("auth-internal",g=>{const v=pe(g.getProvider("auth").getImmediate());return new Hn(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Ue,"0.20.7",function Ei(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,b.registerVersion)(Ue,"0.20.7","esm2017")}("Browser")},2090:(ln,ht,w)=>{w.d(ht,{$s:()=>Vt,BH:()=>He,DV:()=>Ye,Dv:()=>$,G6:()=>se,GJ:()=>Mt,L:()=>Re,LL:()=>Ht,Pz:()=>Bt,Sg:()=>We,UG:()=>Se,UI:()=>rt,US:()=>Be,Wj:()=>Ge,Yr:()=>Ne,ZB:()=>me,ZR:()=>Je,b$:()=>dt,cI:()=>on,dS:()=>Fe,eu:()=>Qe,g5:()=>b,gK:()=>De,gQ:()=>Bn,h$:()=>Ke,hl:()=>oe,hu:()=>y,jU:()=>Ee,lb:()=>Pe,m9:()=>gt,ne:()=>En,p$:()=>ne,pd:()=>Fn,r3:()=>zt,ru:()=>be,tV:()=>S,uI:()=>ze,ug:()=>xt,vZ:()=>Dt,w1:()=>Le,w9:()=>Lt,xO:()=>Mn,xb:()=>et,z$:()=>Me,zI:()=>ae,zd:()=>Pn});const y=function(te,J){if(!te)throw b(J)},b=function(te){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+te)},F=function(te){const J=[];let ee=0;for(let O=0;O<te.length;O++){let K=te.charCodeAt(O);K<128?J[ee++]=K:K<2048?(J[ee++]=K>>6|192,J[ee++]=63&K|128):55296==(64512&K)&&O+1<te.length&&56320==(64512&te.charCodeAt(O+1))?(K=65536+((1023&K)<<10)+(1023&te.charCodeAt(++O)),J[ee++]=K>>18|240,J[ee++]=K>>12&63|128,J[ee++]=K>>6&63|128,J[ee++]=63&K|128):(J[ee++]=K>>12|224,J[ee++]=K>>6&63|128,J[ee++]=63&K|128)}return J},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,J){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let K=0;K<te.length;K+=3){const z=te[K],fe=K+1<te.length,je=fe?te[K+1]:0,Ft=K+2<te.length,cn=Ft?te[K+2]:0;let ut=(15&je)<<2|cn>>6,yt=63&cn;Ft||(yt=64,fe||(ut=64)),O.push(ee[z>>2],ee[(3&z)<<4|je>>4],ee[ut],ee[yt])}return O.join("")},encodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(te):this.encodeByteArray(F(te),J)},decodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(te):function(te){const J=[];let ee=0,O=0;for(;ee<te.length;){const K=te[ee++];if(K<128)J[O++]=String.fromCharCode(K);else if(K>191&&K<224){const z=te[ee++];J[O++]=String.fromCharCode((31&K)<<6|63&z)}else if(K>239&&K<365){const Ft=((7&K)<<18|(63&te[ee++])<<12|(63&te[ee++])<<6|63&te[ee++])-65536;J[O++]=String.fromCharCode(55296+(Ft>>10)),J[O++]=String.fromCharCode(56320+(1023&Ft))}else{const z=te[ee++],fe=te[ee++];J[O++]=String.fromCharCode((15&K)<<12|(63&z)<<6|63&fe)}}return J.join("")}(this.decodeStringToByteArray(te,J))},decodeStringToByteArray(te,J){this.init_();const ee=J?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let K=0;K<te.length;){const z=ee[te.charAt(K++)],je=K<te.length?ee[te.charAt(K)]:0;++K;const cn=K<te.length?ee[te.charAt(K)]:64;++K;const At=K<te.length?ee[te.charAt(K)]:64;if(++K,null==z||null==je||null==cn||null==At)throw Error();O.push(z<<2|je>>4),64!==cn&&(O.push(je<<4&240|cn>>2),64!==At&&O.push(cn<<6&192|At))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},Ke=function(te){const J=F(te);return Be.encodeByteArray(J,!0)},Re=function(te){return Ke(te).replace(/\./g,"")},S=function(te){try{return Be.decodeString(te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ne(te){return me(void 0,te)}function me(te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return J}for(const ee in J)!J.hasOwnProperty(ee)||!he(ee)||(te[ee]=me(te[ee],J[ee]));return te}function he(te){return"__proto__"!==te}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,ee)=>{this.resolve=J,this.reject=ee})}wrapCallback(J){return(ee,O)=>{ee?this.reject(ee):this.resolve(O),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(ee):J(ee,O))}}}function We(te,J){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=J||"demo-project",K=te.iat||0,z=te.sub||te.user_id;if(!z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:K,exp:K+3600,auth_time:K,sub:z,user_id:z,firebase:{sign_in_provider:"custom",identities:{}}},te);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(fe)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function be(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const te=Me();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function Ne(){return!1}function se(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function Qe(){return new Promise((te,J)=>{try{let ee=!0;const O="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(O);K.onsuccess=()=>{K.result.close(),ee||self.indexedDB.deleteDatabase(O),te(!0)},K.onupgradeneeded=()=>{ee=!1},K.onerror=()=>{var z;J((null===(z=K.error)||void 0===z?void 0:z.message)||"")}}catch(ee){J(ee)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Je extends Error{constructor(J,ee,O){super(ee),this.code=J,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(J,ee,O){this.service=J,this.serviceName=ee,this.errors=O}create(J,...ee){const O=ee[0]||{},K=`${this.service}/${J}`,z=this.errors[J],fe=z?function jt(te,J){return te.replace(sn,(ee,O)=>{const K=J[O];return null!=K?String(K):`<${O}?>`})}(z,O):"Error";return new Je(K,`${this.serviceName}: ${fe} (${K}).`,O)}}const sn=/\{\$([^}]+)}/g;function on(te){return JSON.parse(te)}function Bt(te){return JSON.stringify(te)}const Te=function(te){let J={},ee={},O={},K="";try{const z=te.split(".");J=on(S(z[0])||""),ee=on(S(z[1])||""),K=z[2],O=ee.d||{},delete ee.d}catch{}return{header:J,claims:ee,data:O,signature:K}},Lt=function(te){const ee=Te(te).claims;return!!ee&&"object"==typeof ee&&ee.hasOwnProperty("iat")},Mt=function(te){const J=Te(te).claims;return"object"==typeof J&&!0===J.admin};function zt(te,J){return Object.prototype.hasOwnProperty.call(te,J)}function Ye(te,J){if(Object.prototype.hasOwnProperty.call(te,J))return te[J]}function et(te){for(const J in te)if(Object.prototype.hasOwnProperty.call(te,J))return!1;return!0}function rt(te,J,ee){const O={};for(const K in te)Object.prototype.hasOwnProperty.call(te,K)&&(O[K]=J.call(ee,te[K],K,te));return O}function Dt(te,J){if(te===J)return!0;const ee=Object.keys(te),O=Object.keys(J);for(const K of ee){if(!O.includes(K))return!1;const z=te[K],fe=J[K];if(Nt(z)&&Nt(fe)){if(!Dt(z,fe))return!1}else if(z!==fe)return!1}for(const K of O)if(!ee.includes(K))return!1;return!0}function Nt(te){return null!==te&&"object"==typeof te}function Mn(te){const J=[];for(const[ee,O]of Object.entries(te))Array.isArray(O)?O.forEach(K=>{J.push(encodeURIComponent(ee)+"="+encodeURIComponent(K))}):J.push(encodeURIComponent(ee)+"="+encodeURIComponent(O));return J.length?"&"+J.join("&"):""}function Pn(te){const J={};return te.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[K,z]=O.split("=");J[decodeURIComponent(K)]=decodeURIComponent(z)}}),J}function Fn(te){const J=te.indexOf("?");if(!J)return"";const ee=te.indexOf("#",J);return te.substring(J,ee>0?ee:void 0)}class Bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,ee){ee||(ee=0);const O=this.W_;if("string"==typeof J)for(let At=0;At<16;At++)O[At]=J.charCodeAt(ee)<<24|J.charCodeAt(ee+1)<<16|J.charCodeAt(ee+2)<<8|J.charCodeAt(ee+3),ee+=4;else for(let At=0;At<16;At++)O[At]=J[ee]<<24|J[ee+1]<<16|J[ee+2]<<8|J[ee+3],ee+=4;for(let At=16;At<80;At++){const ut=O[At-3]^O[At-8]^O[At-14]^O[At-16];O[At]=4294967295&(ut<<1|ut>>>31)}let cn,mn,K=this.chain_[0],z=this.chain_[1],fe=this.chain_[2],je=this.chain_[3],Ft=this.chain_[4];for(let At=0;At<80;At++){At<40?At<20?(cn=je^z&(fe^je),mn=1518500249):(cn=z^fe^je,mn=1859775393):At<60?(cn=z&fe|je&(z|fe),mn=2400959708):(cn=z^fe^je,mn=3395469782);const ut=(K<<5|K>>>27)+cn+Ft+mn+O[At]&4294967295;Ft=je,je=fe,fe=4294967295&(z<<30|z>>>2),z=K,K=ut}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+z&4294967295,this.chain_[2]=this.chain_[2]+fe&4294967295,this.chain_[3]=this.chain_[3]+je&4294967295,this.chain_[4]=this.chain_[4]+Ft&4294967295}update(J,ee){if(null==J)return;void 0===ee&&(ee=J.length);const O=ee-this.blockSize;let K=0;const z=this.buf_;let fe=this.inbuf_;for(;K<ee;){if(0===fe)for(;K<=O;)this.compress_(J,K),K+=this.blockSize;if("string"==typeof J){for(;K<ee;)if(z[fe]=J.charCodeAt(K),++fe,++K,fe===this.blockSize){this.compress_(z),fe=0;break}}else for(;K<ee;)if(z[fe]=J[K],++fe,++K,fe===this.blockSize){this.compress_(z),fe=0;break}}this.inbuf_=fe,this.total_+=ee}digest(){const J=[];let ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&ee,ee/=256;this.compress_(this.buf_);let O=0;for(let K=0;K<5;K++)for(let z=24;z>=0;z-=8)J[O]=this.chain_[K]>>z&255,++O;return J}}function En(te,J){const ee=new Jt(te,J);return ee.subscribe.bind(ee)}class Jt{constructor(J,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{J(this)}).catch(O=>{this.error(O)})}next(J){this.forEachObserver(ee=>{ee.next(J)})}error(J){this.forEachObserver(ee=>{ee.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,ee,O){let K;if(void 0===J&&void 0===ee&&void 0===O)throw new Error("Missing Observer.");K=function ge(te,J){if("object"!=typeof te||null===te)return!1;for(const ee of J)if(ee in te&&"function"==typeof te[ee])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:ee,complete:O},void 0===K.next&&(K.next=P),void 0===K.error&&(K.error=P),void 0===K.complete&&(K.complete=P);const z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),z}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,J)}sendOne(J,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{ee(this.observers[J])}catch(O){typeof console<"u"&&console.error&&console.error(O)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P(){}const $=function(te,J,ee,O){let K;if(O<J?K="at least "+J:O>ee&&(K=0===ee?"none":"no more than "+ee),K)throw new Error(te+" failed: Was called with "+O+(1===O?" argument.":" arguments.")+" Expects "+K+".")};function De(te,J){return`${te} failed: ${J} argument `}function Ge(te,J,ee,O){if((!O||ee)&&"function"!=typeof ee)throw new Error(De(te,J)+"must be a valid function.")}function Pe(te,J,ee,O){if((!O||ee)&&("object"!=typeof ee||null===ee))throw new Error(De(te,J)+"must be a valid context object.")}const Fe=function(te){const J=[];let ee=0;for(let O=0;O<te.length;O++){let K=te.charCodeAt(O);if(K>=55296&&K<=56319){const z=K-55296;O++,y(O<te.length,"Surrogate pair missing trail surrogate."),K=65536+(z<<10)+(te.charCodeAt(O)-56320)}K<128?J[ee++]=K:K<2048?(J[ee++]=K>>6|192,J[ee++]=63&K|128):K<65536?(J[ee++]=K>>12|224,J[ee++]=K>>6&63|128,J[ee++]=63&K|128):(J[ee++]=K>>18|240,J[ee++]=K>>12&63|128,J[ee++]=K>>6&63|128,J[ee++]=63&K|128)}return J},xt=function(te){let J=0;for(let ee=0;ee<te.length;ee++){const O=te.charCodeAt(ee);O<128?J++:O<2048?J+=2:O>=55296&&O<=56319?(J+=4,ee++):J+=3}return J};function Vt(te,J=1e3,ee=2){const O=J*Math.pow(ee,te),K=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+K)}function gt(te){return te&&te._delegate?te._delegate:te}},6804:(ln,ht,w)=>{w.d(ht,{n:()=>y});class c{constructor(F,de,Be=[],Ke=0,Re){this.uid=F,this.gameName=de,this.highscore=Ke,this.history=Be,Re&&this.addScore(Re)}addScore(F){this.history.push(F),F.score>this.highscore&&(this.highscore=F.score)}static objToGameScores(F){let de=[];return F.forEach(Be=>{de.push(new c(Be.uid,Be.gameName,Be.history,Be.highscore))}),de}}class y{constructor(F,de,Be,Ke,Re,S=!1,ne=[],me){this.uid=me,this.email=F,this.displayName=de,this.photoURL=Be,this.emailVerified=Ke,this.metadata=Re,this.isAdmin=S,this.gameScores=ne}highScoreByGame(F){let de=this.gameScores.find(Be=>Be.gameName==F);if(null!=de)return de.highscore}addScore(F,de){let Be=this.gameScores.find(Ke=>Ke.gameName==F);null!=Be?Be.addScore(de):this.gameScores.push(new c(this.uid,F,[],void 0,de))}static objToCustomUser(F){return new y(F.email,F.displayName,F.photoURL,F.emailVerified,{creationTime:F.metadata.creationTime,lastSignInTime:F.metadata.lastSignInTime},F.isAdmin,F.gameScores?c.objToGameScores(F.gameScores):[],F.uid)}}},6745:(ln,ht,w)=>{w.d(ht,{h:()=>Mo});var c=w(6895),y=w(8184),F=(w(5017),w(7579)),S=(w(1135),w(5191),w(9646),w(2722),w(4650));w(1281),w(445);let jt=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({}),H})();var sn=w(4080),Bt=(w(3353),w(3238)),Mt=(w(727),w(9770),w(6451),w(4968),w(531)),zt=w(9521),et=(w(4006),w(9549));w(8675),w(3900),w(5698),w(9300),w(4004),w(8505),w(1005);const Pt={provide:new S.OlP("mat-autocomplete-scroll-strategy"),deps:[y.aV],useFactory:function St(H){return()=>H.scrollStrategies.reposition()}};let ce=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({providers:[Pt],imports:[y.U8,Bt.Ng,Bt.BQ,c.ez,Mt.ZD,Bt.Ng,Bt.BQ]}),H})();var lt=w(4859),gt=w(2687);let mn=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[Bt.BQ,Bt.si,Bt.BQ]}),H})();var At=w(3546),ut=w(9643);let pe=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({}),H})(),wt=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[Bt.si,Bt.BQ,ut.Q8,pe,Bt.BQ,pe]}),H})();const Ki=new S.OlP("mat-chips-default-options");let or=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({providers:[Bt.rD,{provide:Ki,useValue:{separatorKeyCodes:[zt.K5]}}],imports:[Bt.BQ]}),H})(),Ds=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[Bt.BQ,Bt.BQ]}),H})(),ms=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({}),H})();w(7340);let wo=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[c.ez,Bt.BQ,ms,sn.eL]}),H})();var io=w(7392),Ys=w(284);let _s=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[Bt.uc,Bt.si,Bt.BQ,Bt.us,c.ez,Bt.uc,Bt.BQ,Bt.us,Ds]}),H})();var $i=w(8255),di=w(8739),lo=w(1572),pa=w(4385);let ma=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[c.ez,Bt.BQ,Mt.ZD,Mt.ZD,Bt.BQ]}),H})(),as=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[y.U8,sn.eL,c.ez,lt.ot,Bt.BQ,Bt.BQ]}),H})(),mr=(()=>{class H{constructor(){this.changes=new F.x}}return H.\u0275fac=function(h){return new(h||H)},H.\u0275prov=S.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const Pr={provide:mr,deps:[[new S.FiY,new S.tp0,mr]],useFactory:function ar(H){return H||new mr}};let Js=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({providers:[Pr],imports:[c.ez,Bt.BQ]}),H})();var Co=w(671);let Us=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[c.ez,Bt.BQ,sn.eL,Bt.si,ut.Q8,gt.rt,Bt.BQ]}),H})();var Hs=w(3683);let Os=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[jt,Bt.BQ,Bt.BQ]}),H})(),xr=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[gt.rt,Bt.BQ,Bt.BQ]}),H})();var cs=w(782),Ha=w(1948);let ja=(()=>{class H{constructor(){this.changes=new F.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(h,x){return`${h} \u2013 ${x}`}formatYearRangeLabel(h,x){return`${h} to ${x}`}}return H.\u0275fac=function(h){return new(h||H)},H.\u0275prov=S.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const za={provide:new S.OlP("mat-datepicker-scroll-strategy"),deps:[y.aV],useFactory:function $a(H){return()=>H.scrollStrategies.reposition()}};let jc=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({providers:[ja,za],imports:[c.ez,lt.ot,y.U8,gt.rt,sn.eL,Bt.BQ,Mt.ZD]}),H})();var tc=w(266);const wa=[jt,ce,lt.ot,At.QW,wt,or,Ds,wo,io.Ps,Ys.c,_s,$i.Tx,lo.Cq,di.TU,Bt.si,pa.LD,ma,as,Js,Co.p0,Us,Hs.g0,et.lN,mn,Os,y.U8,sn.eL,xr,cs.N6,Ha.Fk,jc,tc.AV];let Mo=(()=>{class H{}return H.\u0275fac=function(h){return new(h||H)},H.\u0275mod=S.oAB({type:H}),H.\u0275inj=S.cJS({imports:[c.ez,wa,jt,ce,lt.ot,At.QW,wt,or,Ds,wo,io.Ps,Ys.c,_s,$i.Tx,lo.Cq,di.TU,Bt.si,pa.LD,ma,as,Js,Co.p0,Us,Hs.g0,et.lN,mn,Os,y.U8,sn.eL,xr,cs.N6,Ha.Fk,jc,tc.AV]}),H})()},1251:(ln,ht,w)=>{w.d(ht,{e:()=>he});var c=w(6804),y=w(7143),Ke=(w(2090),w(9681),w(1877),w(3475),w(1135)),Re=w(4650),S=w(7407),ne=w(1205),me=w(6806);let he=(()=>{class He{constructor(Me,ze,Se,Ee,be){this.afs=Me,this.afAuth=ze,this.router=Se,this.ngZone=Ee,this._db=be,this.currentUser2=new Ke.X(new c.n("","user","",!1,{creationTime:"",lastSignInTime:""},!1,[])),this.afAuth.authState.subscribe(dt=>{dt?(this.userData=dt,localStorage.setItem("auth",JSON.stringify(dt)),this._db.collection("users").doc(dt.uid).get().subscribe(tt=>{localStorage.setItem("user",JSON.stringify(tt.data())),this.currentUser=c.n.objToCustomUser(tt.data()),this.setCurrentUser(this.currentUser)})):(localStorage.setItem("auth","null"),localStorage.setItem("user","null"))})}getCurrentUser(){return this.currentUser2.asObservable()}setCurrentUser(Me){this.currentUser2.next(Me)}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("auth"))}get isAdmin(){const Me=JSON.parse(localStorage.getItem("user"));return null!==Me&&Me.isAdmin}SignIn(Me,ze){return this.afAuth.signInWithEmailAndPassword(Me,ze)}SignUp(Me,ze,Se){return this.afAuth.createUserWithEmailAndPassword(Me,ze).then(Ee=>{Ee.user.updateProfile({displayName:Se}).then(()=>{this.SetUserData(Ee.user),this.router.navigate(["users/home"])})})}SetUserData(Me,ze){return console.log("SET USER DATA"),this.afs.doc(`users/${Me.uid}`).set(JSON.parse(JSON.stringify(this.fireUserToCustomUser(Me))),{merge:!0})}fireUserToCustomUser(Me){return{email:Me.email,displayName:Me.displayName,photoURL:Me.photoURL,emailVerified:Me.emailVerified,metadata:{creationTime:Me.metadata.creationTime,lastSignInTime:Me.metadata.lastSignInTime},isAdmin:!1,gameScores:[],uid:Me.uid}}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("auth"),this.router.navigate(["public/login"])})}GoogleAuth(){return this.AuthLogin(new y.Q)}AuthLogin(Me){return this.afAuth.signInWithPopup(Me).then(ze=>{this.router.navigate(["users"]),this.SetUserData(ze.user)}).catch(ze=>{window.alert(ze)})}addGameResult(Me,ze){console.log(Me),this.currentUser.addScore(ze,Me),this._db.collection("users").doc(this.currentUser.uid).set(JSON.parse(JSON.stringify(this.currentUser)),{merge:!0}),this.setCurrentUser(this.currentUser)}getUsers(){return this._db.collection("users").valueChanges()}}return He.\u0275fac=function(Me){return new(Me||He)(Re.LFG(S.ST),Re.LFG(ne.zQ),Re.LFG(me.F0),Re.LFG(Re.R0b),Re.LFG(S.ST))},He.\u0275prov=Re.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})()},2557:(ln,ht,w)=>{var c=w(1481),y=w(4650),b=w(6806),F=w(4859),de=w(3546),Be=w(6895),Ke=w(3238),Re=w(1281),S=w(727),ne=w(4968),me=w(9300);const he=["primaryValueBar"],He=(0,Ke.pj)(class{constructor(e){this._elementRef=e}},"primary"),We=new y.OlP("mat-progress-bar-location",{providedIn:"root",factory:function Me(){const e=(0,y.f3M)(Be.K0),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ze=new y.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Se=0,Ee=(()=>{class e extends He{constructor(n,i,a,u,f,_){super(n),this._ngZone=i,this._animationMode=a,this._changeDetectorRef=_,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new y.vpe,this._animationEndSubscription=S.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Se++;const C=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${C}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===a,f&&(f.color&&(this.color=this.defaultColor=f.color),this.mode=f.mode||this.mode)}get value(){return this._value}set value(n){this._value=be((0,Re.su)(n)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=be(n||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,ne.R)(n,"transitionend").pipe((0,me.h)(i=>i.target===n)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(y.Y36(y.SBq),y.Y36(y.R0b),y.Y36(y.QbO,8),y.Y36(We,8),y.Y36(ze,8),y.Y36(y.sBO))},e.\u0275cmp=y.Xpm({type:e,selectors:[["mat-progress-bar"]],viewQuery:function(n,i){if(1&n&&y.Gf(he,5),2&n){let a;y.iGM(a=y.CRH())&&(i._primaryValueBar=a.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,i){2&n&&(y.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),y.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[y.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,i){1&n&&(y.TgZ(0,"div",0),y.O4$(),y.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),y._UZ(4,"circle",3),y.qZA()(),y._UZ(5,"rect",4),y.qZA(),y.kcU(),y._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),y.qZA()),2&n&&(y.xp6(3),y.Q6J("id",i.progressbarId),y.xp6(2),y.uIk("fill",i._rectangleFillValue),y.xp6(1),y.Q6J("ngStyle",i._bufferTransform()),y.xp6(1),y.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Be.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),e})();function be(e,t=0,n=100){return Math.max(t,Math.min(n,e))}let dt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[Be.ez,Ke.BQ,Ke.BQ]}),e})();const Le=[{path:"",pathMatch:"full",redirectTo:"public/login"},{path:"public",loadChildren:()=>Promise.all([w.e(592),w.e(712)]).then(w.bind(w,2712)).then(e=>e.PublicModule)},{path:"users",loadChildren:()=>Promise.all([w.e(592),w.e(608)]).then(w.bind(w,1608)).then(e=>e.UsersOnlyModule)},{path:"**",pathMatch:"full",component:(()=>{class e{constructor(n){this.router=n}ngOnInit(){}redirectToHome(){this.router.navigateByUrl("")}}return e.\u0275fac=function(n){return new(n||e)(y.Y36(b.F0))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-page-not-found"]],decls:10,vars:0,consts:[[2,"text-align","center"],[2,"justify-content","center"],["mat-card-xl-image","","src","../../../assets/images/red-cross.png",2,"margin-top","50px","margin-bottom","50px"],["mode","indeterminate"],["mat-flat-button","",3,"click"]],template:function(n,i){1&n&&(y.TgZ(0,"mat-card",0)(1,"mat-card-title-group",1)(2,"mat-card-title"),y._uU(3,"Error 404: pagina no encontrada"),y.qZA()(),y.TgZ(4,"mat-card-content"),y._UZ(5,"img",2)(6,"mat-progress-bar",3),y.qZA(),y.TgZ(7,"mat-card-actions")(8,"button",4),y.NdJ("click",function(){return i.redirectToHome()}),y._uU(9,"Volver al inicio"),y.qZA()()())},dependencies:[F.lW,de.a8,de.C1,de.dn,de.n5,de.hq,de.o5,Ee]}),e})()}];let xe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[b.Bz.forRoot(Le),b.Bz]}),e})(),Ne=(()=>{class e{constructor(){this.title="GameRoomTP"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&y._UZ(0,"router-outlet")},dependencies:[b.lC]}),e})();var se=w(7340);function Qe(e){return new y.vHH(3e3,!1)}function xt(){return typeof window<"u"&&typeof window.document<"u"}function St(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pt(e){switch(e.length){case 0:return new se.ZN;case 1:return e[0];default:return new se.ZE(e)}}function gn(e,t,n,i,a=new Map,u=new Map){const f=[],_=[];let C=-1,T=null;if(i.forEach(re=>{const ve=re.get("offset"),qe=ve==C,vt=qe&&T||new Map;re.forEach((kt,tn)=>{let An=tn,Zn=kt;if("offset"!==tn)switch(An=t.normalizePropertyName(An,f),Zn){case se.k1:Zn=a.get(tn);break;case se.l3:Zn=u.get(tn);break;default:Zn=t.normalizeStyleValue(tn,An,Zn,f)}vt.set(An,Zn)}),qe||_.push(vt),T=vt,C=ve}),f.length)throw function Fn(e){return new y.vHH(3502,!1)}();return _}function Ln(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&at(n,"start",e)));break;case"done":e.onDone(()=>i(n&&at(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&at(n,"destroy",e)))}}function at(e,t,n){const u=Vt(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),f=e._data;return null!=f&&(u._data=f),u}function Vt(e,t,n,i,a="",u=0,f){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:a,totalTime:u,disabled:!!f}}function ce(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function lt(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let gt=(e,t)=>!1,te=(e,t,n)=>[],J=null;function ee(e){const t=e.parentNode||e.host;return t===J?null:t}(St()||typeof Element<"u")&&(xt()?(J=(()=>document.documentElement)(),gt=(e,t)=>{for(;t;){if(t===e)return!0;t=ee(t)}return!1}):gt=(e,t)=>e.contains(t),te=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const i=e.querySelector(t);return i?[i]:[]});let z=null,fe=!1;const mn=gt,At=te;let yt=(()=>{class e{validateStyleProperty(n){return function je(e){z||(z=function cn(){return typeof document<"u"?document.body:null}()||{},fe=!!z.style&&"WebkitAppearance"in z.style);let t=!0;return z.style&&!function K(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in z.style,!t&&fe&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in z.style)),t}(n)}matchesElement(n,i){return!1}containsElement(n,i){return mn(n,i)}getParentElement(n){return ee(n)}query(n,i,a){return At(n,i,a)}computeStyle(n,i,a){return a||""}animate(n,i,a,u,f,_=[],C){return new se.ZN(a,u)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e})(),Yt=(()=>{class e{}return e.NOOP=new yt,e})();const Xe="ng-enter",it="ng-leave",$e="ng-trigger",It=".ng-trigger",Gt="ng-animating",xn=".ng-animating";function Vn(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ii(parseFloat(t[1]),t[2])}function ii(e,t){return"s"===t?1e3*e:e}function Ii(e,t,n){return e.hasOwnProperty("duration")?e:function wr(e,t,n){let a,u=0,f="";if("string"==typeof e){const _=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(Qe()),{duration:0,delay:0,easing:""};a=ii(parseFloat(_[1]),_[2]);const C=_[3];null!=C&&(u=ii(parseFloat(C),_[4]));const T=_[5];T&&(f=T)}else a=e;if(!n){let _=!1,C=t.length;a<0&&(t.push(function ae(){return new y.vHH(3100,!1)}()),_=!0),u<0&&(t.push(function ue(){return new y.vHH(3101,!1)}()),_=!0),_&&t.splice(C,0,Qe())}return{duration:a,delay:u,easing:f}}(e,t,n)}function pe(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function wt(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Ve(e,t=new Map,n){if(n)for(let[i,a]of n)t.set(i,a);for(let[i,a]of e)t.set(i,a);return t}function Ct(e,t,n){return n?t+":"+n+";":""}function un(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Ct(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Ct(0,Qi(n),e.style[n]));e.setAttribute("style",t)}function vn(e,t,n){e.style&&(t.forEach((i,a)=>{const u=Li(a);n&&!n.has(a)&&n.set(a,e.style[u]),e.style[u]=i}),St()&&un(e))}function Qn(e,t){e.style&&(t.forEach((n,i)=>{const a=Li(i);e.style[a]=""}),St()&&un(e))}function mi(e){return Array.isArray(e)?1==e.length?e[0]:(0,se.vP)(e):e}const ei=new RegExp("{{\\s*(.+?)\\s*}}","g");function qi(e){let t=[];if("string"==typeof e){let n;for(;n=ei.exec(e);)t.push(n[1]);ei.lastIndex=0}return t}function Ki(e,t,n){const i=e.toString(),a=i.replace(ei,(u,f)=>{let _=t[f];return null==_&&(n.push(function Je(e){return new y.vHH(3003,!1)}()),_=""),_.toString()});return a==i?e:a}function Kr(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const dr=/-+([a-z0-9])/g;function Li(e){return e.replace(dr,(...t)=>t[1].toUpperCase())}function Qi(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ir(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function Ht(e){return new y.vHH(3004,!1)}()}}function or(e,t){return window.getComputedStyle(e)[t]}function rn(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function Cr(e,t,n){if(":"==e[0]){const C=function is(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(function Nt(e){return new y.vHH(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof C)return void t.push(C);e=C}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function Dt(e){return new y.vHH(3015,!1)}()),t;const a=i[1],u=i[2],f=i[3];t.push(Zt(a,f));"<"==u[0]&&!("*"==a&&"*"==f)&&t.push(Zt(f,a))}(i,n,t)):n.push(e),n}const Ot=new Set(["true","1"]),Tt=new Set(["false","0"]);function Zt(e,t){const n=Ot.has(e)||Tt.has(e),i=Ot.has(t)||Tt.has(t);return(a,u)=>{let f="*"==e||e==a,_="*"==t||t==u;return!f&&n&&"boolean"==typeof a&&(f=a?Ot.has(e):Tt.has(e)),!_&&i&&"boolean"==typeof u&&(_=u?Ot.has(t):Tt.has(t)),f&&_}}const Rn=new RegExp("s*:selfs*,?","g");function Nn(e,t,n,i){return new Dr(e).build(t,n,i)}class Dr{constructor(t){this._driver=t}build(t,n,i){const a=new Zr(n);return this._resetContextStyleTimingState(a),Ir(this,mi(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,a=n.depCount=0;const u=[],f=[];return"@"==t.name.charAt(0)&&n.errors.push(function sn(){return new y.vHH(3006,!1)}()),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(n),0==_.type){const C=_,T=C.name;T.toString().split(/\s*,\s*/).forEach(re=>{C.name=re,u.push(this.visitState(C,n))}),C.name=T}else if(1==_.type){const C=this.visitTransition(_,n);i+=C.queryCount,a+=C.depCount,f.push(C)}else n.errors.push(function on(){return new y.vHH(3007,!1)}())}),{type:7,name:t.name,states:u,transitions:f,queryCount:i,depCount:a,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),a=t.options&&t.options.params||null;if(i.containsDynamicStyles){const u=new Set,f=a||{};i.styles.forEach(_=>{_ instanceof Map&&_.forEach(C=>{qi(C).forEach(T=>{f.hasOwnProperty(T)||u.add(T)})})}),u.size&&(Kr(u.values()),n.errors.push(function Bt(e,t){return new y.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:a?{params:a}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=Ir(this,mi(t.animation),n);return{type:1,matchers:rn(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Or(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>Ir(this,i,n)),options:Or(t.options)}}visitGroup(t,n){const i=n.currentTime;let a=0;const u=t.steps.map(f=>{n.currentTime=i;const _=Ir(this,f,n);return a=Math.max(a,n.currentTime),_});return n.currentTime=a,{type:3,steps:u,options:Or(t.options)}}visitAnimate(t,n){const i=function Xo(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return zs(Ii(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=zs(0,0,"");return u.dynamic=!0,u.strValue=n,u}const a=Ii(n,t);return zs(a.duration,a.delay,a.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let a,u=t.styles?t.styles:(0,se.oB)({});if(5==u.type)a=this.visitKeyframes(u,n);else{let f=t.styles,_=!1;if(!f){_=!0;const T={};i.easing&&(T.easing=i.easing),f=(0,se.oB)(T)}n.currentTime+=i.duration+i.delay;const C=this.visitStyle(f,n);C.isEmptyStep=_,a=C}return n.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let _ of a)"string"==typeof _?_===se.l3?i.push(_):n.errors.push(new y.vHH(3002,!1)):i.push(wt(_));let u=!1,f=null;return i.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(f=_.get("easing"),_.delete("easing")),!u))for(let C of _.values())if(C.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:i,easing:f,offset:t.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let a=n.currentTime,u=n.currentTime;i&&u>0&&(u-=i.duration+i.delay),t.styles.forEach(f=>{"string"!=typeof f&&f.forEach((_,C)=>{const T=n.collectedStyles.get(n.currentQuerySelector),re=T.get(C);let ve=!0;re&&(u!=a&&u>=re.startTime&&a<=re.endTime&&(n.errors.push(function pt(e,t,n,i,a){return new y.vHH(3010,!1)}()),ve=!1),u=re.startTime),ve&&T.set(C,{startTime:u,endTime:a}),n.options&&function Ci(e,t,n){const i=t.params||{},a=qi(e);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||n.push(function Ce(e){return new y.vHH(3001,!1)}())})}(_,n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Lt(){return new y.vHH(3011,!1)}()),i;let u=0;const f=[];let _=!1,C=!1,T=0;const re=t.steps.map(Zn=>{const Xn=this._makeStyleAst(Zn,n);let oi=null!=Xn.offset?Xn.offset:function rs(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(Xn.styles),Jn=0;return null!=oi&&(u++,Jn=Xn.offset=oi),C=C||Jn<0||Jn>1,_=_||Jn<T,T=Jn,f.push(Jn),Xn});C&&n.errors.push(function Mt(){return new y.vHH(3012,!1)}()),_&&n.errors.push(function zt(){return new y.vHH(3200,!1)}());const ve=t.steps.length;let qe=0;u>0&&u<ve?n.errors.push(function Ye(){return new y.vHH(3202,!1)}()):0==u&&(qe=1/(ve-1));const vt=ve-1,kt=n.currentTime,tn=n.currentAnimateTimings,An=tn.duration;return re.forEach((Zn,Xn)=>{const oi=qe>0?Xn==vt?1:qe*Xn:f[Xn],Jn=oi*An;n.currentTime=kt+tn.delay+Jn,tn.duration=Jn,this._validateStyleAst(Zn,n),Zn.offset=oi,i.styles.push(Zn)}),i}visitReference(t,n){return{type:8,animation:Ir(this,mi(t.animation),n),options:Or(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Or(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Or(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,a=t.options||{};n.queryCount++,n.currentQuery=t;const[u,f]=function Ni(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(Rn,"")),e=e.replace(/@\*/g,It).replace(/@\w+/g,n=>It+"-"+n.slice(1)).replace(/:animating/g,xn),[e,t]}(t.selector);n.currentQuerySelector=i.length?i+" "+u:u,ce(n.collectedStyles,n.currentQuerySelector,new Map);const _=Ir(this,mi(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:f,animation:_,originalSelector:t.selector,options:Or(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function et(){return new y.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ii(t.timings,n.errors,!0);return{type:12,animation:Ir(this,mi(t.animation),n),timings:i,options:null}}}class Zr{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Or(e){return e?(e=pe(e)).params&&(e.params=function Es(e){return e?pe(e):null}(e.params)):e={},e}function zs(e,t,n){return{duration:e,delay:t,easing:n}}function So(e,t,n,i,a,u,f=null,_=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:f,subTimeline:_}}class Ws{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bo=new RegExp(":enter","g"),io=new RegExp(":leave","g");function Ys(e,t,n,i,a,u=new Map,f=new Map,_,C,T=[]){return(new Ao).buildKeyframes(e,t,n,i,a,u,f,_,C,T)}class Ao{buildKeyframes(t,n,i,a,u,f,_,C,T,re=[]){T=T||new Ws;const ve=new ro(t,n,T,a,u,re,[]);ve.options=C;const qe=C.delay?Vn(C.delay):0;ve.currentTimeline.delayNextStep(qe),ve.currentTimeline.setStyles([f],null,ve.errors,C),Ir(this,i,ve);const vt=ve.timelines.filter(kt=>kt.containsAnimation());if(vt.length&&_.size){let kt;for(let tn=vt.length-1;tn>=0;tn--){const An=vt[tn];if(An.element===n){kt=An;break}}kt&&!kt.allowOnlyTimelineStyles()&&kt.setStyles([_],null,ve.errors,C)}return vt.length?vt.map(kt=>kt.buildKeyframes()):[So(n,[],[],[],0,qe,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.get(n.element);if(i){const a=n.createSubContext(t.options),u=n.currentTimeline.currentTime,f=this._visitSubInstructions(i,a,a.options);u!=f&&n.transformIntoNewTimeline(f)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_visitSubInstructions(t,n,i){let u=n.currentTimeline.currentTime;const f=null!=i.duration?Vn(i.duration):null,_=null!=i.delay?Vn(i.delay):null;return 0!==f&&t.forEach(C=>{const T=n.appendInstructionToTimeline(C,f,_);u=Math.max(u,T.duration+T.delay)}),u}visitReference(t,n){n.updateOptions(t.options,!0),Ir(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let a=n;const u=t.options;if(u&&(u.params||u.delay)&&(a=n.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=gs);const f=Vn(u.delay);a.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>Ir(this,f,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let a=n.currentTimeline.currentTime;const u=t.options&&t.options.delay?Vn(t.options.delay):0;t.steps.forEach(f=>{const _=n.createSubContext(t.options);u&&_.delayNextStep(u),Ir(this,f,_),a=Math.max(a,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(f=>n.currentTimeline.mergeTimelineCollectedStyles(f)),n.transformIntoNewTimeline(a),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return Ii(n.params?Ki(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,n):(n.incrementTime(i.duration),this.visitStyle(u,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(u):i.setStyles(t.styles,u,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,a=n.currentTimeline.duration,u=i.duration,_=n.createSubContext().currentTimeline;_.easing=i.easing,t.styles.forEach(C=>{_.forwardTime((C.offset||0)*u),_.setStyles(C.styles,C.easing,n.errors,n.options),_.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(_),n.transformIntoNewTimeline(a+u),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,a=t.options||{},u=a.delay?Vn(a.delay):0;u&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=gs);let f=i;const _=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=_.length;let C=null;_.forEach((T,re)=>{n.currentQueryIndex=re;const ve=n.createSubContext(t.options,T);u&&ve.delayNextStep(u),T===n.element&&(C=ve.currentTimeline),Ir(this,t.animation,ve),ve.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,ve.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(f),C&&(n.currentTimeline.mergeTimelineCollectedStyles(C),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,a=n.currentTimeline,u=t.timings,f=Math.abs(u.duration),_=f*(n.currentQueryTotal-1);let C=f*n.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":C=_-C;break;case"full":C=i.currentStaggerTime}const re=n.currentTimeline;C&&re.delayNextStep(C);const ve=re.currentTime;Ir(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=a.currentTime-ve+(a.startTime-i.currentTimeline.startTime)}}const gs={};class ro{constructor(t,n,i,a,u,f,_,C){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new jr(this._driver,n,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let a=this.options;null!=i.duration&&(a.duration=Vn(i.duration)),null!=i.delay&&(a.delay=Vn(i.delay));const u=i.params;if(u){let f=a.params;f||(f=this.options.params={}),Object.keys(u).forEach(_=>{(!n||!f.hasOwnProperty(_))&&(f[_]=Ki(u[_],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(a=>{i[a]=n[a]})}}return t}createSubContext(t=null,n,i){const a=n||this.element,u=new ro(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=gs,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const a={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},u=new so(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,a,u,f){let _=[];if(a&&_.push(this.element),t.length>0){t=(t=t.replace(bo,"."+this._enterClassName)).replace(io,"."+this._leaveClassName);let T=this._driver.query(this.element,t,1!=i);0!==i&&(T=i<0?T.slice(T.length+i,T.length):T.slice(0,i)),_.push(...T)}return!u&&0==_.length&&f.push(function rt(e){return new y.vHH(3014,!1)}()),_}}class jr{constructor(t,n,i,a){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new jr(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||se.l3),this._currentKeyframe.set(n,se.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,a){n&&this._previousKeyframe.set("easing",n);const u=a&&a.params||{},f=function Rs(e,t){const n=new Map;let i;return e.forEach(a=>{if("*"===a){i=i||t.keys();for(let u of i)n.set(u,se.l3)}else Ve(a,n)}),n}(t,this._globalTimelineStyles);for(let[_,C]of f){const T=Ki(C,u,i);this._pendingStyles.set(_,T),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??se.l3),this._updateStyle(_,T)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{const a=this._styleSummary.get(i);(!a||n.time>a.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,C)=>{const T=Ve(_,new Map,this._backFill);T.forEach((re,ve)=>{re===se.k1?t.add(ve):re===se.l3&&n.add(ve)}),i||T.set("offset",C/this.duration),a.push(T)});const u=t.size?Kr(t.values()):[],f=n.size?Kr(n.values()):[];if(i){const _=a[0],C=new Map(_);_.set("offset",0),C.set("offset",1),a=[_,C]}return So(this.element,a,u,f,this.duration,this.startTime,this.easing,!1)}}class so extends jr{constructor(t,n,i,a,u,f,_=!1){super(t,n,f.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const u=[],f=i+n,_=n/f,C=Ve(t[0]);C.set("offset",0),u.push(C);const T=Ve(t[0]);T.set("offset",qr(_)),u.push(T);const re=t.length-1;for(let ve=1;ve<=re;ve++){let qe=Ve(t[ve]);const vt=qe.get("offset");qe.set("offset",qr((n+vt*i)/f)),u.push(qe)}i=f,n=0,a="",t=u}return So(this.element,t,this.preStyleProps,this.postStyleProps,i,n,a,!0)}}function qr(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class oo{}const Zs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xi extends oo{normalizePropertyName(t,n){return Li(t)}normalizeStyleValue(t,n,i,a){let u="";const f=i.toString().trim();if(Zs.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(function jt(e,t){return new y.vHH(3005,!1)}())}return f+u}}function Vo(e,t,n,i,a,u,f,_,C,T,re,ve,qe){return{type:0,element:e,triggerName:t,isRemovalTransition:a,fromState:n,fromStyles:u,toState:i,toStyles:f,timelines:_,queriedElements:C,preStyleProps:T,postStyleProps:re,totalTime:ve,errors:qe}}const Ea={};class Si{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,a){return function ao(e,t,n,i,a){return e.some(u=>u(t,n,i,a))}(this.ast.matchers,t,n,i,a)}buildStyles(t,n,i){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(n,i):new Map}build(t,n,i,a,u,f,_,C,T,re){const ve=[],qe=this.ast.options&&this.ast.options.params||Ea,kt=this.buildStyles(i,_&&_.params||Ea,ve),tn=C&&C.params||Ea,An=this.buildStyles(a,tn,ve),Zn=new Set,Xn=new Map,oi=new Map,Jn="void"===a,ki={params:xs(tn,qe),delay:this.ast.options?.delay},fr=re?[]:Ys(t,n,this.ast.animation,u,f,kt,An,ki,T,ve);let $s=0;if(fr.forEach(tl=>{$s=Math.max(tl.duration+tl.delay,$s)}),ve.length)return Vo(n,this._triggerName,i,a,Jn,kt,An,[],[],Xn,oi,$s,ve);fr.forEach(tl=>{const Ku=tl.element,rv=ce(Xn,Ku,new Set);tl.preStyleProps.forEach(rp=>rv.add(rp));const hm=ce(oi,Ku,new Set);tl.postStyleProps.forEach(rp=>hm.add(rp)),Ku!==n&&Zn.add(Ku)});const Dl=Kr(Zn.values());return Vo(n,this._triggerName,i,a,Jn,kt,An,fr,Dl,Xn,oi,$s)}}function xs(e,t){const n=pe(t);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i]);return n}class qs{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i=new Map,a=pe(this.defaultParams);return Object.keys(t).forEach(u=>{const f=t[u];null!==f&&(a[u]=f)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{f&&(f=Ki(f,a,n));const C=this.normalizer.normalizePropertyName(_,n);f=this.normalizer.normalizeStyleValue(_,C,f,n),i.set(C,f)})}),i}}class fa{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(a=>{this.states.set(a.name,new qs(a.style,a.options&&a.options.params||{},i))}),ss(this.states,"true","1"),ss(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new Si(t,a,this.states))}),this.fallbackTransition=function Ns(e,t,n){return new Si(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,a){return this.transitionFactories.find(f=>f.match(t,n,i,a))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function ss(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const os=new Ws;class _s{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const i=[],u=Nn(this._driver,n,i,[]);if(i.length)throw function Bn(e){return new y.vHH(3503,!1)}();this._animations.set(t,u)}_buildPlayer(t,n,i){const a=t.element,u=gn(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const a=[],u=this._animations.get(t);let f;const _=new Map;if(u?(f=Ys(this._driver,n,u,Xe,it,new Map,new Map,i,os,a),f.forEach(re=>{const ve=ce(_,re.element,new Map);re.postStyleProps.forEach(qe=>ve.set(qe,null))})):(a.push(function En(){return new y.vHH(3300,!1)}()),f=[]),a.length)throw function Jt(e){return new y.vHH(3504,!1)}();_.forEach((re,ve)=>{re.forEach((qe,vt)=>{re.set(vt,this._driver.computeStyle(ve,vt,se.l3))})});const T=Pt(f.map(re=>{const ve=_.get(re.element);return this._buildPlayer(re,new Map,ve)}));return this._playersById.set(t,T),T.onDestroy(()=>this.destroy(t)),this.players.push(T),T}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function ot(e){return new y.vHH(3301,!1)}();return n}listen(t,n,i,a){const u=Vt(n,"","","");return Ln(this._getPlayer(t),i,u,a),()=>{}}command(t,n,i,a){if("register"==i)return void this.register(t,a[0]);if("create"==i)return void this.create(t,n,a[0]||{});const u=this._getPlayer(t);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const $i="ng-animate-queued",lo="ng-animate-disabled",Xs=[],Ms={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class fn{constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function V(e){return e??null}(i?t.value:t),i){const u=pe(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(a=>{null==i[a]&&(i[a]=n[a])})}}}const hi="void",Ma=new fn(hi);class Jo{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hr(n,this._hostClassName)}listen(t,n,i,a){if(!this._triggers.has(n))throw function ge(e,t){return new y.vHH(3302,!1)}();if(null==i||0==i.length)throw function P(e){return new y.vHH(3303,!1)}();if(!function Xt(e){return"start"==e||"done"==e}(i))throw function $(e,t){return new y.vHH(3400,!1)}();const u=ce(this._elementListeners,t,[]),f={name:n,phase:i,callback:a};u.push(f);const _=ce(this._engine.statesByElement,t,new Map);return _.has(n)||(hr(t,$e),hr(t,$e+"-"+n),_.set(n,Ma)),()=>{this._engine.afterFlush(()=>{const C=u.indexOf(f);C>=0&&u.splice(C,1),this._triggers.has(n)||_.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function De(e){return new y.vHH(3401,!1)}();return n}trigger(t,n,i,a=!0){const u=this._getTrigger(n),f=new X(this.id,n,t);let _=this._engine.statesByElement.get(t);_||(hr(t,$e),hr(t,$e+"-"+n),this._engine.statesByElement.set(t,_=new Map));let C=_.get(n);const T=new fn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&C&&T.absorbOptions(C.options),_.set(n,T),C||(C=Ma),T.value!==hi&&C.value===T.value){if(!function To(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let a=0;a<n.length;a++){const u=n[a];if(!t.hasOwnProperty(u)||e[u]!==t[u])return!1}return!0}(C.params,T.params)){const tn=[],An=u.matchStyles(C.value,C.params,tn),Zn=u.matchStyles(T.value,T.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{Qn(t,An),vn(t,Zn)})}return}const qe=ce(this._engine.playersByElement,t,[]);qe.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==n&&tn.queued&&tn.destroy()});let vt=u.matchTransition(C.value,T.value,t,T.params),kt=!1;if(!vt){if(!a)return;vt=u.fallbackTransition,kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:vt,fromState:C,toState:T,player:f,isFallbackTransition:kt}),kt||(hr(t,$i),f.onStart(()=>{Zi(t,$i)})),f.onDone(()=>{let tn=this.players.indexOf(f);tn>=0&&this.players.splice(tn,1);const An=this._engine.playersByElement.get(t);if(An){let Zn=An.indexOf(f);Zn>=0&&An.splice(Zn,1)}}),this.players.push(f),qe.push(f),f}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,It,!0);i.forEach(a=>{if(a[Xr])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(f=>f.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,n,i,a){const u=this._engine.statesByElement.get(t),f=new Map;if(u){const _=[];if(u.forEach((C,T)=>{if(f.set(T,C.value),this._triggers.has(T)){const re=this.trigger(t,T,hi,a);re&&_.push(re)}}),_.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,f),i&&Pt(_).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const a=new Set;n.forEach(u=>{const f=u.name;if(a.has(f))return;a.add(f);const C=this._triggers.get(f).fallbackTransition,T=i.get(f)||Ma,re=new fn(hi),ve=new X(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:C,fromState:T,toState:re,player:ve,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let f=t;for(;f=f.parentNode;)if(i.statesByElement.get(f)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,n);else{const u=t[Xr];(!u||u===Ms)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){hr(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,f=this._elementListeners.get(u);f&&f.forEach(_=>{if(_.name==i.triggerName){const C=Vt(u,i.triggerName,i.fromState.value,i.toState.value);C._data=t,Ln(i.player,_.phase,C,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(i)}),this._queue=[],n.sort((i,a)=>{const u=i.transition.ast.depCount,f=a.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class Ur{constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new Jo(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let f=!1,_=this.driver.getParentElement(n);for(;_;){const C=a.get(_);if(C){const T=i.indexOf(C);i.splice(T+1,0,t),f=!0;break}_=this.driver.getParentElement(_)}f||i.unshift(t)}else i.push(t);return a.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let a=this._namespaceLookup[t];a&&a.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i)for(let a of i.values())if(a.namespaceId){const u=this._fetchNamespace(a.namespaceId);u&&n.add(u)}return n}trigger(t,n,i,a){if(ke(n)){const u=this._fetchNamespace(t);if(u)return u.trigger(n,i,a),!0}return!1}insertNode(t,n,i,a){if(!ke(n))return;const u=n[Xr];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(n);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(n,i)}a&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hr(t,lo)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zi(t,lo))}removeNode(t,n,i,a){if(ke(n)){const u=t?this._fetchNamespace(t):null;if(u?u.removeNode(n,a):this.markElementAsRemoved(t,n,!1,a),i){const f=this.namespacesByHostElement.get(n);f&&f.id!==t&&f.removeNode(n,a)}}else this._onRemovalComplete(n,a)}markElementAsRemoved(t,n,i,a,u){this.collectedLeaveElements.push(n),n[Xr]={namespaceId:t,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,n,i,a,u){return ke(n)?this._fetchNamespace(t).listen(n,i,a,u):()=>{}}_buildInstruction(t,n,i,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,a,t.fromState.options,t.toState.options,n,u)}destroyInnerAnimations(t){let n=this.driver.query(t,It,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,xn,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[Xr];if(n&&n.setForRemoval){if(t[Xr]=Ms,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(lo)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)hr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Pt(n).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(t){throw function mt(e){return new y.vHH(3402,!1)}()}_flushAnimations(t,n){const i=new Ws,a=[],u=new Map,f=[],_=new Map,C=new Map,T=new Map,re=new Set;this.disabledNodes.forEach(li=>{re.add(li);const vi=this.driver.query(li,".ng-animate-queued",!0);for(let xi=0;xi<vi.length;xi++)re.add(vi[xi])});const ve=this.bodyNode,qe=Array.from(this.statesByElement.keys()),vt=Is(qe,this.collectedEnterElements),kt=new Map;let tn=0;vt.forEach((li,vi)=>{const xi=Xe+tn++;kt.set(vi,xi),li.forEach(Tr=>hr(Tr,xi))});const An=[],Zn=new Set,Xn=new Set;for(let li=0;li<this.collectedLeaveElements.length;li++){const vi=this.collectedLeaveElements[li],xi=vi[Xr];xi&&xi.setForRemoval&&(An.push(vi),Zn.add(vi),xi.hasAnimation?this.driver.query(vi,".ng-star-inserted",!0).forEach(Tr=>Zn.add(Tr)):Xn.add(vi))}const oi=new Map,Jn=Is(qe,Array.from(Zn));Jn.forEach((li,vi)=>{const xi=it+tn++;oi.set(vi,xi),li.forEach(Tr=>hr(Tr,xi))}),t.push(()=>{vt.forEach((li,vi)=>{const xi=kt.get(vi);li.forEach(Tr=>Zi(Tr,xi))}),Jn.forEach((li,vi)=>{const xi=oi.get(vi);li.forEach(Tr=>Zi(Tr,xi))}),An.forEach(li=>{this.processLeaveNode(li)})});const ki=[],fr=[];for(let li=this._namespaceList.length-1;li>=0;li--)this._namespaceList[li].drainQueuedTransitions(n).forEach(xi=>{const Tr=xi.player,da=xi.element;if(ki.push(Tr),this.collectedEnterElements.length){const El=da[Xr];if(El&&El.setForMove){if(El.previousTriggersValues&&El.previousTriggersValues.has(xi.triggerName)){const mm=El.previousTriggersValues.get(xi.triggerName),yu=this.statesByElement.get(xi.element);if(yu&&yu.has(xi.triggerName)){const e_=yu.get(xi.triggerName);e_.value=mm,yu.set(xi.triggerName,e_)}}return void Tr.destroy()}}const _u=!ve||!this.driver.containsElement(ve,da),pc=oi.get(da),Bd=kt.get(da),yo=this._buildInstruction(xi,i,Bd,pc,_u);if(yo.errors&&yo.errors.length)return void fr.push(yo);if(_u)return Tr.onStart(()=>Qn(da,yo.fromStyles)),Tr.onDestroy(()=>vn(da,yo.toStyles)),void a.push(Tr);if(xi.isFallbackTransition)return Tr.onStart(()=>Qn(da,yo.fromStyles)),Tr.onDestroy(()=>vn(da,yo.toStyles)),void a.push(Tr);const Dv=[];yo.timelines.forEach(El=>{El.stretchStartingKeyframe=!0,this.disabledNodes.has(El.element)||Dv.push(El)}),yo.timelines=Dv,i.append(da,yo.timelines),f.push({instruction:yo,player:Tr,element:da}),yo.queriedElements.forEach(El=>ce(_,El,[]).push(Tr)),yo.preStyleProps.forEach((El,mm)=>{if(El.size){let yu=C.get(mm);yu||C.set(mm,yu=new Set),El.forEach((e_,gm)=>yu.add(gm))}}),yo.postStyleProps.forEach((El,mm)=>{let yu=T.get(mm);yu||T.set(mm,yu=new Set),El.forEach((e_,gm)=>yu.add(gm))})});if(fr.length){const li=[];fr.forEach(vi=>{li.push(function Pe(e,t){return new y.vHH(3505,!1)}())}),ki.forEach(vi=>vi.destroy()),this.reportError(li)}const $s=new Map,Dl=new Map;f.forEach(li=>{const vi=li.element;i.has(vi)&&(Dl.set(vi,vi),this._beforeAnimationBuild(li.player.namespaceId,li.instruction,$s))}),a.forEach(li=>{const vi=li.element;this._getPreviousPlayers(vi,!1,li.namespaceId,li.triggerName,null).forEach(Tr=>{ce($s,vi,[]).push(Tr),Tr.destroy()})});const tl=An.filter(li=>xl(li,C,T)),Ku=new Map;Ji(Ku,this.driver,Xn,T,se.l3).forEach(li=>{xl(li,C,T)&&tl.push(li)});const hm=new Map;vt.forEach((li,vi)=>{Ji(hm,this.driver,new Set(li),C,se.k1)}),tl.forEach(li=>{const vi=Ku.get(li),xi=hm.get(li);Ku.set(li,new Map([...Array.from(vi?.entries()??[]),...Array.from(xi?.entries()??[])]))});const rp=[],fm=[],pm={};f.forEach(li=>{const{element:vi,player:xi,instruction:Tr}=li;if(i.has(vi)){if(re.has(vi))return xi.onDestroy(()=>vn(vi,Tr.toStyles)),xi.disabled=!0,xi.overrideTotalTime(Tr.totalTime),void a.push(xi);let da=pm;if(Dl.size>1){let pc=vi;const Bd=[];for(;pc=pc.parentNode;){const yo=Dl.get(pc);if(yo){da=yo;break}Bd.push(pc)}Bd.forEach(yo=>Dl.set(yo,da))}const _u=this._buildAnimation(xi.namespaceId,Tr,$s,u,hm,Ku);if(xi.setRealPlayer(_u),da===pm)rp.push(xi);else{const pc=this.playersByElement.get(da);pc&&pc.length&&(xi.parentPlayer=Pt(pc)),a.push(xi)}}else Qn(vi,Tr.fromStyles),xi.onDestroy(()=>vn(vi,Tr.toStyles)),fm.push(xi),re.has(vi)&&a.push(xi)}),fm.forEach(li=>{const vi=u.get(li.element);if(vi&&vi.length){const xi=Pt(vi);li.setRealPlayer(xi)}}),a.forEach(li=>{li.parentPlayer?li.syncPlayerEvents(li.parentPlayer):li.destroy()});for(let li=0;li<An.length;li++){const vi=An[li],xi=vi[Xr];if(Zi(vi,it),xi&&xi.hasAnimation)continue;let Tr=[];if(_.size){let _u=_.get(vi);_u&&_u.length&&Tr.push(..._u);let pc=this.driver.query(vi,xn,!0);for(let Bd=0;Bd<pc.length;Bd++){let yo=_.get(pc[Bd]);yo&&yo.length&&Tr.push(...yo)}}const da=Tr.filter(_u=>!_u.destroyed);da.length?Bs(this,vi,da):this.processLeaveNode(vi)}return An.length=0,rp.forEach(li=>{this.players.push(li),li.onDone(()=>{li.destroy();const vi=this.players.indexOf(li);this.players.splice(vi,1)}),li.play()}),rp}elementContainsData(t,n){let i=!1;const a=n[Xr];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,a,u){let f=[];if(n){const _=this.playersByQueriedElement.get(t);_&&(f=_)}else{const _=this.playersByElement.get(t);if(_){const C=!u||u==hi;_.forEach(T=>{T.queued||!C&&T.triggerName!=a||f.push(T)})}}return(i||a)&&(f=f.filter(_=>!(i&&i!=_.namespaceId||a&&a!=_.triggerName))),f}_beforeAnimationBuild(t,n,i){const u=n.element,f=n.isRemovalTransition?void 0:t,_=n.isRemovalTransition?void 0:n.triggerName;for(const C of n.timelines){const T=C.element,re=T!==u,ve=ce(i,T,[]);this._getPreviousPlayers(T,re,f,_,n.toState).forEach(vt=>{const kt=vt.getRealPlayer();kt.beforeDestroy&&kt.beforeDestroy(),vt.destroy(),ve.push(vt)})}Qn(u,n.fromStyles)}_buildAnimation(t,n,i,a,u,f){const _=n.triggerName,C=n.element,T=[],re=new Set,ve=new Set,qe=n.timelines.map(kt=>{const tn=kt.element;re.add(tn);const An=tn[Xr];if(An&&An.removedBeforeQueried)return new se.ZN(kt.duration,kt.delay);const Zn=tn!==C,Xn=function ma(e){const t=[];return pr(e,t),t}((i.get(tn)||Xs).map($s=>$s.getRealPlayer())).filter($s=>!!$s.element&&$s.element===tn),oi=u.get(tn),Jn=f.get(tn),ki=gn(0,this._normalizer,0,kt.keyframes,oi,Jn),fr=this._buildPlayer(kt,ki,Xn);if(kt.subTimeline&&a&&ve.add(tn),Zn){const $s=new X(t,_,tn);$s.setRealPlayer(fr),T.push($s)}return fr});T.forEach(kt=>{ce(this.playersByQueriedElement,kt.element,[]).push(kt),kt.onDone(()=>function Y(e,t,n){let i=e.get(t);if(i){if(i.length){const a=i.indexOf(n);i.splice(a,1)}0==i.length&&e.delete(t)}return i}(this.playersByQueriedElement,kt.element,kt))}),re.forEach(kt=>hr(kt,Gt));const vt=Pt(qe);return vt.onDestroy(()=>{re.forEach(kt=>Zi(kt,Gt)),vn(C,n.toStyles)}),ve.forEach(kt=>{ce(a,kt,[]).push(vt)}),vt}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new se.ZN(t.duration,t.delay)}}class X{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new se.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(a=>Ln(t,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){ce(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function ke(e){return e&&1===e.nodeType}function Yn(e,t){const n=e.style.display;return e.style.display=t??"none",n}function Ji(e,t,n,i,a){const u=[];n.forEach(C=>u.push(Yn(C)));const f=[];i.forEach((C,T)=>{const re=new Map;C.forEach(ve=>{const qe=t.computeStyle(T,ve,a);re.set(ve,qe),(!qe||0==qe.length)&&(T[Xr]=xa,f.push(T))}),e.set(T,re)});let _=0;return n.forEach(C=>Yn(C,u[_++])),f}function Is(e,t){const n=new Map;if(e.forEach(_=>n.set(_,[])),0==t.length)return n;const a=new Set(t),u=new Map;function f(_){if(!_)return 1;let C=u.get(_);if(C)return C;const T=_.parentNode;return C=n.has(T)?T:a.has(T)?1:f(T),u.set(_,C),C}return t.forEach(_=>{const C=f(_);1!==C&&n.get(C).push(_)}),n}function hr(e,t){e.classList?.add(t)}function Zi(e,t){e.classList?.remove(t)}function Bs(e,t,n){Pt(n).onDone(()=>e.processLeaveNode(t))}function pr(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof se.ZE?pr(i.players,t):t.push(i)}}function xl(e,t,n){const i=n.get(e);if(!i)return!1;let a=t.get(e);return a?i.forEach(u=>a.add(u)):t.set(e,i),n.delete(e),!0}class ga{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new Ur(t,n,i),this._timelineEngine=new _s(t,n,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,n,i,a,u){const f=t+"-"+a;let _=this._triggerCache[f];if(!_){const C=[],re=Nn(this._driver,u,C,[]);if(C.length)throw function Pn(e,t){return new y.vHH(3404,!1)}();_=function Ai(e,t,n){return new fa(e,t,n)}(a,re,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(n,a,_)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,a){this._transitionEngine.insertNode(t,n,i,a)}onRemove(t,n,i,a){this._transitionEngine.removeNode(t,n,a||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,a){if("@"==i.charAt(0)){const[u,f]=lt(i);this._timelineEngine.command(u,n,f,a)}else this._transitionEngine.trigger(t,n,i,a)}listen(t,n,i,a,u){if("@"==i.charAt(0)){const[f,_]=lt(i);return this._timelineEngine.listen(f,n,_,u)}return this._transitionEngine.listen(t,n,i,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Il=(()=>{class e{constructor(n,i,a){this._element=n,this._startStyles=i,this._endStyles=a,this._state=0;let u=e.initialStylesByElement.get(n);u||e.initialStylesByElement.set(n,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vn(this._element,this._initialStyles),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Qn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qn(this._element,this._endStyles),this._endStyles=null),vn(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Uo(e){let t=null;return e.forEach((n,i)=>{(function Ia(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,n))}),t}class Ro{constructor(t,n,i,a){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&t.set(a,this._finished?i:or(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class Sa{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return mn(t,n)}getParentElement(t){return ee(t)}query(t,n,i){return At(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}animate(t,n,i,a,u,f=[]){const C={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(C.easing=u);const T=new Map,re=f.filter(vt=>vt instanceof Ro);(function ps(e,t){return 0===e||0===t})(i,a)&&re.forEach(vt=>{vt.currentSnapshot.forEach((kt,tn)=>T.set(tn,kt))});let ve=function B(e){return e.length?e[0]instanceof Map?e:e.map(t=>wt(t)):[]}(n).map(vt=>Ve(vt));ve=function wi(e,t,n){if(n.size&&t.length){let i=t[0],a=[];if(n.forEach((u,f)=>{i.has(f)||a.push(f),i.set(f,u)}),a.length)for(let u=1;u<t.length;u++){let f=t[u];a.forEach(_=>f.set(_,or(e,_)))}}return t}(t,ve,T);const qe=function Ml(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Uo(t[0]),t.length>1&&(i=Uo(t[t.length-1]))):t instanceof Map&&(n=Uo(t)),n||i?new Il(e,n,i):null}(t,ve);return new Ro(t,ve,C,qe)}}let as=(()=>{class e extends se._j{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(n)?(0,se.vP)(n):n;return rl(this._renderer,null,i,"register",[a]),new Sl(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(y.LFG(y.FYo),y.LFG(Be.K0))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e})();class Sl extends se.LC{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new ea(this._id,t,n||{},this._renderer)}}class ea{constructor(t,n,i,a){this.id=t,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return rl(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rl(e,t,n,i,a){return e.setProperty(t,`@@${n}:${i}`,a)}const Aa="@.disabled";let N=(()=>{class e{constructor(n,i,a){this.delegate=n,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,f)=>{const _=f?.parentNode(u);_&&f.removeChild(_,u)}}createRenderer(n,i){const u=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let re=this._rendererCache.get(u);return re||(re=new le("",u,this.engine),this._rendererCache.set(u,re)),re}const f=i.id,_=i.id+"-"+this._currentId;this._currentId++,this.engine.register(_,n);const C=re=>{Array.isArray(re)?re.forEach(C):this.engine.registerTrigger(f,_,n,re.name,re)};return i.data.animation.forEach(C),new G(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,a){n>=0&&n<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,_]=u;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(y.LFG(y.FYo),y.LFG(ga),y.LFG(y.R0b))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e})();class le{constructor(t,n,i){this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>n.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,a=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,a)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,a){this.delegate.setAttribute(t,n,i,a)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,a){this.delegate.setStyle(t,n,i,a)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==Aa?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class G extends le{constructor(t,n,i,a){super(n,i,a),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Aa?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const a=function Ae(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let u=n.slice(1),f="";return"@"!=u.charAt(0)&&([u,f]=function bt(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(t,n,i)}}const zi=[{provide:se._j,useClass:as},{provide:oo,useFactory:function an(){return new Xi}},{provide:ga,useClass:(()=>{class e extends ga{constructor(n,i,a,u){super(n.body,i,a)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(y.LFG(Be.K0),y.LFG(Yt),y.LFG(oo),y.LFG(y.z2F))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e})()},{provide:y.FYo,useFactory:function Kn(e,t,n){return new N(e,t,n)},deps:[c.se,ga,y.R0b]}],Bi=[{provide:Yt,useFactory:()=>new Sa},{provide:y.QbO,useValue:"BrowserAnimations"},...zi],_i=[{provide:Yt,useClass:yt},{provide:y.QbO,useValue:"NoopAnimations"},...zi];let Vi=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?_i:Bi}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:Bi,imports:[c.b2]}),e})();var Vs=w(6745),uo=w(4006),Js=w(9814);const Co_firebase={apiKey:"AIzaSyBYhIOBxgYxiTNeAwcRkNJjcP5Zkl2ZtH8",authDomain:"game-room-e1554.firebaseapp.com",projectId:"game-room-e1554",storageBucket:"game-room-e1554.appspot.com",messagingSenderId:"116000830944",appId:"1:116000830944:web:1bfad3111254b5045e2785"};var Fr=w(2011),gr=w(1205),ys=w(9751),sl=w(9646),Er=w(8996),ta=w(8372),Ta=w(4004),ol=w(3900),ks=w(5813),gc=w(3942),Ho=w(5861),Do=w(9681),nt=w(2090),ho=w(3475);const Al="firebasestorage.googleapis.com",Tl="storageBucket";class Wi extends nt.ZR{constructor(t,n){super(Ra(t),`Firebase Storage: ${n} (${Ra(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wi.prototype)}_codeEquals(t){return Ra(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ra(e){return"storage/"+e}function Ba(){return new Wi("unknown","An unknown error occurred, please check the error payload for server response.")}function na(){return new Wi("canceled","User canceled the upload/download.")}function Lr(){return new Wi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jo(e){return new Wi("invalid-argument",e)}function _a(){return new Wi("app-deleted","The Firebase app was deleted.")}function ls(e){return new Wi("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ya(e,t){return new Wi("invalid-format","String does not match format '"+e+"': "+t)}function Go(e){throw new Wi("internal-error","Internal error: "+e)}class _r{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=_r.makeFromUrl(t,n)}catch{return new _r(t,"")}if(""===i.path)return i;throw function nn(e){return new Wi("invalid-default-bucket","Invalid default bucket '"+e+"'.")}(t)}static makeFromUrl(t,n){let i=null;const a="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+a+"(/(.*))?$","i");function T(Jn){Jn.path_=decodeURIComponent(Jn.path)}const ve=n.replace(/[.]/g,"\\."),oi=[{regex:_,indices:{bucket:1,path:3},postModify:function u(Jn){"/"===Jn.path.charAt(Jn.path.length-1)&&(Jn.path_=Jn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ve}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${n===Al?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let Jn=0;Jn<oi.length;Jn++){const ki=oi[Jn],fr=ki.regex.exec(t);if(fr){let Dl=fr[ki.indices.path];Dl||(Dl=""),i=new _r(fr[ki.indices.bucket],Dl),ki.postModify(i);break}}if(null==i)throw function jn(e){return new Wi("invalid-url","Invalid URL '"+e+"'.")}(t);return i}}class _c{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function er(e){return"string"==typeof e||e instanceof String}function ai(e){return $o()&&e instanceof Blob}function $o(){return typeof Blob<"u"}function Di(e,t,n,i){if(i<t)throw jo(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw jo(`Invalid value for '${e}'. Expected ${n} or less.`)}function Hr(e,t,n){let i=t;return null==n&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function lr(e){const t=encodeURIComponent;let n="?";for(const i in e)e.hasOwnProperty(i)&&(n=n+(t(i)+"=")+t(e[i])+"&");return n=n.slice(0,-1),n}var Sn=(()=>{return(e=Sn||(Sn={}))[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",Sn;var e})();class zo{constructor(t,n,i,a,u,f,_,C,T,re,ve){this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=C,this.timeout_=T,this.progressCallback_=re,this.connectionFactory_=ve,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((qe,vt)=>{this.resolve_=qe,this.reject_=vt,this.start_()})}start_(){const n=(i,a)=>{const u=this.resolve_,f=this.reject_,_=a.connection;if(a.wasSuccessCode)try{const C=this.callback_(_,_.getResponse());!function ci(e){return void 0!==e}(C)?u():u(C)}catch(C){f(C)}else if(null!==_){const C=Ba();C.serverResponse=_.getErrorText(),f(this.errorCallback_?this.errorCallback_(_,C):C)}else f(a.canceled?this.appDelete_?_a():na():function fi(){return new Wi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new ka(!1,null,!0)):this.backoffId_=function Va(e,t,n){let i=1,a=null,u=null,f=!1,_=0;function C(){return 2===_}let T=!1;function re(...An){T||(T=!0,t.apply(null,An))}function ve(An){a=setTimeout(()=>{a=null,e(vt,C())},An)}function qe(){u&&clearTimeout(u)}function vt(An,...Zn){if(T)return void qe();if(An)return qe(),void re.call(null,An,...Zn);if(C()||f)return qe(),void re.call(null,An,...Zn);let oi;i<64&&(i*=2),1===_?(_=2,oi=0):oi=1e3*(i+Math.random()),ve(oi)}let kt=!1;function tn(An){kt||(kt=!0,qe(),!T&&(null!==a?(An||(_=2),clearTimeout(a),ve(0)):An||(_=1)))}return ve(0),u=setTimeout(()=>{f=!0,tn(!0)},n),tn}((i,a)=>{if(a)return void i(!1,new ka(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const f=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const _=u.getErrorCode()===Sn.NO_ERROR,C=u.getStatus();if(!_||this.isRetryStatusCode_(C)){const re=u.getErrorCode()===Sn.ABORT;return void i(!1,new ka(!1,null,re))}const T=-1!==this.successCodes_.indexOf(C);i(!0,new ka(T,u))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function ll(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,a=-1!==[408,429].indexOf(t),u=-1!==this.additionalRetryCodes_.indexOf(t);return n||a||u}}class ka{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function Bc(...e){const t=function Ql(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}if($o())return new Blob(e);throw new Wi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bu{constructor(t,n){this.data=t,this.contentType=n||null}}function Os(e,t){switch(e){case vs.RAW:return new bu(Uc(t));case vs.BASE64:case vs.BASE64URL:return new bu(zr(e,t));case vs.DATA_URL:return new bu(function Xl(e){const t=new js(e);return t.base64?zr(vs.BASE64,t.rest):function en(e){let t;try{t=decodeURIComponent(e)}catch{throw ya(vs.DATA_URL,"Malformed data URL.")}return Uc(t)}(t.rest)}(t),function Ua(e){return new js(e).contentType}(t))}throw Ba()}function Uc(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function zr(e,t){switch(e){case vs.BASE64:{const a=-1!==t.indexOf("-"),u=-1!==t.indexOf("_");if(a||u)throw ya(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case vs.BASE64URL:{const a=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(a||u)throw ya(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Vc(e){return atob(e)}(t)}catch{throw ya(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class js{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(null===n)throw ya(vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;null!=i&&(this.base64=function ba(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class xr{constructor(t,n){let i=0,a="";ai(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(ai(this.data_)){const a=function eo(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===a?null:new xr(a)}{const i=new Uint8Array(this.data_.buffer,t,n-t);return new xr(i,!0)}}static getBlob(...t){if($o()){const n=t.map(i=>i instanceof xr?i.data_:i);return new xr(Bc.apply(null,n))}{const n=t.map(f=>er(f)?Os(vs.RAW,f).data:f.data_);let i=0;n.forEach(f=>{i+=f.byteLength});const a=new Uint8Array(i);let u=0;return n.forEach(f=>{for(let _=0;_<f.length;_++)a[u++]=f[_]}),new xr(a,!0)}}uploadData(){return this.data_}}function cs(e){let t;try{t=JSON.parse(e)}catch{return null}return function vu(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function M(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function A(e,t){return t}class E{constructor(t,n,i,a){this.server=t,this.local=n||t,this.writable=!!i,this.xform=a||A}}let U=null;function Ie(){if(U)return U;const e=[];e.push(new E("bucket")),e.push(new E("generation")),e.push(new E("metageneration")),e.push(new E("name","fullPath",!0));const n=new E("name");n.xform=function t(u,f){return function Z(e){return!er(e)||e.length<2?e:M(e)}(f)},e.push(n);const a=new E("size");return a.xform=function i(u,f){return void 0!==f?Number(f):f},e.push(a),e.push(new E("timeCreated")),e.push(new E("updated")),e.push(new E("md5Hash",null,!0)),e.push(new E("cacheControl",null,!0)),e.push(new E("contentDisposition",null,!0)),e.push(new E("contentEncoding",null,!0)),e.push(new E("contentLanguage",null,!0)),e.push(new E("contentType",null,!0)),e.push(new E("metadata","customMetadata",!0)),U=e,U}function qt(e,t,n){const i=cs(t);return null===i?null:function _t(e,t,n){const i={type:"file"},a=n.length;for(let u=0;u<a;u++){const f=n[u];i[f.local]=f.xform(i,t[f.server])}return function st(e,t){Object.defineProperty(e,"ref",{get:function n(){const u=new _r(e.bucket,e.fullPath);return t._makeStorageReference(u)}})}(i,e),i}(e,i,n)}function gi(e,t){const n={},i=t.length;for(let a=0;a<i;a++){const u=t[a];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}const Wn="prefixes";class Ps{constructor(t,n,i,a){this.url=t,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mr(e){if(!e)throw Ba()}function vr(e,t){return function n(i,a){const u=qt(e,a,t);return Mr(null!==u),u}}function Eo(e){return function t(n,i){let a;return a=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function ql(){return new Wi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ir(){return new Wi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function $r(e){return new Wi("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===n.getStatus()?function Un(e){return new Wi("unauthorized","User does not have permission to access '"+e+"'.")}(e.path):i,a.serverResponse=i.serverResponse,a}}function ko(e){const t=Eo(e);return function n(i,a){let u=t(i,a);return 404===i.getStatus()&&(u=function In(e){return new Wi("object-not-found","Object '"+e+"' does not exist.")}(e.path)),u.serverResponse=a.serverResponse,u}}function Hc(e,t,n){const a=Hr(t.fullServerUrl(),e.host,e._protocol),f=e.maxOperationRetryTime,_=new Ps(a,"GET",vr(e,n),f);return _.errorHandler=ko(t),_}function Wo(e,t,n,i,a){const u={};u.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),a&&(u.maxResults=a);const _=Hr(t.bucketOnlyServerUrl(),e.host,e._protocol),T=e.maxOperationRetryTime,re=new Ps(_,"GET",function to(e,t){return function n(i,a){const u=function ur(e,t,n){const i=cs(n);return null===i?null:function Ss(e,t,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Wn])for(const a of n[Wn]){const u=a.replace(/\/$/,""),f=e._makeStorageReference(new _r(t,u));i.prefixes.push(f)}if(n.items)for(const a of n.items){const u=e._makeStorageReference(new _r(t,a.name));i.items.push(u)}return i}(e,t,i)}(e,t,a);return Mr(null!==u),u}}(e,t.bucket),T);return re.urlParams=u,re.errorHandler=Eo(t),re}function po(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function Ga(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class Sr{constructor(t,n,i,a){this.current=t,this.total=n,this.finalized=!!i,this.metadata=a||null}}function Yo(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Mr(!1)}return Mr(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Ut={STATE_CHANGED:"state_changed"},Wt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dn(e){switch(e){case"running":case"pausing":case"canceling":return Wt.RUNNING;case"paused":return Wt.PAUSED;case"success":return Wt.SUCCESS;case"canceled":return Wt.CANCELED;default:return Wt.ERROR}}class On{constructor(t,n,i){if(function cl(e){return"function"==typeof e}(t)||null!=n||null!=i)this.next=t,this.error=n??void 0,this.complete=i??void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function ti(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class ui extends class Ti{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sn.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sn.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sn.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,a){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),void 0!==a)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function cr(){return new ui}class rr{constructor(t,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Ie(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":t(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,n)=>{const i=function j(e,t,n,i,a){const u=t.bucketOnlyServerUrl(),f=po(t,i,a),_={name:f.fullPath},C=Hr(u,e.host,e._protocol),re={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},ve=gi(f,n),kt=new Ps(C,"POST",function vt(tn){let An;Yo(tn);try{An=tn.getResponseHeader("X-Goog-Upload-URL")}catch{Mr(!1)}return Mr(er(An)),An},e.maxUploadRetryTime);return kt.urlParams=_,kt.headers=re,kt.body=ve,kt.errorHandler=Eo(t),kt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,cr,t,n);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,i)=>{const a=function q(e,t,n,i){const C=new Ps(n,"POST",function u(T){const re=Yo(T,["active","final"]);let ve=null;try{ve=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mr(!1)}ve||Mr(!1);const qe=Number(ve);return Mr(!isNaN(qe)),new Sr(qe,i.size(),"final"===re)},e.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=Eo(t),C}(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(a,cr,n,i);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,n=new Sr(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,u)=>{let f;try{f=function ft(e,t,n,i,a,u,f,_){const C=new Sr(0,0);if(f?(C.current=f.current,C.total=f.total):(C.current=0,C.total=i.size()),i.size()!==C.total)throw function Rl(){return new Wi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const T=C.total-C.current;let re=T;a>0&&(re=Math.min(re,a));const ve=C.current,kt={"X-Goog-Upload-Command":re===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},tn=i.slice(ve,ve+re);if(null===tn)throw Lr();const oi=new Ps(n,"POST",function An(Jn,ki){const fr=Yo(Jn,["active","final"]),$s=C.current+re,Dl=i.size();let tl;return tl="final"===fr?vr(t,u)(Jn,ki):null,new Sr($s,Dl,"final"===fr,tl)},t.maxUploadRetryTime);return oi.headers=kt,oi.body=tn.uploadData(),oi.progressCallback=_||null,oi.errorHandler=Eo(e),oi}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const _=this._ref.storage._makeRequest(f,cr,a,u);this._request=_,_.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const i=Hc(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,cr,t,n);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const i=function ra(e,t,n,i,a){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},C=function _(){let oi="";for(let Jn=0;Jn<2;Jn++)oi+=Math.random().toString().slice(2);return oi}();f["Content-Type"]="multipart/related; boundary="+C;const T=po(t,i,a),re=gi(T,n),vt=xr.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+re+"\r\n--"+C+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",i,"\r\n--"+C+"--");if(null===vt)throw Lr();const kt={name:T.fullPath},tn=Hr(u,e.host,e._protocol),Zn=e.maxUploadRetryTime,Xn=new Ps(tn,"POST",vr(e,n),Zn);return Xn.urlParams=kt,Xn.headers=f,Xn.body=vt.uploadData(),Xn.errorHandler=Eo(t),Xn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,cr,t,n);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=na(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Dn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,i,a){const u=new On(n||void 0,i||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Dn(this._state)){case Wt.SUCCESS:ti(this._resolve.bind(null,this.snapshot))();break;case Wt.CANCELED:case Wt.ERROR:ti(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Dn(this._state)){case Wt.RUNNING:case Wt.PAUSED:t.next&&ti(t.next.bind(t,this.snapshot))();break;case Wt.SUCCESS:t.complete&&ti(t.complete.bind(t))();break;default:t.error&&ti(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class xo{constructor(t,n){this._service=t,this._location=n instanceof _r?n:_r.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new xo(t,n)}get root(){const t=new _r(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M(this._location.path)}get storage(){return this._service}get parent(){const t=function Ha(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;const n=new _r(this._location.bucket,t);return new xo(this._service,n)}_throwIfRoot(t){if(""===this._location.path)throw ls(t)}}function Qu(e,t,n){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,Ho.Z)(function*(e,t,n){const a=yield Nr(e,{pageToken:n});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield Qu(e,t,a.nextPageToken))})).apply(this,arguments)}function Nr(e,t){null!=t&&"number"==typeof t.maxResults&&Di("options.maxResults",1,1e3,t.maxResults);const n=t||{},i=Wo(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(i,cr)}function jd(e){e._throwIfRoot("getDownloadURL");const t=function Pl(e,t,n){const a=Hr(t.fullServerUrl(),e.host,e._protocol),f=e.maxOperationRetryTime,_=new Ps(a,"GET",function ja(e,t){return function n(i,a){const u=qt(e,a,t);return Mr(null!==u),function _n(e,t,n,i){const a=cs(t);if(null===a||!er(a.downloadTokens))return null;const u=a.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(T=>{const ve=e.fullPath;return Hr("/b/"+f(e.bucket)+"/o/"+f(ve),n,i)+lr({alt:"media",token:T})})[0]}(u,a,e.host,e._protocol)}}(e,n),f);return _.errorHandler=ko(t),_}(e.storage,e._location,Ie());return e.storage.makeRequestWithTokens(t,cr).then(n=>{if(null===n)throw function kl(){return new Wi("no-download-url","The given file does not have any download URLs.")}();return n})}function wu(e,t){const n=function Oa(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new _r(e._location.bucket,n);return new xo(e.storage,i)}function Kh(e,t){if(e instanceof Nl){const n=e;if(null==n._bucket)throw function Cn(){return new Wi("no-default-bucket","No default bucket found. Did you set the '"+Tl+"' property when initializing the app?")}();const i=new xo(n,n._bucket);return null!=t?Kh(i,t):i}return void 0!==t?wu(e,t):e}function Wa(e,t){if(t&&function ym(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof Nl)return function Gd(e,t){return new xo(e,t)}(e,t);throw jo("To use ref(service, url), the first argument must be a Storage instance.")}return Kh(e,t)}function ul(e,t){const n=t?.[Tl];return null==n?null:_r.makeFromBucketSpec(n,e)}class Nl{constructor(t,n,i,a,u){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=Al,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?_r.makeFromBucketSpec(a,this._host):ul(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,t):ul(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Di("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Di("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ho.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const n=t._authProvider.getImmediate({optional:!0});if(n){const i=yield n.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ho.Z)(function*(){const n=t._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xo(this,t)}_makeRequest(t,n,i,a){if(this._deleted)return new _c(_a());{const u=function Ol(e,t,n,i,a,u){const f=lr(e.urlParams),_=e.url+f,C=Object.assign({},e.headers);return function va(e,t){t&&(e["X-Firebase-GMPID"]=t)}(C,t),function Us(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(C,n),function Hs(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(C,u),function yr(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(C,i),new zo(_,e.method,C,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a)}(t,this._appId,i,a,n,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,n){var i=this;return(0,Ho.Z)(function*(){const[a,u]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,n,a,u).getPromise()})()}}const zd="@firebase/storage";function x(e,t){return Wa(e=(0,nt.m9)(e),t)}function Jr(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Nl(n,i,a,t,Do.SDK_VERSION)}!function As(){(0,Do._registerComponent)(new ho.wA("storage",Jr,"PUBLIC").setMultipleInstances(!0)),(0,Do.registerVersion)(zd,"0.9.9",""),(0,Do.registerVersion)(zd,"0.9.9","esm2017")}();class I{constructor(t,n,i){this._delegate=t,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class g{constructor(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new I(this._delegate.snapshot,this,this._ref)}then(t,n){return this._delegate.then(i=>{if(t)return t(new I(i,this,this._ref))},n)}on(t,n,i,a){let u;return n&&(u="function"==typeof n?f=>n(new I(f,this,this._ref)):{next:n.next?f=>n.next(new I(f,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,i||void 0,a||void 0)}}class v{constructor(t,n){this._delegate=t,this._service=n}get prefixes(){return this._delegate.prefixes.map(t=>new k(t,this._service))}get items(){return this._delegate.items.map(t=>new k(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class k{constructor(t,n){this._delegate=t,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const n=function Q(e,t){return wu(e,t)}(this._delegate,t);return new k(n,this.storage)}get root(){return new k(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new k(t,this.storage)}put(t,n){return this._throwIfRoot("put"),new g(function jc(e,t,n){return function za(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new rr(e,new xr(t),n)}(e=(0,nt.m9)(e),t,n)}(this._delegate,t,n),this)}putString(t,n=vs.RAW,i){this._throwIfRoot("putString");const a=Os(n,t),u=Object.assign({},i);return null==u.contentType&&null!=a.contentType&&(u.contentType=a.contentType),new g(new rr(this._delegate,new xr(a.data,!0),u),this)}listAll(){return function H(e){return function qu(e){const t={prefixes:[],items:[]};return Qu(e,t).then(()=>t)}(e=(0,nt.m9)(e))}(this._delegate).then(t=>new v(t,this.storage))}list(t){return function Mo(e,t){return Nr(e=(0,nt.m9)(e),t)}(this._delegate,t||void 0).then(n=>new v(n,this.storage))}getMetadata(){return function tc(e){return function Hd(e){e._throwIfRoot("getMetadata");const t=Hc(e.storage,e._location,Ie());return e.storage.makeRequestWithTokens(t,cr)}(e=(0,nt.m9)(e))}(this._delegate)}updateMetadata(t){return function wa(e,t){return function Wh(e,t){e._throwIfRoot("updateMetadata");const n=function ia(e,t,n,i){const u=Hr(t.fullServerUrl(),e.host,e._protocol),_=gi(n,i),T=e.maxOperationRetryTime,re=new Ps(u,"PATCH",vr(e,i),T);return re.headers={"Content-Type":"application/json; charset=utf-8"},re.body=_,re.errorHandler=ko(t),re}(e.storage,e._location,t,Ie());return e.storage.makeRequestWithTokens(n,cr)}(e=(0,nt.m9)(e),t)}(this._delegate,t)}getDownloadURL(){return function W(e){return jd(e=(0,nt.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function h(e){return function Yh(e){e._throwIfRoot("deleteObject");const t=function fo(e,t){const i=Hr(t.fullServerUrl(),e.host,e._protocol),_=new Ps(i,"DELETE",function f(C,T){},e.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=ko(t),_}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,cr)}(e=(0,nt.m9)(e))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw ls(t)}}class _e{constructor(t,n){this.app=t,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Ze(t))throw jo("ref() expected a child path but got a URL, use refFromURL instead.");return new k(x(this._delegate,t),this)}refFromURL(t){if(!Ze(t))throw jo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_r.makeFromUrl(t,this._delegate.host)}catch{throw jo("refFromUrl() expected a valid full URL but got an invalid one.")}return new k(x(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,n,i={}){!function pn(e,t,n,i={}){!function $d(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:a}=i;a&&(e._overrideAuthToken="string"==typeof a?a:(0,nt.Sg)(a,e.app.options.projectId))}(e,t,n,i)}(this._delegate,t,n,i)}}function Ze(e){return/^[A-Za-z]+:\/\//.test(e)}function ni(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:t});return new _e(n,i)}!function Hi(e){const t={TaskState:Wt,TaskEvent:Ut,StringFormat:vs,Storage:_e,Reference:k};e.INTERNAL.registerComponent(new ho.wA("storage-compat",ni,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(gc.Z);var Wr=w(440),Zo=w(127);function Zd(e){const t=function Gc(e){return new ys.y(t=>{const n=f=>t.next(f);n(e.snapshot);const u=e.on("state_changed",n);return e.then(f=>{n(f),t.complete()},f=>{n(e.snapshot),(f=>{t.error(f)})(f)}),function(){u()}}).pipe((0,ta.b)(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ta.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function Yr(e){return{getDownloadURL:()=>(0,sl.of)(void 0).pipe(ks.fc,(0,ol.w)(()=>e.getDownloadURL()),ks.iC),getMetadata:()=>(0,sl.of)(void 0).pipe(ks.fc,(0,ol.w)(()=>e.getMetadata()),ks.iC),delete:()=>(0,Er.D)(e.delete()),child:t=>Yr(e.child(t)),updateMetadata:t=>(0,Er.D)(e.updateMetadata(t)),put:(t,n)=>Zd(e.put(t,n)),putString:(t,n,i)=>Zd(e.putString(t,n,i)),list:t=>(0,Er.D)(e.list(t)),listAll:()=>(0,Er.D)(e.listAll())}}const yc=new y.OlP("angularfire2.storageBucket"),$c=new y.OlP("angularfire2.storage.maxUploadRetryTime"),Ju=new y.OlP("angularfire2.storage.maxOperationRetryTime"),op=new y.OlP("angularfire2.storage.use-emulator");let ed=(()=>{class e{constructor(n,i,a,u,f,_,C,T,re,ve){const qe=(0,Fr.on)(n,f,i);this.storage=(0,Fr.cc)(`${qe.name}.storage.${a}`,"AngularFireStorage",qe.name,()=>{const vt=f.runOutsideAngular(()=>qe.storage(a||void 0)),kt=re;return kt&&vt.useEmulator(...kt),C&&vt.setMaxUploadRetryTime(C),T&&vt.setMaxOperationRetryTime(T),vt},[C,T])}ref(n){return Yr(this.storage.ref(n))}refFromURL(n){return Yr(this.storage.refFromURL(n))}upload(n,i,a){return Yr(this.storage.ref(n)).put(i,a)}}return e.\u0275fac=function(n){return new(n||e)(y.LFG(Fr.Dh),y.LFG(Fr.xv,8),y.LFG(yc,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ks.HU),y.LFG($c,8),y.LFG(Ju,8),y.LFG(op,8),y.LFG(Wr.nm,8))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),qd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e})(),zc=(()=>{class e{constructor(){Zo.Z.registerVersion("angularfire",ks.q4.full,"gcs-compat")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[ed],imports:[qd]}),e})();var nc=w(7407),Qd=w(4986),Xd=w(6451),Zh=w(3099),Cu=w(5026),qh=w(1884),i_=w(4482),Yi=w(5403),br=w(8421),r_=w(4671),lp=w(5032),Wc=w(3269);w(5881);var td=w(1877);const vm="@firebase/database";let bm="";function bc(e){bm=e}class wm{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,nt.Pz)(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:(0,nt.cI)(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class s_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return(0,nt.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const ji=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wm(t)}}catch{}return new s_},Du=ji("localStorage"),Jd=ji("sessionStorage"),ic=new td.Yd("@firebase/database"),nd=function(){let e=1;return function(){return e++}}(),id=function(e){const t=(0,nt.dS)(e),n=new nt.gQ;n.update(t);const i=n.digest();return nt.US.encodeByteArray(i)},Qh=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Qh.apply(null,i):t+="object"==typeof i?(0,nt.Pz)(i):i,t+=" "}return t};let Eu=null,Xh=!0;const Cm=function(e,t){(0,nt.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ic.logLevel=td.in.VERBOSE,Eu=ic.log.bind(ic),t&&Jd.set("logging_enabled",!0)):"function"==typeof e?Eu=e:(Eu=null,Jd.remove("logging_enabled"))},Io=function(...e){if(!0===Xh&&(Xh=!1,null===Eu&&!0===Jd.get("logging_enabled")&&Cm(!0)),Eu){const t=Qh.apply(null,e);Eu(t)}},Bl=function(e){return function(...t){Io(e,...t)}},Dm=function(...e){const t="FIREBASE INTERNAL ERROR: "+Qh(...e);ic.error(t)},Vl=function(...e){const t=`FIREBASE FATAL ERROR: ${Qh(...e)}`;throw ic.error(t),new Error(t)},Po=function(...e){const t="FIREBASE WARNING: "+Qh(...e);ic.warn(t)},rd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ar="[MIN_NAME]",hl="[MAX_NAME]",wc=function(e,t){if(e===t)return 0;if(e===Ar||t===hl)return-1;if(t===Ar||e===hl)return 1;{const n=nf(e),i=nf(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},ef=function(e,t){return e===t?0:e<t?-1:1},Ka=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,nt.Pz)(t))},eh=function(e){if("object"!=typeof e||null===e)return(0,nt.Pz)(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,nt.Pz)(t[i]),n+=":",n+=eh(e[t[i]]);return n+="}",n},xu=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let a=0;a<n;a+=t)i.push(e.substring(a,a+t>n?n:a+t));return i};function no(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Em=function(e){(0,nt.hu)(!rd(e),"Invalid JSON number");const i=1023;let a,u,f,_,C;0===e?(u=0,f=0,a=1/e==-1/0?1:0):(a=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(e)/Math.LN2),i),u=_+i,f=Math.round(e*Math.pow(2,52-_)-Math.pow(2,52))):(u=0,f=Math.round(e/Math.pow(2,-1074))));const T=[];for(C=52;C;C-=1)T.push(f%2?1:0),f=Math.floor(f/2);for(C=11;C;C-=1)T.push(u%2?1:0),u=Math.floor(u/2);T.push(a?1:0),T.reverse();const re=T.join("");let ve="";for(C=0;C<64;C+=8){let qe=parseInt(re.substr(C,8),2).toString(16);1===qe.length&&(qe="0"+qe),ve+=qe}return ve.toLowerCase()},Ey=new RegExp("^-?(0*)\\d{1,10}$"),sd=-2147483648,tf=2147483647,nf=function(e){if(Ey.test(e)){const t=Number(e);if(t>=sd&&t<=tf)return t}return null},th=function(e){try{e()}catch(t){setTimeout(()=>{throw Po("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Cc=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class xy{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Po(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class od{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Io("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Po(t)}}let Yc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const d_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mm="websocket",rc="long_polling";class ih{constructor(t,n,i,a,u=!1,f="",_=!1){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Du.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Du.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function h_(e,t,n){let i;if((0,nt.hu)("string"==typeof t,"typeof type must == string"),(0,nt.hu)("object"==typeof n,"typeof params must == object"),t===Mm)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rc)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Im(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const a=[];return no(n,(u,f)=>{a.push(u+"="+f)}),i+a.join("&")}class Sm{constructor(){this.counters_={}}incrementCounter(t,n=1){(0,nt.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return(0,nt.p$)(this.counters_)}}const f_={},p_={};function m_(e){const t=e.toString();return f_[t]||(f_[t]=new Sm),f_[t]}class dv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&th(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dc{constructor(t,n,i,a,u,f,_){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=f,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=m_(n),this.urlFn=C=>(this.appCheckToken&&(C.ac=this.appCheckToken),h_(n,rc,C))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,nt.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ad((...u)=>{const[f,_,C,T,re]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=_,this.password=C;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[f,_]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dc.forceAllow_=!0}static forceDisallow(){Dc.forceDisallow_=!0}static isAvailable(){return!((0,nt.Yr)()||!Dc.forceAllow_&&(Dc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=(0,nt.Pz)(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=(0,nt.h$)(n),a=xu(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if((0,nt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=(0,nt.Pz)(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ad{constructor(t,n,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,nt.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=nd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=ad.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(_){Io("frame writing exception"),_.stack&&Io(_.stack),Io(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Io("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const f=this.pendingSegs.shift();i=i+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,n){(0,nt.Yr)()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Io("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let fp=null;typeof MozWebSocket<"u"?fp=MozWebSocket:typeof WebSocket<"u"&&(fp=WebSocket);let Su=(()=>{class e{constructor(n,i,a,u,f,_,C){this.connId=n,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=m_(i),this.connURL=e.connectionURL_(i,_,C,u,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,a,u,f){const _={v:"5"};return!(0,nt.Yr)()&&typeof location<"u"&&location.hostname&&d_.test(location.hostname)&&(_.r="f"),i&&(_.s=i),a&&(_.ls=a),u&&(_.ac=u),f&&(_.p=f),h_(n,Mm,_)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Du.set("previous_websocket_failure",!0);try{let a;if((0,nt.Yr)()){a={headers:{"User-Agent":`Firebase/5/${bm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,_=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;_&&(a.proxy={origin:_})}this.mySock=new fp(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&null!==fp&&!e.forceDisallow_}static previouslyFailed(){return Du.isInMemoryStorage||!0===Du.get("previous_websocket_failure")}markConnectionHealthy(){Du.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,nt.cI)(i);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,nt.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const i=(0,nt.Pz)(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=xu(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),sf=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Dc,Su]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=Su&&Su.isAvailable();let a=i&&!Su.previouslyFailed();if(n.webSocketOnly&&(i||Po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Su];else{const u=this.transports_=[];for(const f of e.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class Zc{constructor(t,n,i,a,u,f,_,C,T,re){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=f,this.onReady_=_,this.onDisconnect_=C,this.onKill_=T,this.lastSessionId=re,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new sf(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Cc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ka("t",t),i=Ka("d",t);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ka("t",t),i=Ka("d",t);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ka("t",t);if("d"in t){const i=t.d;if("h"===n)this.onHandshake_(i);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?Dm("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dm("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&Po("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Cc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Du.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class D_{put(t,n,i,a){}merge(t,n,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}class Bm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,nt.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const a=this.getInitialEvent(t);a&&n.apply(i,a)}off(t,n,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===n&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,nt.hu)(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class mp extends Bm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,nt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mp}getInitialEvent(t){return(0,nt.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class tr{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function Ri(){return new tr("")}function Oi(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function qc(e){return e.pieces_.length-e.pieceNum_}function bs(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new tr(e.pieces_,t)}function M_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ud(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function sc(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tr(t,0)}function ds(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof tr)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new tr(n,0)}function Pi(e){return e.pieceNum_>=e.pieces_.length}function Qo(e,t){const n=Oi(e),i=Oi(t);if(null===n)return t;if(n===i)return Qo(bs(e),bs(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function lh(e,t){const n=ud(e,0),i=ud(t,0);for(let a=0;a<n.length&&a<i.length;a++){const u=wc(n[a],i[a]);if(0!==u)return u}return n.length===i.length?0:n.length<i.length?-1:1}function _p(e,t){if(qc(e)!==qc(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function oa(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(qc(e)>qc(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Za{constructor(t,n){this.errorPrefix_=n,this.parts_=ud(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,nt.ug)(this.parts_[i]);dd(this)}}function dd(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qc(e))}function Qc(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Xc extends Bm{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Xc}getInitialEvent(t){return(0,nt.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Pa=1e3;let bp,Tu=(()=>{class e extends D_{constructor(n,i,a,u,f,_,C,T){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=_,this.appCheckTokenProvider_=C,this.authOverride_=T,this.id=e.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,nt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xc.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&mp.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,a){const u=++this.requestNumber_,f={r:u,a:n,b:i};this.log_((0,nt.Pz)(f)),(0,nt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[u]=a)}get(n){this.initConnection_();const i=new nt.BH,a={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:_=>{const C=_.d;"ok"===_.s?i.resolve(C):i.reject(C)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,a,u){this.initConnection_();const f=n._queryIdentifier,_=n._path.toString();this.log_("Listen called for "+_+" "+f),this.listens.has(_)||this.listens.set(_,new Map),(0,nt.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,nt.hu)(!this.listens.get(_).has(f),"listen() called twice for same path/queryId.");const C={onComplete:u,hashFn:i,query:n,tag:a};this.listens.get(_).set(f,C),this.connected_&&this.sendListen_(C)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(n){const i=n.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const f={p:a};n.tag&&(f.q=i._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest("q",f,C=>{const T=C.d,re=C.s;e.warnOnListenWarnings_(T,i),(this.listens.get(a)&&this.listens.get(a).get(u))===n&&(this.log_("listen response",C),"ok"!==re&&this.removeListen_(a,u),n.onComplete&&n.onComplete(re,T))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&(0,nt.r3)(n,"w")){const a=(0,nt.DV)(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Po(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,nt.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=(0,nt.w9)(n)?"auth":"gauth",a={cred:n};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const f=u.s,_=u.d||"error";this.authToken_===n&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,a=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(n,i){const a=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,nt.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,n._queryObject,i)}sendUnlisten_(n,i,a,u){this.log_("Unlisten on "+n+" for "+i);const f={p:n};u&&(f.q=a,f.t=u),this.sendRequest("n",f)}onDisconnectPut(n,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:a})}onDisconnectMerge(n,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:a})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,a,u){const f={p:i,d:a};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,_=>{u&&setTimeout(()=>{u(_.s,_.d)},Math.floor(0))})}put(n,i,a,u){this.putInternal("p",n,i,a,u)}merge(n,i,a,u){this.putInternal("m",n,i,a,u)}putInternal(n,i,a,u,f){this.initConnection_();const _={p:i,d:a};void 0!==f&&(_.h=f),this.outstandingPuts_.push({action:n,request:_,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,a,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,nt.Pz)(n));const i=n.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):Dm("Unrecognized action received from server: "+(0,nt.Pz)(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,nt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Pa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Ho.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),a=n.onReady_.bind(n),u=n.onRealtimeDisconnect_.bind(n),f=n.id+":"+e.nextConnectionId_++,_=n.lastSessionId;let C=!1,T=null;const re=function(){T?T.close():(C=!0,u())};n.realtime_={close:re,sendRequest:function(vt){(0,nt.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(vt)}};const qe=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[vt,kt]=yield Promise.all([n.authTokenProvider_.getToken(qe),n.appCheckTokenProvider_.getToken(qe)]);C?Io("getToken() completed but was canceled"):(Io("getToken() completed. Creating connection."),n.authToken_=vt&&vt.accessToken,n.appCheckToken_=kt&&kt.token,T=new Zc(f,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,a,u,tn=>{Po(tn+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},_))}catch(vt){n.log_("Failed to get token: "+vt),C||(n.repoInfo_.nodeAdmin&&Po(vt),re())}}})()}interrupt(n){Io("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Io("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,nt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let a;a=i?i.map(f=>eh(f)).join("$"):"default";const u=this.removeListen_(n,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,i){const a=new tr(n).toString();let u;if(this.listens.has(a)){const f=this.listens.get(a);u=f.get(i),f.delete(i),0===f.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(n,i){Io("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Io("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";(0,nt.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+i+"."+bm.replace(/\./g,"-")]=1,(0,nt.uI)()?n["framework.cordova"]=1:(0,nt.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=mp.getInstance().currentlyOnline();return(0,nt.xb)(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class sr{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new sr(t,n)}}class vp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new sr(Ar,t),a=new sr(Ar,n);return 0!==this.compare(i,a)}minPost(){return sr.MIN}}class Vm extends vp{static get __EMPTY_NODE(){return bp}static set __EMPTY_NODE(t){bp=t}compare(t,n){return wc(t.name,n.name)}isDefinedOn(t){throw(0,nt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return sr.MIN}maxPost(){return new sr(hl,bp)}makePost(t,n){return(0,nt.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new sr(t,bp)}toString(){return".key"}}const Fa=new Vm;class uh{constructor(t,n,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(f=n?i(t.key,n):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let pl,fl=(()=>{class e{constructor(n,i,a,u,f){this.key=n,this.value=i,this.color=a??e.RED,this.left=u??qa.EMPTY_NODE,this.right=f??qa.EMPTY_NODE}copy(n,i,a,u,f){return new e(n??this.key,i??this.value,a??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let u=this;const f=a(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,a),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return qa.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let a,u;if(a=this,i(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(n,a.key)){if(a.right.isEmpty())return qa.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class qa{constructor(t,n=qa.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new qa(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,fl.BLACK,null,null))}remove(t){return new qa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,fl.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,a=null;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),0===n){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new uh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new uh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new uh(this.root_,null,this.comparator_,!0,t)}}function Um(e,t){return wc(e.name,t.name)}function Ec(e,t){return wc(e,t)}qa.EMPTY_NODE=new class A_{copy(t,n,i,a,u){return this}insert(t,n,i){return new fl(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wp=function(e){return"number"==typeof e?"number:"+Em(e):"string:"+e},T_=function(e){if(e.isLeafNode()){const t=e.val();(0,nt.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,nt.r3)(t,".sv"),"Priority must be a string or number.")}else(0,nt.hu)(e===pl||e.isEmpty(),"priority of unexpected type.");(0,nt.hu)(e===pl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let R_,k_,cf,tu=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,(0,nt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),T_(this.priorityNode_)}static set __childrenNodeConstructor(n){R_=n}static get __childrenNodeConstructor(){return R_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Pi(n)?this:".priority"===Oi(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const a=Oi(n);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,nt.hu)(".priority"!==a||1===qc(n),".priority must be the last token in a path"),this.updateImmediateChild(a,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(bs(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+wp(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?Em(this.value_):this.value_,this.lazyHash_=id(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:((0,nt.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,a=typeof this.value_,u=e.VALUE_TYPE_ORDER.indexOf(i),f=e.VALUE_TYPE_ORDER.indexOf(a);return(0,nt.hu)(u>=0,"Unknown leaf type: "+i),(0,nt.hu)(f>=0,"Unknown leaf type: "+a),u===f?"object"===a?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const hs=new class jm extends vp{compare(t,n){const i=t.node.getPriority(),a=n.node.getPriority(),u=i.compareTo(a);return 0===u?wc(t.name,n.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return sr.MIN}maxPost(){return new sr(hl,new tu("[PRIORITY-POST]",cf))}makePost(t,n){const i=k_(t);return new sr(n,new tu("[PRIORITY-POST]",i))}toString(){return".priority"}},Cp=Math.log(2);class uf{constructor(t){this.count=parseInt(Math.log(t+1)/Cp,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const df=function(e,t,n,i){e.sort(t);const a=function(C,T){const re=T-C;let ve,qe;if(0===re)return null;if(1===re)return ve=e[C],qe=n?n(ve):ve,new fl(qe,ve.node,fl.BLACK,null,null);{const vt=parseInt(re/2,10)+C,kt=a(C,vt),tn=a(vt+1,T);return ve=e[vt],qe=n?n(ve):ve,new fl(qe,ve.node,fl.BLACK,kt,tn)}},_=function(C){let T=null,re=null,ve=e.length;const qe=function(kt,tn){const An=ve-kt,Zn=ve;ve-=kt;const Xn=a(An+1,Zn),oi=e[An],Jn=n?n(oi):oi;vt(new fl(Jn,oi.node,tn,null,Xn))},vt=function(kt){T?(T.left=kt,T=kt):(re=kt,T=kt)};for(let kt=0;kt<C.count;++kt){const tn=C.nextBitIsOne(),An=Math.pow(2,C.count-(kt+1));tn?qe(An,fl.BLACK):(qe(An,fl.BLACK),qe(An,fl.RED))}return re}(new uf(e.length));return new qa(i||t,_)};let Ru;const hd={};class Ul{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return(0,nt.hu)(hd&&hs,"ChildrenNode.ts has not been loaded"),Ru=Ru||new Ul({".priority":hd},{".priority":hs}),Ru}get(t){const n=(0,nt.DV)(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof qa?n:null}hasIndex(t){return(0,nt.r3)(this.indexSet_,t.toString())}addIndex(t,n){(0,nt.hu)(t!==Fa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=n.getIterator(sr.Wrap);let _,f=u.getNext();for(;f;)a=a||t.isDefinedOn(f.node),i.push(f),f=u.getNext();_=a?df(i,t.getCompare()):hd;const C=t.toString(),T=Object.assign({},this.indexSet_);T[C]=t;const re=Object.assign({},this.indexes_);return re[C]=_,new Ul(re,T)}addToIndexes(t,n){const i=(0,nt.UI)(this.indexes_,(a,u)=>{const f=(0,nt.DV)(this.indexSet_,u);if((0,nt.hu)(f,"Missing index implementation for "+u),a===hd){if(f.isDefinedOn(t.node)){const _=[],C=n.getIterator(sr.Wrap);let T=C.getNext();for(;T;)T.name!==t.name&&_.push(T),T=C.getNext();return _.push(t),df(_,f.getCompare())}return hd}{const _=n.get(t.name);let C=a;return _&&(C=C.remove(new sr(t.name,_))),C.insert(t,t.node)}});return new Ul(i,this.indexSet_)}removeFromIndexes(t,n){const i=(0,nt.UI)(this.indexes_,a=>{if(a===hd)return a;{const u=n.get(t.name);return u?a.remove(new sr(t.name,u)):a}});return new Ul(i,this.indexSet_)}}let oc,Fi=(()=>{class e{constructor(n,i,a){this.children_=n,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&T_(this.priorityNode_),this.children_.isEmpty()&&(0,nt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oc||(oc=new e(new qa(Ec),null,Ul.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oc}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?oc:i}}getChild(n){const i=Oi(n);return null===i?this:this.getImmediateChild(i).getChild(bs(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if((0,nt.hu)(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const a=new sr(n,i);let u,f;i.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(n,i),f=this.indexMap_.addToIndexes(a,this.children_));const _=u.isEmpty()?oc:this.priorityNode_;return new e(u,_,f)}}updateChild(n,i){const a=Oi(n);if(null===a)return i;{(0,nt.hu)(".priority"!==Oi(n)||1===qc(n),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(bs(n),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let a=0,u=0,f=!0;if(this.forEachChild(hs,(_,C)=>{i[_]=C.val(n),a++,f&&e.INTEGER_REGEXP_.test(_)?u=Math.max(u,Number(_)):f=!1}),!n&&f&&u<2*a){const _=[];for(const C in i)_[C]=i[C];return _}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+wp(this.getPriority().val())+":"),this.forEachChild(hs,(i,a)=>{const u=a.hash();""!==u&&(n+=":"+i+":"+u)}),this.lazyHash_=""===n?"":id(n)}return this.lazyHash_}getPredecessorChildName(n,i,a){const u=this.resolveIndex_(a);if(u){const f=u.getPredecessorKey(new sr(n,i));return f?f.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new sr(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new sr(i,this.children_.get(i)):null}forEachChild(n,i){const a=this.resolveIndex_(n);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,sr.Wrap);let f=u.peek();for(;null!=f&&i.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,sr.Wrap);let f=u.peek();for(;null!=f&&i.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ku?-1:0}withIndex(n){if(n===Fa||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Fa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(hs),u=i.getIterator(hs);let f=a.getNext(),_=u.getNext();for(;f&&_;){if(f.name!==_.name||!f.node.equals(_.node))return!1;f=a.getNext(),_=u.getNext()}return null===f&&null===_}return!1}return!1}}resolveIndex_(n){return n===Fa?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const ku=new class dh extends Fi{constructor(){super(new qa(Ec),Fi.EMPTY_NODE,Ul.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Fi.EMPTY_NODE}isEmpty(){return!1}};function ws(e,t=null){if(null===e)return Fi.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,nt.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new tu(e,ws(t));if(e instanceof Array){let n=Fi.EMPTY_NODE;return no(e,(i,a)=>{if((0,nt.r3)(e,i)&&"."!==i.substring(0,1)){const u=ws(a);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(i,u))}}),n.updatePriority(ws(t))}{const n=[];let i=!1;if(no(e,(f,_)=>{if("."!==f.substring(0,1)){const C=ws(_);C.isEmpty()||(i=i||!C.getPriority().isEmpty(),n.push(new sr(f,C)))}}),0===n.length)return Fi.EMPTY_NODE;const u=df(n,Um,f=>f.name,Ec);if(i){const f=df(n,hs.getCompare());return new Fi(u,ws(t),new Ul({".priority":f},{".priority":hs}))}return new Fi(u,ws(t),Ul.Default)}}Object.defineProperties(sr,{MIN:{value:new sr(Ar,Fi.EMPTY_NODE)},MAX:{value:new sr(hl,ku)}}),Vm.__EMPTY_NODE=Fi.EMPTY_NODE,tu.__childrenNodeConstructor=Fi,function Hm(e){pl=e}(ku),function O_(e){cf=e}(ku),function Lo(e){k_=e}(ws);class hh extends vp{constructor(t){super(),this.indexPath_=t,(0,nt.hu)(!Pi(t)&&".priority"!==Oi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),a=this.extractChild(n.node),u=i.compareTo(a);return 0===u?wc(t.name,n.name):u}makePost(t,n){const i=ws(t),a=Fi.EMPTY_NODE.updateChild(this.indexPath_,i);return new sr(n,a)}maxPost(){const t=Fi.EMPTY_NODE.updateChild(this.indexPath_,ku);return new sr(hl,t)}toString(){return ud(this.indexPath_,0).join("/")}}const $m=new class P_ extends vp{compare(t,n){const i=t.node.compareTo(n.node);return 0===i?wc(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return sr.MIN}maxPost(){return sr.MAX}makePost(t,n){const i=ws(t);return new sr(n,i)}toString(){return".value"}},Ou="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ay=function(){let e=0;const t=[];return function(n){const i=n===e;let a;e=n;const u=new Array(8);for(a=7;a>=0;a--)u[a]=Ou.charAt(n%64),n=Math.floor(n/64);(0,nt.hu)(0===n,"Cannot push at time == 0");let f=u.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Ou.charAt(t[a]);return(0,nt.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),ml=function(e){if(e===""+tf)return"-";const t=nf(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let f=0;f<n.length;f++)n[f]=e.charAt(f);if(n.length<786)return n.push("-"),n.join("");let i=n.length-1;for(;i>=0&&"z"===n[i];)i--;if(-1===i)return hl;const u=Ou.charAt(Ou.indexOf(n[i])+1);return n[i]=u,n.slice(0,i+1).join("")},F_=function(e){if(e===""+sd)return Ar;const t=nf(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return"-"===n[n.length-1]?1===n.length?""+tf:(delete n[n.length-1],n.join("")):(n[n.length-1]=Ou.charAt(Ou.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Pu(e){return{type:"value",snapshotNode:e}}function ac(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ff{constructor(t){this.index_=t}updateChild(t,n,i,a,u,f){(0,nt.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(n);return _.getChild(a).equals(i.getChild(a))&&_.isEmpty()===i.isEmpty()||(null!=f&&(i.isEmpty()?t.hasChild(n)?f.trackChildChange(fd(n,_)):(0,nt.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?f.trackChildChange(ac(n,i)):f.trackChildChange(Fu(n,i,_))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return null!=i&&(t.isLeafNode()||t.forEachChild(hs,(a,u)=>{n.hasChild(a)||i.trackChildChange(fd(a,u))}),n.isLeafNode()||n.forEachChild(hs,(a,u)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(u)||i.trackChildChange(Fu(a,u,f))}else i.trackChildChange(ac(a,u))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Fi.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fh{constructor(t){this.indexedFilter_=new ff(t.getIndex()),this.index_=t.getIndex(),this.startPost_=fh.getStartPost_(t),this.endPost_=fh.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,a,u,f){return this.matches(new sr(n,i))||(i=Fi.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,a,u,f)}updateFullNode(t,n,i){n.isLeafNode()&&(n=Fi.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Fi.EMPTY_NODE);const u=this;return n.forEachChild(hs,(f,_)=>{u.matches(new sr(f,_))||(a=a.updateImmediateChild(f,Fi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class Ty{constructor(t){this.rangedFilter_=new fh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,a,u,f){return this.rangedFilter_.matches(new sr(n,i))||(i=Fi.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,a,u,f):this.fullLimitUpdateChild_(t,n,i,u,f)}updateFullNode(t,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=Fi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let u;a=Fi.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const _=u.getNext();let C;if(C=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!C)break;a=a.updateImmediateChild(_.name,_.node),f++}}else{let u,f,_,C;if(a=n.withIndex(this.index_),a=a.updatePriority(Fi.EMPTY_NODE),this.reverse_){C=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const ve=this.index_.getCompare();_=(qe,vt)=>ve(vt,qe)}else C=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let T=0,re=!1;for(;C.hasNext();){const ve=C.getNext();!re&&_(u,ve)<=0&&(re=!0),re&&T<this.limit_&&_(ve,f)<=0?T++:a=a.updateImmediateChild(ve.name,Fi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,a,u){let f;if(this.reverse_){const ve=this.index_.getCompare();f=(qe,vt)=>ve(vt,qe)}else f=this.index_.getCompare();const _=t;(0,nt.hu)(_.numChildren()===this.limit_,"");const C=new sr(n,i),T=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),re=this.rangedFilter_.matches(C);if(_.hasChild(n)){const ve=_.getImmediateChild(n);let qe=a.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=qe&&(qe.name===n||_.hasChild(qe.name));)qe=a.getChildAfterChild(this.index_,qe,this.reverse_);const vt=null==qe?1:f(qe,C);if(re&&!i.isEmpty()&&vt>=0)return u?.trackChildChange(Fu(n,i,ve)),_.updateImmediateChild(n,i);{u?.trackChildChange(fd(n,ve));const tn=_.updateImmediateChild(n,Fi.EMPTY_NODE);return null!=qe&&this.rangedFilter_.matches(qe)?(u?.trackChildChange(ac(qe.name,qe.node)),tn.updateImmediateChild(qe.name,qe.node)):tn}}return i.isEmpty()?t:re&&f(T,C)>=0?(null!=u&&(u.trackChildChange(fd(T.name,T.node)),u.trackChildChange(ac(n,i))),_.updateImmediateChild(n,i).updateImmediateChild(T.name,Fi.EMPTY_NODE)):t}}class ph{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hs}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,nt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,nt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,nt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,nt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,nt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hs}copy(){const t=new ph;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pf(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function mh(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function pd(e,t){const n=e.copy();return n.index_=t,n}function mf(e){const t={};if(e.isDefault())return t;let n;return e.index_===hs?n="$priority":e.index_===$m?n="$value":e.index_===Fa?n="$key":((0,nt.hu)(e.index_ instanceof hh,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,nt.Pz)(n),e.startSet_&&(t.startAt=(0,nt.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,nt.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,nt.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,nt.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ep(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==hs&&(t.i=e.index_.toString()),t}class _h extends D_{constructor(t,n,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Bl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:((0,nt.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=_h.getListenId_(t,i),_={};this.listens_[f]=_;const C=mf(t._queryParams);this.restRequest_(u+".json",C,(T,re)=>{let ve=re;if(404===T&&(ve=null,T=null),null===T&&this.onDataUpdate_(u,ve,!1,i),(0,nt.DV)(this.listens_,f)===_){let qe;qe=T?401===T?"permission_denied":"rest_error:"+T:"ok",a(qe,null)}})}unlisten(t,n){const i=_h.getListenId_(t,n);delete this.listens_[i]}get(t){const n=mf(t._queryParams),i=t._path.toString(),a=new nt.BH;return this.restRequest_(i+".json",n,(u,f)=>{let _=f;404===u&&(_=null,u=null),null===u?(this.onDataUpdate_(i,_,!1,null),a.resolve(_)):a.reject(new Error(_))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(n.auth=a.accessToken),u&&u.token&&(n.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,nt.xO)(n);this.log_("Sending REST request for "+f);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+f+" received. status:",_.status,"response:",_.responseText);let C=null;if(_.status>=200&&_.status<300){try{C=(0,nt.cI)(_.responseText)}catch{Po("Failed to parse JSON response for "+f+": "+_.responseText)}i(null,C)}else 401!==_.status&&404!==_.status&&Po("Got unsuccessful REST response for "+f+" Status: "+_.status),i(_.status);i=null}},_.open("GET",f,!0),_.send()})}}class Ry{constructor(){this.rootNode_=Fi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function gf(){return{value:null,children:new Map}}function Lu(e,t,n){if(Pi(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=Oi(t);e.children.has(i)||e.children.set(i,gf()),Lu(e.children.get(i),t=bs(t),n)}}function nu(e,t){if(Pi(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(hs,(i,a)=>{Lu(e,new tr(i),a)}),nu(e,t)}}if(e.children.size>0){const n=Oi(t);return t=bs(t),e.children.has(n)&&nu(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function Zm(e,t,n){null!==e.value?n(t,e.value):function qm(e,t){e.children.forEach((n,i)=>{t(i,n)})}(e,(i,a)=>{Zm(a,new tr(t.toString()+"/"+i),n)})}class xp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&no(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=t,n}}class ky{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xp(t);const i=1e4+2e4*Math.random();Cc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;no(t,(a,u)=>{u>0&&(0,nt.r3)(this.statsToReport_,a)&&(n[a]=u,i=!0)}),i&&this.server_.reportStats(n),Cc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Hl=(()=>{return(e=Hl||(Hl={}))[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Hl;var e})();function Qm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class iu{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Hl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pi(this.path)){if(null!=this.affectedTree.value)return(0,nt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new tr(t));return new iu(Ri(),n,this.revert)}}return(0,nt.hu)(Oi(this.path)===t,"operationForChild called for unrelated child."),new iu(bs(this.path),this.affectedTree,this.revert)}}class ru{constructor(t,n){this.source=t,this.path=n,this.type=Hl.LISTEN_COMPLETE}operationForChild(t){return Pi(this.path)?new ru(this.source,Ri()):new ru(this.source,bs(this.path))}}class xc{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Hl.OVERWRITE}operationForChild(t){return Pi(this.path)?new xc(this.source,Ri(),this.snap.getImmediateChild(t)):new xc(this.source,bs(this.path),this.snap)}}class Qa{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Hl.MERGE}operationForChild(t){if(Pi(this.path)){const n=this.children.subtree(new tr(t));return n.isEmpty()?null:n.value?new xc(this.source,Ri(),n.value):new Qa(this.source,Ri(),n)}return(0,nt.hu)(Oi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qa(this.source,bs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mc{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pi(t))return this.isFullyInitialized()&&!this.filtered_;const n=Oi(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class yf{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function md(e,t,n,i,a,u){const f=i.filter(_=>_.type===n);f.sort((_,C)=>function Xm(e,t,n){if(null==t.childName||null==n.childName)throw(0,nt.g5)("Should only compare child_ events.");const i=new sr(t.childName,t.snapshotNode),a=new sr(n.childName,n.snapshotNode);return e.index_.compare(i,a)}(e,_,C)),f.forEach(_=>{const C=function V_(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,_,u);a.forEach(T=>{T.respondsTo(_.type)&&t.push(T.createEvent(C,e.query_))})})}function yh(e,t){return{eventCache:e,serverCache:t}}function gl(e,t,n,i){return yh(new Mc(t,n,i),e.serverCache)}function Jm(e,t,n,i){return yh(e.eventCache,new Mc(t,n,i))}function bf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ic(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let wf;class es{constructor(t,n=(()=>(wf||(wf=new qa(ef)),wf))()){this.value=t,this.children=n}static fromObject(t){let n=new es(null);return no(t,(i,a)=>{n=n.set(new tr(i),a)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:Ri(),value:this.value};if(Pi(t))return null;{const i=Oi(t),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(bs(t),n);return null!=u?{path:ds(new tr(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Pi(t))return this;{const n=Oi(t),i=this.children.get(n);return null!==i?i.subtree(bs(t)):new es(null)}}set(t,n){if(Pi(t))return new es(n,this.children);{const i=Oi(t),u=(this.children.get(i)||new es(null)).set(bs(t),n),f=this.children.insert(i,u);return new es(this.value,f)}}remove(t){if(Pi(t))return this.children.isEmpty()?new es(null):new es(null,this.children);{const n=Oi(t),i=this.children.get(n);if(i){const a=i.remove(bs(t));let u;return u=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&u.isEmpty()?new es(null):new es(this.value,u)}return this}}get(t){if(Pi(t))return this.value;{const n=Oi(t),i=this.children.get(n);return i?i.get(bs(t)):null}}setTree(t,n){if(Pi(t))return n;{const i=Oi(t),u=(this.children.get(i)||new es(null)).setTree(bs(t),n);let f;return f=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new es(this.value,f)}}fold(t){return this.fold_(Ri(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(ds(t,a),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Ri(),n)}findOnPath_(t,n,i){const a=!!this.value&&i(n,this.value);if(a)return a;if(Pi(t))return null;{const u=Oi(t),f=this.children.get(u);return f?f.findOnPath_(bs(t),ds(n,u),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Ri(),n)}foreachOnPath_(t,n,i){if(Pi(t))return this;{this.value&&i(n,this.value);const a=Oi(t),u=this.children.get(a);return u?u.foreachOnPath_(bs(t),ds(n,a),i):new es(null)}}foreach(t){this.foreach_(Ri(),t)}foreach_(t,n){this.children.inorderTraversal((i,a)=>{a.foreach_(ds(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}class _l{constructor(t){this.writeTree_=t}static empty(){return new _l(new es(null))}}function gd(e,t,n){if(Pi(t))return new _l(new es(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let u=i.value;const f=Qo(a,t);return u=u.updateChild(f,n),new _l(e.writeTree_.set(a,u))}{const a=new es(n),u=e.writeTree_.setTree(t,a);return new _l(u)}}}function Sc(e,t,n){let i=e;return no(n,(a,u)=>{i=gd(i,ds(t,a),u)}),i}function Sp(e,t){if(Pi(t))return _l.empty();{const n=e.writeTree_.setTree(t,new es(null));return new _l(n)}}function su(e,t){return null!=jl(e,t)}function jl(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Qo(n.path,t)):null}function Gl(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hs,(i,a)=>{t.push(new sr(i,a))}):e.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new sr(i,a.value))}),t}function ou(e,t){if(Pi(t))return e;{const n=jl(e,t);return new _l(null!=n?new es(n):e.writeTree_.subtree(t))}}function Ap(e){return e.writeTree_.isEmpty()}function au(e,t){return Ac(Ri(),e.writeTree_,t)}function Ac(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,nt.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):n=Ac(ds(e,a),u,n)}),!n.getChild(e).isEmpty()&&null!==i&&(n=n.updateChild(ds(e,".priority"),i)),n}}function Nu(e,t){return Mh(t,e)}function fv(e,t){if(e.snap)return oa(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&oa(ds(e.path,n),t))return!0;return!1}function Df(e){return e.visible}function bh(e,t,n){let i=_l.empty();for(let a=0;a<e.length;++a){const u=e[a];if(t(u)){const f=u.path;let _;if(u.snap)oa(n,f)?(_=Qo(n,f),i=gd(i,_,u.snap)):oa(f,n)&&(_=Qo(f,n),i=gd(i,Ri(),u.snap.getChild(_)));else{if(!u.children)throw(0,nt.g5)("WriteRecord should have .snap or .children");if(oa(n,f))_=Qo(n,f),i=Sc(i,_,u.children);else if(oa(f,n))if(_=Qo(f,n),Pi(_))i=Sc(i,Ri(),u.children);else{const C=(0,nt.DV)(u.children,Oi(_));if(C){const T=C.getChild(bs(_));i=gd(i,Ri(),T)}}}}}return i}function wh(e,t,n,i,a){if(i||a){const u=ou(e.visibleWrites,t);return!a&&Ap(u)?n:a||null!=n||su(u,Ri())?au(bh(e.allWrites,function(T){return(T.visible||a)&&(!i||!~i.indexOf(T.writeId))&&(oa(T.path,t)||oa(t,T.path))},t),n||Fi.EMPTY_NODE):null}{const u=jl(e.visibleWrites,t);if(null!=u)return u;{const f=ou(e.visibleWrites,t);return Ap(f)?n:null!=n||su(f,Ri())?au(f,n||Fi.EMPTY_NODE):null}}}function Eh(e,t,n,i){return wh(e.writeTree,e.treePath,t,n,i)}function _d(e,t){return function Ef(e,t,n){let i=Fi.EMPTY_NODE;const a=jl(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(hs,(u,f)=>{i=i.updateImmediateChild(u,f)}),i;if(n){const u=ou(e.visibleWrites,t);return n.forEachChild(hs,(f,_)=>{const C=au(ou(u,new tr(f)),_);i=i.updateImmediateChild(f,C)}),Gl(u).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}return Gl(ou(e.visibleWrites,t)).forEach(f=>{i=i.updateImmediateChild(f.name,f.node)}),i}(e.writeTree,e.treePath,t)}function j_(e,t,n,i){return function xf(e,t,n,i,a){(0,nt.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=ds(t,n);if(su(e.visibleWrites,u))return null;{const f=ou(e.visibleWrites,u);return Ap(f)?a.getChild(n):au(f,a.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function tg(e,t){return function eg(e,t){return jl(e.visibleWrites,t)}(e.writeTree,ds(e.treePath,t))}function xh(e,t,n){return function Bu(e,t,n,i){const a=ds(t,n),u=jl(e.visibleWrites,a);return null!=u?u:i.isCompleteForChild(n)?au(ou(e.visibleWrites,a),i.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function kp(e,t){return Mh(ds(e.treePath,t),e.writeTree)}function Mh(e,t){return{treePath:e,writeTree:t}}class pv{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;(0,nt.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,nt.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===n&&"child_removed"===u)this.changeMap.set(i,Fu(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===n&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===u)this.changeMap.set(i,fd(i,a.oldSnap));else if("child_changed"===n&&"child_added"===u)this.changeMap.set(i,ac(i,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==u)throw(0,nt.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,Fu(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const ng=new class mv{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}};class Op{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Mc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xh(this.writes_,t,i)}}getChildAfterChild(t,n,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ic(this.viewCache_),u=function Rp(e,t,n,i,a,u){return function Ch(e,t,n,i,a,u,f){let _;const C=ou(e.visibleWrites,t),T=jl(C,Ri());if(null!=T)_=T;else{if(null==n)return[];_=au(C,n)}if(_=_.withIndex(f),_.isEmpty()||_.isLeafNode())return[];{const re=[],ve=f.getCompare(),qe=u?_.getReverseIteratorFrom(i,f):_.getIteratorFrom(i,f);let vt=qe.getNext();for(;vt&&re.length<a;)0!==ve(vt,i)&&re.push(vt),vt=qe.getNext();return re}}(e.writeTree,e.treePath,t,n,i,a,u)}(this.writes_,a,n,1,i,t);return 0===u.length?null:u[0]}}function G_(e,t,n,i,a,u){const f=t.eventCache;if(null!=tg(i,n))return t;{let _,C;if(Pi(n))if((0,nt.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const T=Ic(t),ve=_d(i,T instanceof Fi?T:Fi.EMPTY_NODE);_=e.filter.updateFullNode(t.eventCache.getNode(),ve,u)}else{const T=Eh(i,Ic(t));_=e.filter.updateFullNode(t.eventCache.getNode(),T,u)}else{const T=Oi(n);if(".priority"===T){(0,nt.hu)(1===qc(n),"Can't have a priority with additional path components");const re=f.getNode();C=t.serverCache.getNode();const ve=j_(i,n,re,C);_=null!=ve?e.filter.updatePriority(re,ve):f.getNode()}else{const re=bs(n);let ve;if(f.isCompleteForChild(T)){C=t.serverCache.getNode();const qe=j_(i,n,f.getNode(),C);ve=null!=qe?f.getNode().getImmediateChild(T).updateChild(re,qe):f.getNode().getImmediateChild(T)}else ve=xh(i,T,t.serverCache);_=null!=ve?e.filter.updateChild(f.getNode(),T,ve,re,a,u):f.getNode()}}return gl(t,_,f.isFullyInitialized()||Pi(n),e.filter.filtersNodes())}}function Pp(e,t,n,i,a,u,f,_){const C=t.serverCache;let T;const re=f?e.filter:e.filter.getIndexedFilter();if(Pi(n))T=re.updateFullNode(C.getNode(),i,null);else if(re.filtersNodes()&&!C.isFiltered()){const vt=C.getNode().updateChild(n,i);T=re.updateFullNode(C.getNode(),vt,null)}else{const vt=Oi(n);if(!C.isCompleteForPath(n)&&qc(n)>1)return t;const kt=bs(n),An=C.getNode().getImmediateChild(vt).updateChild(kt,i);T=".priority"===vt?re.updatePriority(C.getNode(),An):re.updateChild(C.getNode(),vt,An,kt,ng,null)}const ve=Jm(t,T,C.isFullyInitialized()||Pi(n),re.filtersNodes());return G_(e,ve,n,a,new Op(a,ve,u),_)}function lc(e,t,n,i,a,u,f){const _=t.eventCache;let C,T;const re=new Op(a,t,u);if(Pi(n))T=e.filter.updateFullNode(t.eventCache.getNode(),i,f),C=gl(t,T,!0,e.filter.filtersNodes());else{const ve=Oi(n);if(".priority"===ve)T=e.filter.updatePriority(t.eventCache.getNode(),i),C=gl(t,T,_.isFullyInitialized(),_.isFiltered());else{const qe=bs(n),vt=_.getNode().getImmediateChild(ve);let kt;if(Pi(qe))kt=i;else{const tn=re.getCompleteChild(ve);kt=null!=tn?".priority"===M_(qe)&&tn.getChild(sc(qe)).isEmpty()?tn:tn.updateChild(qe,i):Fi.EMPTY_NODE}C=vt.equals(kt)?t:gl(t,e.filter.updateChild(_.getNode(),ve,kt,qe,re,f),_.isFullyInitialized(),e.filter.filtersNodes())}}return C}function Fp(e,t){return e.eventCache.isCompleteForChild(t)}function ig(e,t,n){return n.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function Mf(e,t,n,i,a,u,f,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let T,C=t;T=Pi(n)?i:new es(null).setTree(n,i);const re=t.serverCache.getNode();return T.children.inorderTraversal((ve,qe)=>{if(re.hasChild(ve)){const kt=ig(0,t.serverCache.getNode().getImmediateChild(ve),qe);C=Pp(e,C,new tr(ve),kt,a,u,f,_)}}),T.children.inorderTraversal((ve,qe)=>{const vt=!t.serverCache.isCompleteForChild(ve)&&null===qe.value;if(!re.hasChild(ve)&&!vt){const tn=ig(0,t.serverCache.getNode().getImmediateChild(ve),qe);C=Pp(e,C,new tr(ve),tn,a,u,f,_)}}),C}class Vu{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new ff(i.getIndex()),u=function Gi(e){return e.loadsAllData()?new ff(e.getIndex()):e.hasLimit()?new Ty(e):new fh(e)}(i);this.processor_=function gv(e){return{filter:e}}(u);const f=n.serverCache,_=n.eventCache,C=a.updateFullNode(Fi.EMPTY_NODE,f.getNode(),null),T=u.updateFullNode(Fi.EMPTY_NODE,_.getNode(),null),re=new Mc(C,f.isFullyInitialized(),a.filtersNodes()),ve=new Mc(T,_.isFullyInitialized(),u.filtersNodes());this.viewCache_=yh(ve,re),this.eventGenerator_=new yf(this.query_)}get query(){return this.query_}}function sg(e,t){const n=Ic(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Pi(t)&&!n.getImmediateChild(Oi(t)).isEmpty())?n.getChild(t):null}function Bp(e){return 0===e.eventRegistrations_.length}function ag(e,t,n){const i=[];if(n){(0,nt.hu)(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(n,a);f&&i.push(f)})}if(t){let a=[];for(let u=0;u<e.eventRegistrations_.length;++u){const f=e.eventRegistrations_[u];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(u+1));break}}else a.push(f)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function Sf(e,t,n,i){t.type===Hl.MERGE&&null!==t.source.queryId&&((0,nt.hu)(Ic(e.viewCache_),"We should always have a full cache before handling merges"),(0,nt.hu)(bf(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,u=function _v(e,t,n,i,a){const u=new pv;let f,_;if(n.type===Hl.OVERWRITE){const T=n;T.source.fromUser?f=lc(e,t,T.path,T.snap,i,a,u):((0,nt.hu)(T.source.fromServer,"Unknown source."),_=T.source.tagged||t.serverCache.isFiltered()&&!Pi(T.path),f=Pp(e,t,T.path,T.snap,i,a,_,u))}else if(n.type===Hl.MERGE){const T=n;T.source.fromUser?f=function Fy(e,t,n,i,a,u,f){let _=t;return i.foreach((C,T)=>{const re=ds(n,C);Fp(t,Oi(re))&&(_=lc(e,_,re,T,a,u,f))}),i.foreach((C,T)=>{const re=ds(n,C);Fp(t,Oi(re))||(_=lc(e,_,re,T,a,u,f))}),_}(e,t,T.path,T.children,i,a,u):((0,nt.hu)(T.source.fromServer,"Unknown source."),_=T.source.tagged||t.serverCache.isFiltered(),f=Mf(e,t,T.path,T.children,i,a,_,u))}else if(n.type===Hl.ACK_USER_WRITE){const T=n;f=T.revert?function rg(e,t,n,i,a,u){let f;if(null!=tg(i,n))return t;{const _=new Op(i,t,a),C=t.eventCache.getNode();let T;if(Pi(n)||".priority"===Oi(n)){let re;if(t.serverCache.isFullyInitialized())re=Eh(i,Ic(t));else{const ve=t.serverCache.getNode();(0,nt.hu)(ve instanceof Fi,"serverChildren would be complete if leaf node"),re=_d(i,ve)}T=e.filter.updateFullNode(C,re,u)}else{const re=Oi(n);let ve=xh(i,re,t.serverCache);null==ve&&t.serverCache.isCompleteForChild(re)&&(ve=C.getImmediateChild(re)),T=null!=ve?e.filter.updateChild(C,re,ve,bs(n),_,u):t.eventCache.getNode().hasChild(re)?e.filter.updateChild(C,re,Fi.EMPTY_NODE,bs(n),_,u):C,T.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Eh(i,Ic(t)),f.isLeafNode()&&(T=e.filter.updateFullNode(T,f,u)))}return f=t.serverCache.isFullyInitialized()||null!=tg(i,Ri()),gl(t,T,f,e.filter.filtersNodes())}}(e,t,T.path,i,a,u):function Lp(e,t,n,i,a,u,f){if(null!=tg(a,n))return t;const _=t.serverCache.isFiltered(),C=t.serverCache;if(null!=i.value){if(Pi(n)&&C.isFullyInitialized()||C.isCompleteForPath(n))return Pp(e,t,n,C.getNode().getChild(n),a,u,_,f);if(Pi(n)){let T=new es(null);return C.getNode().forEachChild(Fa,(re,ve)=>{T=T.set(new tr(re),ve)}),Mf(e,t,n,T,a,u,_,f)}return t}{let T=new es(null);return i.foreach((re,ve)=>{const qe=ds(n,re);C.isCompleteForPath(qe)&&(T=T.set(re,C.getNode().getChild(qe)))}),Mf(e,t,n,T,a,u,_,f)}}(e,t,T.path,T.affectedTree,i,a,u)}else{if(n.type!==Hl.LISTEN_COMPLETE)throw(0,nt.g5)("Unknown operation type: "+n.type);f=function If(e,t,n,i,a){const u=t.serverCache;return G_(e,Jm(t,u.getNode(),u.isFullyInitialized()||Pi(n),u.isFiltered()),n,i,ng,a)}(e,t,n.path,i,u)}const C=u.getChanges();return function Py(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=bf(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&n.push(Pu(bf(t)))}}(t,f,C),{viewCache:f,changes:C}}(e.processor_,a,t,n,i);return function Oy(e,t){(0,nt.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,nt.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,u.viewCache),(0,nt.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Vp(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Vp(e,t,n,i){return function vf(e,t,n,i){const a=[],u=[];return t.forEach(f=>{"child_changed"===f.type&&e.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(function L_(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(f.childName,f.snapshotNode))}),md(e,a,"child_removed",t,i,n),md(e,a,"child_added",t,i,n),md(e,a,"child_moved",u,i,n),md(e,a,"child_changed",t,i,n),md(e,a,"value",t,i,n),a}(e.eventGenerator_,t,n,i?[i]:e.eventRegistrations_)}let cc,vd;class Af{constructor(){this.views=new Map}}function Ih(e,t,n,i){const a=t.source.queryId;if(null!==a){const u=e.views.get(a);return(0,nt.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Sf(u,t,n,i)}{let u=[];for(const f of e.views.values())u=u.concat(Sf(f,t,n,i));return u}}function Sh(e,t,n,i,a){const f=e.views.get(t._queryIdentifier);if(!f){let _=Eh(n,a?i:null),C=!1;_?C=!0:i instanceof Fi?(_=_d(n,i),C=!1):(_=Fi.EMPTY_NODE,C=!1);const T=yh(new Mc(_,C,!1),new Mc(i,a,!1));return new Vu(t,T)}return f}function Ah(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ju(e,t){let n=null;for(const i of e.views.values())n=n||sg(i,t);return n}function cg(e,t){return t._queryParams.loadsAllData()?Hp(e):e.views.get(t._queryIdentifier)}function Tc(e,t){return null!=cg(e,t)}function uc(e){return null!=Hp(e)}function Hp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let La=1;class ug{constructor(t){this.listenProvider_=t,this.syncPointTree_=new es(null),this.pendingWriteTree_=function Dh(){return{visibleWrites:_l.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Tf(e,t,n,i,a){return function H_(e,t,n,i,a){(0,nt.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:a}),a&&(e.visibleWrites=gd(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,a),a?lu(e,new xc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Rc(e,t,n=!1){const i=function hv(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(function Tp(e,t){const n=e.allWrites.findIndex(_=>_.writeId===t);(0,nt.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let a=i.visible,u=!1,f=e.allWrites.length-1;for(;a&&f>=0;){const _=e.allWrites[f];_.visible&&(f>=n&&fv(_,i.path)?a=!1:oa(i.path,_.path)&&(u=!0)),f--}return!!a&&(u?(function vh(e){e.visibleWrites=bh(e.allWrites,Df,Ri()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=Sp(e.visibleWrites,i.path):no(i.children,C=>{e.visibleWrites=Sp(e.visibleWrites,ds(i.path,C))}),!0))}(e.pendingWriteTree_,t)){let u=new es(null);return null!=i.snap?u=u.set(Ri(),!0):no(i.children,f=>{u=u.set(new tr(f),!0)}),lu(e,new iu(i.path,u,n))}return[]}function bd(e,t,n){return lu(e,new xc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Rf(e,t,n,i,a=!1){const u=t._path,f=e.syncPointTree_.get(u);let _=[];if(f&&("default"===t._queryIdentifier||Tc(f,t))){const C=function lg(e,t,n,i){const a=t._queryIdentifier,u=[];let f=[];const _=uc(e);if("default"===a)for(const[C,T]of e.views.entries())f=f.concat(ag(T,n,i)),Bp(T)&&(e.views.delete(C),T.query._queryParams.loadsAllData()||u.push(T.query));else{const C=e.views.get(a);C&&(f=f.concat(ag(C,n,i)),Bp(C)&&(e.views.delete(a),C.query._queryParams.loadsAllData()||u.push(C.query)))}return _&&!uc(e)&&u.push(new(function Ny(){return(0,nt.hu)(cc,"Reference.ts has not been loaded"),cc}())(t._repo,t._path)),{removed:u,events:f}}(f,t,n,i);(function Up(e){return 0===e.views.size})(f)&&(e.syncPointTree_=e.syncPointTree_.remove(u));const T=C.removed;if(_=C.events,!a){const re=-1!==T.findIndex(qe=>qe._queryParams.loadsAllData()),ve=e.syncPointTree_.findOnPath(u,(qe,vt)=>uc(vt));if(re&&!ve){const qe=e.syncPointTree_.subtree(u);if(!qe.isEmpty()){const vt=function Uy(e){return e.fold((t,n,i)=>{if(n&&uc(n))return[Hp(n)];{let a=[];return n&&(a=Ah(n)),no(i,(u,f)=>{a=a.concat(f)}),a}})}(qe);for(let kt=0;kt<vt.length;++kt){const tn=vt[kt],An=tn.query,Zn=$l(e,tn);e.listenProvider_.startListening(Pf(An),Gu(e,An),Zn.hashFn,Zn.onComplete)}}}!ve&&T.length>0&&!i&&(re?e.listenProvider_.stopListening(Pf(t),null):T.forEach(qe=>{const vt=e.queryToTagMap.get($p(qe));e.listenProvider_.stopListening(Pf(qe),vt)}))}!function Hy(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const a=$p(i),u=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(u)}}}(e,T)}return _}function hg(e,t,n,i){const a=Of(e,i);if(null!=a){const u=pg(a),f=u.path,_=u.queryId,C=Qo(f,t);return wd(e,f,new xc(Qm(_),C,n))}return[]}function Th(e,t,n,i=!1){const a=t._path;let u=null,f=!1;e.syncPointTree_.foreachOnPath(a,(qe,vt)=>{const kt=Qo(qe,a);u=u||ju(vt,kt),f=f||uc(vt)});let C,_=e.syncPointTree_.get(a);_?(f=f||uc(_),u=u||ju(_,Ri())):(_=new Af,e.syncPointTree_=e.syncPointTree_.set(a,_)),null!=u?C=!0:(C=!1,u=Fi.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((vt,kt)=>{const tn=ju(kt,Ri());tn&&(u=u.updateImmediateChild(vt,tn))}));const T=Tc(_,t);if(!T&&!t._queryParams.loadsAllData()){const qe=$p(t);(0,nt.hu)(!e.queryToTagMap.has(qe),"View does not exist, but we have a tag");const vt=function mg(){return La++}();e.queryToTagMap.set(qe,vt),e.tagToQueryMap.set(vt,qe)}let ve=function Hu(e,t,n,i,a,u){const f=Sh(e,t,i,a,u);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,f),function og(e,t){e.eventRegistrations_.push(t)}(f,n),function Uu(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(hs,(u,f)=>{i.push(ac(u,f))}),n.isFullyInitialized()&&i.push(Pu(n.getNode())),Vp(e,i,n.getNode(),t)}(f,n)}(_,t,n,Nu(e.pendingWriteTree_,a),u,C);if(!T&&!f&&!i){const qe=cg(_,t);ve=ve.concat(function Y_(e,t,n){const i=t._path,a=Gu(e,t),u=$l(e,n),f=e.listenProvider_.startListening(Pf(t),a,u.hashFn,u.onComplete),_=e.syncPointTree_.subtree(i);if(a)(0,nt.hu)(!uc(_.value),"If we're adding a query, it shouldn't be shadowed");else{const C=_.fold((T,re,ve)=>{if(!Pi(T)&&re&&uc(re))return[Hp(re).query];{let qe=[];return re&&(qe=qe.concat(Ah(re).map(vt=>vt.query))),no(ve,(vt,kt)=>{qe=qe.concat(kt)}),qe}});for(let T=0;T<C.length;++T){const re=C[T];e.listenProvider_.stopListening(Pf(re),Gu(e,re))}}return f}(e,t,qe))}return ve}function Gp(e,t,n){const a=e.pendingWriteTree_,u=e.syncPointTree_.findOnPath(t,(f,_)=>{const T=ju(_,Qo(f,t));if(T)return T});return wh(a,t,u,n,!0)}function lu(e,t){return kf(t,e.syncPointTree_,null,Nu(e.pendingWriteTree_,Ri()))}function kf(e,t,n,i){if(Pi(e.path))return W_(e,t,n,i);{const a=t.get(Ri());null==n&&null!=a&&(n=ju(a,Ri()));let u=[];const f=Oi(e.path),_=e.operationForChild(f),C=t.children.get(f);if(C&&_){const T=n?n.getImmediateChild(f):null,re=kp(i,f);u=u.concat(kf(_,C,T,re))}return a&&(u=u.concat(Ih(a,e,i,n))),u}}function W_(e,t,n,i){const a=t.get(Ri());null==n&&null!=a&&(n=ju(a,Ri()));let u=[];return t.children.inorderTraversal((f,_)=>{const C=n?n.getImmediateChild(f):null,T=kp(i,f),re=e.operationForChild(f);re&&(u=u.concat(W_(re,_,C,T)))}),a&&(u=u.concat(Ih(a,e,i,n))),u}function $l(e,t){const n=t.query,i=Gu(e,n);return{hashFn:()=>(function Np(e){return e.viewCache_.serverCache.getNode()}(t)||Fi.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function dg(e,t,n){const i=Of(e,n);if(i){const a=pg(i),u=a.path,f=a.queryId,_=Qo(u,t);return wd(e,u,new ru(Qm(f),_))}return[]}(e,n._path,i):function z_(e,t){return lu(e,new ru({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const u=function xm(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(a,n);return Rf(e,n,null,u)}}}}function Gu(e,t){const n=$p(t);return e.queryToTagMap.get(n)}function $p(e){return e._path.toString()+"$"+e._queryIdentifier}function Of(e,t){return e.tagToQueryMap.get(t)}function pg(e){const t=e.indexOf("$");return(0,nt.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tr(e.substr(0,t))}}function wd(e,t,n){const i=e.syncPointTree_.get(t);return(0,nt.hu)(i,"Missing sync point for query tag that we're tracking"),Ih(i,n,Nu(e.pendingWriteTree_,t),null)}function Pf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function By(){return(0,nt.hu)(vd,"Reference.ts has not been loaded"),vd}())(e._repo,e._path):e}class Ff{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Ff(n)}node(){return this.node_}}class Cd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ds(this.path_,t);return new Cd(this.syncTree_,n)}node(){return Gp(this.syncTree_,this.path_)}}const zp=function(e,t,n){return e&&"object"==typeof e?((0,nt.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Nf(e[".sv"],t,n):"object"==typeof e[".sv"]?Bf(e[".sv"],t):void(0,nt.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Nf=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,nt.hu)(!1,"Unexpected server value: "+e)},Bf=function(e,t,n){e.hasOwnProperty("increment")||(0,nt.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,nt.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,nt.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const f=a.getValue();return"number"!=typeof f?i:f+i},gg=function(e,t,n,i){return $u(t,new Cd(n,e),i)},_g=function(e,t,n){return $u(e,new Ff(t),n)};function $u(e,t,n){const i=e.getPriority().val(),a=zp(i,t.getImmediateChild(".priority"),n);let u;if(e.isLeafNode()){const f=e,_=zp(f.getValue(),t,n);return _!==f.getValue()||a!==f.getPriority().val()?new tu(_,ws(a)):e}{const f=e;return u=f,a!==f.getPriority().val()&&(u=u.updatePriority(new tu(a))),f.forEachChild(hs,(_,C)=>{const T=$u(C,t.getImmediateChild(_),n);T!==C&&(u=u.updateImmediateChild(_,T))}),u}}class yg{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function Dd(e,t){let n=t instanceof tr?t:new tr(t),i=e,a=Oi(n);for(;null!==a;){const u=(0,nt.DV)(i.node.children,a)||{children:{},childCount:0};i=new yg(a,i,u),n=bs(n),a=Oi(n)}return i}function yl(e){return e.node.value}function Rh(e,t){e.node.value=t,wg(e)}function vg(e){return e.node.childCount>0}function zl(e,t){no(e.node.children,(n,i)=>{t(new yg(n,e,i))})}function kh(e,t,n,i){n&&!i&&t(e),zl(e,a=>{kh(a,t,!0,i)}),n&&i&&t(e)}function kc(e){return new tr(null===e.parent?e.name:kc(e.parent)+"/"+e.name)}function wg(e){null!==e.parent&&function Cg(e,t,n){const i=function bg(e){return void 0===yl(e)&&!vg(e)}(n),a=(0,nt.r3)(e.node.children,t);i&&a?(delete e.node.children[t],e.node.childCount--,wg(e)):!i&&!a&&(e.node.children[t]=n.node,e.node.childCount++,wg(e))}(e.parent,e.name,e)}const K_=/[\[\].#$\/\u0000-\u001F\u007F]/,jy=/[\[\].#$\u0000-\u001F\u007F]/,Yp=10485760,Oc=function(e){return"string"==typeof e&&0!==e.length&&!K_.test(e)},Dg=function(e){return"string"==typeof e&&0!==e.length&&!jy.test(e)},Oh=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!rd(e)||e&&"object"==typeof e&&(0,nt.r3)(e,".sv")},Wl=function(e,t,n,i){i&&void 0===t||nr((0,nt.gK)(e,"value"),t,n)},nr=function(e,t,n){const i=n instanceof tr?new Za(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Qc(i));if("function"==typeof t)throw new Error(e+"contains a function "+Qc(i)+" with contents = "+t.toString());if(rd(t))throw new Error(e+"contains "+t.toString()+" "+Qc(i));if("string"==typeof t&&t.length>Yp/3&&(0,nt.ug)(t)>Yp)throw new Error(e+"contains a string greater than "+Yp+" utf8 bytes "+Qc(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(no(t,(f,_)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(u=!0,!Oc(f)))throw new Error(e+" contains an invalid key ("+f+") "+Qc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function I_(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,nt.ug)(t),dd(e)})(i,f),nr(e,_,i),function ch(e){const t=e.parts_.pop();e.byteLength_-=(0,nt.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&u)throw new Error(e+' contains ".value" child '+Qc(i)+" in addition to actual children.")}},Eg=function(e,t,n,i){if(i&&void 0===t)return;const a=(0,nt.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];no(t,(f,_)=>{const C=new tr(f);if(nr(a,_,ds(n,C)),".priority"===M_(C)&&!Oh(_))throw new Error(a+"contains an invalid value for '"+C.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(C)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const u=ud(i);for(let f=0;f<u.length;f++)if((".priority"!==u[f]||f!==u.length-1)&&!Oc(u[f]))throw new Error(e+"contains an invalid key ("+u[f]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(lh);let a=null;for(n=0;n<t.length;n++){if(i=t[n],null!==a&&oa(a,i))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},Ed=function(e,t,n){if(!n||void 0!==t){if(rd(t))throw new Error((0,nt.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Oh(t))throw new Error((0,nt.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ph=function(e,t,n,i){if(!(i&&void 0===n||Oc(n)))throw new Error((0,nt.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Br=function(e,t,n,i){if(!(i&&void 0===n||Dg(n)))throw new Error((0,nt.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gs=function(e,t){if(".info"===Oi(t))throw new Error(e+" failed = Can't modify data under /.info/")},xg=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Oc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dg(e)}(n))throw new Error((0,nt.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $y{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xd(e,t){let n=null;for(let i=0;i<t.length;i++){const a=t[i],u=a.getPath();null!==n&&!_p(u,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:u}),n.events.push(a)}n&&e.eventLists_.push(n)}function Mg(e,t,n){xd(e,n),q_(e,i=>_p(i,t))}function Xa(e,t,n){xd(e,n),q_(e,i=>oa(i,t)||oa(t,i))}function q_(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const a=e.eventLists_[i];a&&(t(a.path)?(Fh(e.eventLists_[i]),e.eventLists_[i]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Eu&&Io("event: "+n.toString()),th(i)}}}const zu="repo_interrupt";class ts{constructor(t,n,i,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $y,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gf(),this.transactionQueueTree_=new yg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zy(e){const n=e.infoData_.getNode(new tr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Cs(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:zy(e)})}function Ig(e,t,n,i,a){e.dataUpdateCount++;const u=new tr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let f=[];if(a)if(i){const C=(0,nt.UI)(n,T=>ws(T));f=function Vy(e,t,n,i){const a=Of(e,i);if(a){const u=pg(a),f=u.path,_=u.queryId,C=Qo(f,t),T=es.fromObject(n);return wd(e,f,new Qa(Qm(_),C,T))}return[]}(e.serverSyncTree_,u,C,a)}else{const C=ws(n);f=hg(e.serverSyncTree_,u,C,a)}else if(i){const C=(0,nt.UI)(n,T=>ws(T));f=function jp(e,t,n){const i=es.fromObject(n);return lu(e,new Qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,u,C)}else{const C=ws(n);f=bd(e.serverSyncTree_,u,C)}let _=u;f.length>0&&(_=bl(e,u)),Xa(e.eventQueue_,_,f)}function dc(e,t){No(e,"connected",t),!1===t&&function Uf(e){Sd(e,"onDisconnectEvents");const t=Cs(e),n=gf();Zm(e.onDisconnect_,Ri(),(a,u)=>{const f=gg(a,u,e.serverSyncTree_,t);Lu(n,a,f)});let i=[];Zm(n,Ri(),(a,u)=>{i=i.concat(bd(e.serverSyncTree_,a,u));const f=Rg(e,a);bl(e,f)}),e.onDisconnect_=gf(),Xa(e.eventQueue_,Ri(),i)}(e)}function No(e,t,n){const i=new tr("/.info/"+t),a=ws(n);e.infoData_.updateSnapshot(i,a);const u=bd(e.infoSyncTree_,i,a);Xa(e.eventQueue_,i,u)}function Pc(e){return e.nextWriteId_++}function Ja(e,t,n,i,a){Sd(e,"set",{path:t.toString(),value:n,priority:i});const u=Cs(e),f=ws(n,i),_=Gp(e.serverSyncTree_,t),C=_g(f,_,u),T=Pc(e),re=Tf(e.serverSyncTree_,t,C,T,!0);xd(e.eventQueue_,re),e.server_.put(t.toString(),f.val(!0),(qe,vt)=>{const kt="ok"===qe;kt||Po("set at "+t+" failed: "+qe);const tn=Rc(e.serverSyncTree_,T,!kt);Xa(e.eventQueue_,t,tn),uu(0,a,qe,vt)});const ve=Rg(e,t);bl(e,ve),Xa(e.eventQueue_,ve,[])}function Lh(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&nu(e.onDisconnect_,t),uu(0,n,i,a)})}function Md(e,t,n,i){const a=ws(n);e.server_.onDisconnectPut(t.toString(),a.val(!0),(u,f)=>{"ok"===u&&Lu(e.onDisconnect_,t,a),uu(0,i,u,f)})}function aa(e,t,n){let i;i=".info"===Oi(t._path)?Rf(e.infoSyncTree_,t,n):Rf(e.serverSyncTree_,t,n),Mg(e.eventQueue_,t._path,i)}function vl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(zu)}function Sd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Io(n,...t)}function uu(e,t,n,i){t&&th(()=>{if("ok"===n)t(null);else{const a=(n||"error").toUpperCase();let u=a;i&&(u+=": "+i);const f=new Error(u);f.code=a,t(f)}})}function jf(e,t,n){return Gp(e.serverSyncTree_,t,n)||Fi.EMPTY_NODE}function Wu(e,t=e.transactionQueueTree_){if(t||$f(e,t),yl(t)){const n=Tg(e,t);(0,nt.hu)(n.length>0,"Sending zero length transaction queue"),n.every(a=>0===a.status)&&function Q_(e,t,n){const i=n.map(T=>T.currentWriteId),a=jf(e,t,i);let u=a;const f=a.hash();for(let T=0;T<n.length;T++){const re=n[T];(0,nt.hu)(0===re.status,"tryToSendTransactionQueue_: items in queue should all be run."),re.status=1,re.retryCount++;const ve=Qo(t,re.path);u=u.updateChild(ve,re.currentOutputSnapshotRaw)}const _=u.val(!0),C=t;e.server_.put(C.toString(),_,T=>{Sd(e,"transaction put response",{path:C.toString(),status:T});let re=[];if("ok"===T){const ve=[];for(let qe=0;qe<n.length;qe++)n[qe].status=2,re=re.concat(Rc(e.serverSyncTree_,n[qe].currentWriteId)),n[qe].onComplete&&ve.push(()=>n[qe].onComplete(null,!0,n[qe].currentOutputSnapshotResolved)),n[qe].unwatcher();$f(e,Dd(e.transactionQueueTree_,t)),Wu(e,e.transactionQueueTree_),Xa(e.eventQueue_,t,re);for(let qe=0;qe<ve.length;qe++)th(ve[qe])}else{if("datastale"===T)for(let ve=0;ve<n.length;ve++)n[ve].status=3===n[ve].status?4:0;else{Po("transaction at "+C.toString()+" failed: "+T);for(let ve=0;ve<n.length;ve++)n[ve].status=4,n[ve].abortReason=T}bl(e,t)}},f)}(e,kc(t),n)}else vg(t)&&zl(t,n=>{Wu(e,n)})}function bl(e,t){const n=Ad(e,t),i=kc(n);return function Gf(e,t,n){if(0===t.length)return;const i=[];let a=[];const f=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const C=t[_],T=Qo(n,C.path);let ve,re=!1;if((0,nt.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===C.status)re=!0,ve=C.abortReason,a=a.concat(Rc(e.serverSyncTree_,C.currentWriteId,!0));else if(0===C.status)if(C.retryCount>=25)re=!0,ve="maxretry",a=a.concat(Rc(e.serverSyncTree_,C.currentWriteId,!0));else{const qe=jf(e,C.path,f);C.currentInputSnapshot=qe;const vt=t[_].update(qe.val());if(void 0!==vt){nr("transaction failed: Data returned ",vt,C.path);let kt=ws(vt);"object"==typeof vt&&null!=vt&&(0,nt.r3)(vt,".priority")||(kt=kt.updatePriority(qe.getPriority()));const An=C.currentWriteId,Zn=Cs(e),Xn=_g(kt,qe,Zn);C.currentOutputSnapshotRaw=kt,C.currentOutputSnapshotResolved=Xn,C.currentWriteId=Pc(e),f.splice(f.indexOf(An),1),a=a.concat(Tf(e.serverSyncTree_,C.path,Xn,C.currentWriteId,C.applyLocally)),a=a.concat(Rc(e.serverSyncTree_,An,!0))}else re=!0,ve="nodata",a=a.concat(Rc(e.serverSyncTree_,C.currentWriteId,!0))}Xa(e.eventQueue_,n,a),a=[],re&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&i.push("nodata"===ve?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(ve),!1,null)))}$f(e,e.transactionQueueTree_);for(let _=0;_<i.length;_++)th(i[_]);Wu(e,e.transactionQueueTree_)}(e,Tg(e,n),i),i}function Ad(e,t){let n,i=e.transactionQueueTree_;for(n=Oi(t);null!==n&&void 0===yl(i);)i=Dd(i,n),n=Oi(t=bs(t));return i}function Tg(e,t){const n=[];return Zp(e,t,n),n.sort((i,a)=>i.order-a.order),n}function Zp(e,t,n){const i=yl(t);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);zl(t,a=>{Zp(e,a,n)})}function $f(e,t){const n=yl(t);if(n){let i=0;for(let a=0;a<n.length;a++)2!==n[a].status&&(n[i]=n[a],i++);n.length=i,Rh(t,n.length>0?n:void 0)}zl(t,i=>{$f(e,i)})}function Rg(e,t){const n=kc(Ad(e,t)),i=Dd(e.transactionQueueTree_,t);return function Wp(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{qp(e,a)}),qp(e,i),kh(i,a=>{qp(e,a)}),n}function qp(e,t){const n=yl(t);if(n){const i=[];let a=[],u=-1;for(let f=0;f<n.length;f++)3===n[f].status||(1===n[f].status?((0,nt.hu)(u===f-1,"All SENT items should be at beginning of queue."),u=f,n[f].status=3,n[f].abortReason="set"):((0,nt.hu)(0===n[f].status,"Unexpected transaction status in abort"),n[f].unwatcher(),a=a.concat(Rc(e.serverSyncTree_,n[f].currentWriteId,!0)),n[f].onComplete&&i.push(n[f].onComplete.bind(null,new Error("set"),!1,null))));-1===u?Rh(t,void 0):n.length=u+1,Xa(e.eventQueue_,kc(t),a);for(let f=0;f<i.length;f++)th(i[f])}}const Qp=function(e,t){const n=Fc(e),i=n.namespace;return"firebase.com"===n.domain&&Vl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&Vl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ih(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,t,"",i!==n.subdomain),path:new tr(n.pathString)}},Fc=function(e){let t="",n="",i="",a="",u="",f=!0,_="https",C=443;if("string"==typeof e){let T=e.indexOf("//");T>=0&&(_=e.substring(0,T-1),e=e.substring(T+2));let re=e.indexOf("/");-1===re&&(re=e.length);let ve=e.indexOf("?");-1===ve&&(ve=e.length),t=e.substring(0,Math.min(re,ve)),re<ve&&(a=function zf(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(e.substring(re,ve)));const qe=function Wf(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Po(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,ve)));T=t.indexOf(":"),T>=0?(f="https"===_||"wss"===_,C=parseInt(t.substring(T+1),10)):T=t.length;const vt=t.slice(0,T);if("localhost"===vt.toLowerCase())n="localhost";else if(vt.split(".").length<=2)n=vt;else{const kt=t.indexOf(".");i=t.substring(0,kt).toLowerCase(),n=t.substring(kt+1),u=i}"ns"in qe&&(u=qe.ns)}return{host:t,port:C,domain:n,subdomain:i,secure:f,scheme:_,pathString:a,namespace:u}};class Nh{constructor(t,n,i,a){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,nt.Pz)(this.snapshot.exportVal())}}class Yf{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Kf{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return(0,nt.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Td{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new nt.BH;return Lh(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Gs("OnDisconnect.remove",this._path);const t=new nt.BH;return Md(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Gs("OnDisconnect.set",this._path),Wl("OnDisconnect.set",t,this._path,!1);const n=new nt.BH;return Md(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Gs("OnDisconnect.setWithPriority",this._path),Wl("OnDisconnect.setWithPriority",t,this._path,!1),Ed("OnDisconnect.setWithPriority",n,!1);const i=new nt.BH;return function Id(e,t,n,i,a){const u=ws(n,i);e.server_.onDisconnectPut(t.toString(),u.val(!0),(f,_)=>{"ok"===f&&Lu(e.onDisconnect_,t,u),uu(0,a,f,_)})}(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Gs("OnDisconnect.update",this._path),Eg("OnDisconnect.update",t,this._path,!1);const n=new nt.BH;return function el(e,t,n,i){if((0,nt.xb)(n))return Io("onDisconnect().update() called with empty data.  Don't do anything."),void uu(0,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(a,u)=>{"ok"===a&&no(n,(f,_)=>{const C=ws(_);Lu(e.onDisconnect_,ds(t,f),C)}),uu(0,i,a,u)})}(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}class la{constructor(t,n,i,a){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return Pi(this._path)?null:M_(this._path)}get ref(){return new ca(this._repo,this._path)}get _queryIdentifier(){const t=Ep(this._queryParams),n=eh(t);return"{}"===n?"default":n}get _queryObject(){return Ep(this._queryParams)}isEqual(t){if(!((t=(0,nt.m9)(t))instanceof la))return!1;const n=this._repo===t._repo,i=_p(this._path,t._path);return n&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gp(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function du(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yl(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fa){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ar)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(e.hasEnd()){if(e.getIndexEndName()!==hl)throw new Error(i);if("string"!=typeof n)throw new Error(a)}}else if(e.getIndex()===hs){if(null!=t&&!Oh(t)||null!=n&&!Oh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,nt.hu)(e.getIndex()instanceof hh||e.getIndex()===$m,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ca extends la{constructor(t,n){super(t,n,new ph,!1)}get parent(){const t=sc(this._path);return null===t?null:new ca(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Yu{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new tr(t),i=Na(this.ref,t);return new Yu(this._node.getChild(n),i,hs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new Yu(a,Na(this.ref,i),hs)))}hasChild(t){const n=new tr(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kd(e,t){return(e=(0,nt.m9)(e))._checkNotDeleted("ref"),void 0!==t?Na(e._root,t):e._root}function Lc(e,t){(e=(0,nt.m9)(e))._checkNotDeleted("refFromURL");const n=Qp(t,e._repo.repoInfo_.nodeAdmin);xg("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Vl("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),kd(e,n.path.toString())}function Na(e,t){return null===Oi((e=(0,nt.m9)(e))._path)?(n=t,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Br("child","path",n,!1)):Br("child","path",t,!1),new ca(e._repo,ds(e._path,t));var n}function qf(e,t){e=(0,nt.m9)(e),Gs("set",e._path),Wl("set",t,e._path,!1);const n=new nt.BH;return Ja(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function fu(e,t){Eg("update",t,e._path,!1);const n=new nt.BH;return function Sg(e,t,n,i){Sd(e,"update",{path:t.toString(),value:n});let a=!0;const u=Cs(e),f={};if(no(n,(_,C)=>{a=!1,f[_]=gg(ds(t,_),ws(C),e.serverSyncTree_,u)}),a)Io("update() called with empty data.  Don't do anything."),uu(0,i,"ok",void 0);else{const _=Pc(e),C=function yv(e,t,n,i){!function Cf(e,t,n,i){(0,nt.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Sc(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const a=es.fromObject(n);return lu(e,new Qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(e.serverSyncTree_,t,f,_);xd(e.eventQueue_,C),e.server_.merge(t.toString(),n,(T,re)=>{const ve="ok"===T;ve||Po("update at "+t+" failed: "+T);const qe=Rc(e.serverSyncTree_,_,!ve),vt=qe.length>0?bl(e,t):t;Xa(e.eventQueue_,vt,qe),uu(0,i,T,re)}),no(n,T=>{const re=Rg(e,ds(t,T));bl(e,re)}),Xa(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function kg(e){e=(0,nt.m9)(e);const t=new Kf(()=>{}),n=new Od(t);return function Kp(e,t,n){const i=function fg(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(T,re)=>{const ve=Qo(T,n);i=i||ju(re,ve)});let a=e.syncPointTree_.get(n);a?i=i||ju(a,Ri()):(a=new Af,e.syncPointTree_=e.syncPointTree_.set(n,a));const u=null!=i,f=u?new Mc(i,!0,!1):null;return function Ly(e){return bf(e.viewCache_)}(Sh(a,t,Nu(e.pendingWriteTree_,t._path),u?f.getNode():Fi.EMPTY_NODE,u))}(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(a=>{const u=ws(a).withIndex(t._queryParams.getIndex());let f;if(Th(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())f=bd(e.serverSyncTree_,t._path,u);else{const _=Gu(e.serverSyncTree_,t);f=hg(e.serverSyncTree_,t._path,u,_)}return Xa(e.eventQueue_,t._path,f),Rf(e.serverSyncTree_,t,n,null,!0),u},a=>(Sd(e,"get for query "+(0,nt.Pz)(t)+" failed: "+a),Promise.reject(new Error(a))))}(e._repo,e,n).then(i=>new Yu(i,new ca(e._repo,e._path),e._queryParams.getIndex()))}class Od{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const i=n._queryParams.getIndex();return new Nh("value",this,new Yu(t.snapshotNode,new ca(n._repo,n._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Yf(this,t,n):null}matches(t){return t instanceof Od&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qf{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Yf(this,t,n):null}createEvent(t,n){(0,nt.hu)(null!=t.childName,"Child events should have a childName.");const i=Na(new ca(n._repo,n._path),t.childName),a=n._queryParams.getIndex();return new Nh(t.type,this,new Yu(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Qf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vh(e,t,n,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const C=n,T=(re,ve)=>{aa(e._repo,e,_),C(re,ve)};T.userCallback=n.userCallback,T.context=n.context,n=T}const f=new Kf(n,u||void 0),_="value"===t?new Od(f):new Qf(t,f);return function Hf(e,t,n){let i;i=".info"===Oi(t._path)?Th(e.infoSyncTree_,t,n):Th(e.serverSyncTree_,t,n),Mg(e.eventQueue_,t._path,i)}(e._repo,e,_),()=>aa(e._repo,e,_)}function Xf(e,t,n,i){return Vh(e,"value",t,n,i)}function Og(e,t,n,i){return Vh(e,"child_added",t,n,i)}function Pg(e,t,n,i){return Vh(e,"child_changed",t,n,i)}function Xp(e,t,n,i){return Vh(e,"child_moved",t,n,i)}function Fg(e,t,n,i){return Vh(e,"child_removed",t,n,i)}function Lg(e,t,n){let i=null;const a=n?new Kf(n):null;"value"===t?i=new Od(a):t&&(i=new Qf(t,a)),aa(e._repo,e,i)}class hc{}class ey extends hc{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Wl("endAt",this._value,t._path,!0);const n=mh(t._queryParams,this._value,this._key);if(Rd(n),Yl(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(t._repo,t._path,n,t._orderByCalled)}}class Ng extends hc{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Wl("endBefore",this._value,t._path,!1);const n=function gh(e,t,n){let i,a;return e.index_===Fa?("string"==typeof t&&(t=F_(t)),a=mh(e,t,n)):(i=null==n?Ar:F_(n),a=mh(e,t,i)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Rd(n),Yl(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new la(t._repo,t._path,n,t._orderByCalled)}}class go extends hc{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Wl("startAt",this._value,t._path,!0);const n=pf(t._queryParams,this._value,this._key);if(Rd(n),Yl(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new la(t._repo,t._path,n,t._orderByCalled)}}class Yy extends hc{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Wl("startAfter",this._value,t._path,!1);const n=function Km(e,t,n){let i;if(e.index_===Fa)"string"==typeof t&&(t=ml(t)),i=pf(e,t,n);else{let a;a=null==n?hl:ml(n),i=pf(e,t,a)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Rd(n),Yl(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new la(t._repo,t._path,n,t._orderByCalled)}}class Jf extends hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(t._repo,t._path,function Dp(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class Ug extends hc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new la(t._repo,t._path,function Ym(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class Uh extends hc{constructor(t){super(),this._path=t}_apply(t){du(t,"orderByChild");const n=new tr(this._path);if(Pi(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new hh(n),a=pd(t._queryParams,i);return Yl(a),new la(t._repo,t._path,a,!0)}}class Zy extends hc{_apply(t){du(t,"orderByKey");const n=pd(t._queryParams,Fa);return Yl(n),new la(t._repo,t._path,n,!0)}}class qy extends hc{_apply(t){du(t,"orderByPriority");const n=pd(t._queryParams,hs);return Yl(n),new la(t._repo,t._path,n,!0)}}class wv extends hc{_apply(t){du(t,"orderByValue");const n=pd(t._queryParams,$m);return Yl(n),new la(t._repo,t._path,n,!0)}}class em extends hc{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(Wl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ey(this._value,this._key)._apply(new go(this._value,this._key)._apply(t))}}function fc(e,...t){let n=(0,nt.m9)(e);for(const i of t)n=i._apply(n);return n}(function yd(e){(0,nt.hu)(!cc,"__referenceConstructor has already been defined"),cc=e})(ca),function $_(e){(0,nt.hu)(!vd,"__referenceConstructor has already been defined"),vd=e}(ca);const Kl={};function jg(e,t,n,i,a){let u=i||e.options.databaseURL;void 0===u&&(e.options.projectId||Vl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Io("Using default host for project ",e.options.projectId),u=`${e.options.projectId}-default-rtdb.firebaseio.com`);let C,T,f=Qp(u,a),_=f.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(C=!0,u=`http://${T}?ns=${_.namespace}`,f=Qp(u,a),_=f.repoInfo):C=!f.repoInfo.secure;const re=a&&C?new Yc(Yc.OWNER):new od(e.name,e.options,t);xg("Invalid Firebase Database URL",f),Pi(f.path)||Vl("Database URL must point to the root of a Firebase Database (not including a child path).");const ve=function Qy(e,t,n,i){let a=Kl[t.name];a||(a={},Kl[t.name]=a);let u=a[e.toURLString()];return u&&Vl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ts(e,false,n,i),a[e.toURLString()]=u,u}(_,e,re,new xy(e.name,n));return new Jy(ve,e)}class Jy{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bv(e,t,n){if(e.stats_=m_(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new _h(e.repoInfo_,(i,a,u,f)=>{Ig(e,i,a,u,f)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>dc(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,nt.Pz)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Tu(e.repoInfo_,t,(i,a,u,f)=>{Ig(e,i,a,u,f)},i=>{dc(e,i)},i=>{!function Vf(e,t){no(t,(n,i)=>{No(e,n,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function uv(e,t){const n=e.toString();return p_[n]||(p_[n]=t()),p_[n]}(e.repoInfo_,()=>new ky(e.stats_,e.server_)),e.infoData_=new Ry,e.infoSyncTree_=new ug({startListening:(i,a,u,f)=>{let _=[];const C=e.infoData_.getNode(i._path);return C.isEmpty()||(_=bd(e.infoSyncTree_,i._path,C),setTimeout(()=>{f("ok")},0)),_},stopListening:()=>{}}),No(e,"connected",!1),e.serverSyncTree_=new ug({startListening:(i,a,u,f)=>(e.server_.listen(i,u,a,(_,C)=>{const T=f(_,C);Xa(e.eventQueue_,i._path,T)}),[]),stopListening:(i,a)=>{e.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ca(this._repo,Ri())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ry(e,t){const n=Kl[t];(!n||n[e.key]!==e)&&Vl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),vl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Vl("Cannot call "+t+" on a deleted database.")}}function sy(){sf.IS_TRANSPORT_INITIALIZED&&Po("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Gg(){sy(),Dc.forceDisallow()}function tm(){sy(),Su.forceDisallow(),Dc.forceAllow()}function nm(e,t){Cm(e,t)}const ay={".sv":"timestamp"};class zg{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Tu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Tu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function ep(e){bc(Do.SDK_VERSION),(0,Do._registerComponent)(new ho.wA("database",(t,{instanceIdentifier:n})=>jg(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Do.registerVersion)(vm,"0.13.6",e),(0,Do.registerVersion)(vm,"0.13.6","esm2017")}();const Yg=new td.Yd("@firebase/database-compat"),mu=function(e){Yg.warn("FIREBASE WARNING: "+e)};class Kg{constructor(t){this._delegate=t}cancel(t){(0,nt.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,nt.Wj)("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){(0,nt.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,nt.Wj)("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){(0,nt.Dv)("OnDisconnect.set",1,2,arguments.length),(0,nt.Wj)("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),a=>n(a)),i}setWithPriority(t,n,i){(0,nt.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,nt.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,n);return i&&a.then(()=>i(null),u=>i(u)),a}update(t,n){if((0,nt.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,mu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,nt.Wj)("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),a=>n(a)),i}}class uy{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return(0,nt.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zl{constructor(t,n){this._database=t,this._delegate=n}val(){return(0,nt.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,nt.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,nt.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,nt.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,nt.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Br("DataSnapshot.child","path",t,!1),new Zl(this._database,this._delegate.child(t))}hasChild(t){return(0,nt.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Br("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,nt.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,nt.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,nt.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Zl(this._database,n)))}hasChildren(){return(0,nt.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,nt.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,nt.Dv)("DataSnapshot.ref",0,0,arguments.length),new fs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _o{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,a){var u;(0,nt.Dv)("Query.on",2,4,arguments.length),(0,nt.Wj)("Query.on","callback",n,!1);const f=_o.getCancelAndContextArgs_("Query.on",i,a),_=(T,re)=>{n.call(f.context,new Zl(this.database,T),re)};_.userCallback=n,_.context=f.context;const C=null===(u=f.cancel)||void 0===u?void 0:u.bind(f.context);switch(t){case"value":return Xf(this._delegate,_,C),n;case"child_added":return Og(this._delegate,_,C),n;case"child_removed":return Fg(this._delegate,_,C),n;case"child_changed":return Pg(this._delegate,_,C),n;case"child_moved":return Xp(this._delegate,_,C),n;default:throw new Error((0,nt.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if((0,nt.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,nt.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,nt.Wj)("Query.off","callback",n,!0),(0,nt.lb)("Query.off","context",i,!0),n){const a=()=>{};a.userCallback=n,a.context=i,Lg(this._delegate,t,a)}else Lg(this._delegate,t)}get(){return kg(this._delegate).then(t=>new Zl(this.database,t))}once(t,n,i,a){(0,nt.Dv)("Query.once",1,4,arguments.length),(0,nt.Wj)("Query.once","callback",n,!0);const u=_o.getCancelAndContextArgs_("Query.once",i,a),f=new nt.BH,_=(T,re)=>{const ve=new Zl(this.database,T);n&&n.call(u.context,ve,re),f.resolve(ve)};_.userCallback=n,_.context=u.context;const C=T=>{u.cancel&&u.cancel.call(u.context,T),f.reject(T)};switch(t){case"value":Xf(this._delegate,_,C,{onlyOnce:!0});break;case"child_added":Og(this._delegate,_,C,{onlyOnce:!0});break;case"child_removed":Fg(this._delegate,_,C,{onlyOnce:!0});break;case"child_changed":Pg(this._delegate,_,C,{onlyOnce:!0});break;case"child_moved":Xp(this._delegate,_,C,{onlyOnce:!0});break;default:throw new Error((0,nt.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,nt.Dv)("Query.limitToFirst",1,1,arguments.length),new _o(this.database,fc(this._delegate,function Ky(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jf(e)}(t)))}limitToLast(t){return(0,nt.Dv)("Query.limitToLast",1,1,arguments.length),new _o(this.database,fc(this._delegate,function pu(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ug(e)}(t)))}orderByChild(t){return(0,nt.Dv)("Query.orderByChild",1,1,arguments.length),new _o(this.database,fc(this._delegate,function Pd(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Br("orderByChild","path",e,!1),new Uh(e)}(t)))}orderByKey(){return(0,nt.Dv)("Query.orderByKey",0,0,arguments.length),new _o(this.database,fc(this._delegate,function ny(){return new Zy}()))}orderByPriority(){return(0,nt.Dv)("Query.orderByPriority",0,0,arguments.length),new _o(this.database,fc(this._delegate,function iy(){return new qy}()))}orderByValue(){return(0,nt.Dv)("Query.orderByValue",0,0,arguments.length),new _o(this.database,fc(this._delegate,function Jp(){return new wv}()))}startAt(t=null,n){return(0,nt.Dv)("Query.startAt",0,2,arguments.length),new _o(this.database,fc(this._delegate,function Bg(e=null,t){return Ph("startAt","key",t,!0),new go(e,t)}(t,n)))}startAfter(t=null,n){return(0,nt.Dv)("Query.startAfter",0,2,arguments.length),new _o(this.database,fc(this._delegate,function Vg(e,t){return Ph("startAfter","key",t,!0),new Yy(e,t)}(t,n)))}endAt(t=null,n){return(0,nt.Dv)("Query.endAt",0,2,arguments.length),new _o(this.database,fc(this._delegate,function Wy(e,t){return Ph("endAt","key",t,!0),new ey(e,t)}(t,n)))}endBefore(t=null,n){return(0,nt.Dv)("Query.endBefore",0,2,arguments.length),new _o(this.database,fc(this._delegate,function ty(e,t){return Ph("endBefore","key",t,!0),new Ng(e,t)}(t,n)))}equalTo(t,n){return(0,nt.Dv)("Query.equalTo",1,2,arguments.length),new _o(this.database,fc(this._delegate,function Nc(e,t){return Ph("equalTo","key",t,!0),new em(e,t)}(t,n)))}toString(){return(0,nt.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,nt.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,nt.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof _o))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const a={cancel:void 0,context:void 0};if(n&&i)a.cancel=n,(0,nt.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,nt.lb)(t,"context",a.context,!0);else if(n)if("object"==typeof n&&null!==n)a.context=n;else{if("function"!=typeof n)throw new Error((0,nt.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=n}return a}get ref(){return new fs(this.database,new ca(this._delegate._repo,this._delegate._path))}}class fs extends _o{constructor(t,n){super(t,new la(n._repo,n._path,new ph,!1)),this.database=t,this._delegate=n}getKey(){return(0,nt.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,nt.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new fs(this.database,Na(this._delegate,t))}getParent(){(0,nt.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new fs(this.database,t):null}getRoot(){return(0,nt.Dv)("Reference.root",0,0,arguments.length),new fs(this.database,this._delegate.root)}set(t,n){(0,nt.Dv)("Reference.set",1,2,arguments.length),(0,nt.Wj)("Reference.set","onComplete",n,!0);const i=qf(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}update(t,n){if((0,nt.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,mu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gs("Reference.update",this._delegate._path),(0,nt.Wj)("Reference.update","onComplete",n,!0);const i=fu(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}setWithPriority(t,n,i){(0,nt.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,nt.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function Bh(e,t,n){if(Gs("setWithPriority",e._path),Wl("setWithPriority",t,e._path,!1),Ed("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new nt.BH;return Ja(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,n);return i&&a.then(()=>i(null),u=>i(u)),a}remove(t){(0,nt.Dv)("Reference.remove",0,1,arguments.length),(0,nt.Wj)("Reference.remove","onComplete",t,!0);const n=function X_(e){return Gs("remove",e._path),qf(e,null)}(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){(0,nt.Dv)("Reference.transaction",1,3,arguments.length),(0,nt.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,nt.Wj)("Reference.transaction","onComplete",n,!0),function(e,t,n,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,nt.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function rm(e,t,n){var i;if(e=(0,nt.m9)(e),Gs("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const a=null===(i=n?.applyLocally)||void 0===i||i,u=new nt.BH,_=Xf(e,()=>{});return function Ag(e,t,n,i,a,u){Sd(e,"transaction on "+t);const f={path:t,update:n,onComplete:i,status:null,order:nd(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=jf(e,t,void 0);f.currentInputSnapshot=_;const C=f.update(_.val());if(void 0===C)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{nr("transaction failed: Data returned ",C,f.path),f.status=0;const T=Dd(e.transactionQueueTree_,t),re=yl(T)||[];let ve;re.push(f),Rh(T,re),"object"==typeof C&&null!==C&&(0,nt.r3)(C,".priority")?(ve=(0,nt.DV)(C,".priority"),(0,nt.hu)(Oh(ve),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ve=(Gp(e.serverSyncTree_,t)||Fi.EMPTY_NODE).getPriority().val();const qe=Cs(e),vt=ws(C,ve),kt=_g(vt,_,qe);f.currentOutputSnapshotRaw=vt,f.currentOutputSnapshotResolved=kt,f.currentWriteId=Pc(e);const tn=Tf(e.serverSyncTree_,t,kt,f.currentWriteId,f.applyLocally);Xa(e.eventQueue_,t,tn),Wu(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(C,T,re)=>{let ve=null;C?u.reject(C):(ve=new Yu(re,new ca(e._repo,e._path),hs),u.resolve(new zg(T,ve)))},_,a),u.promise}(this._delegate,t,{applyLocally:i}).then(u=>new uy(u.committed,new Zl(this.database,u.snapshot)));return n&&a.then(u=>n(null,u.committed,u.snapshot),u=>n(u,!1,null)),a}setPriority(t,n){(0,nt.Dv)("Reference.setPriority",1,2,arguments.length),(0,nt.Wj)("Reference.setPriority","onComplete",n,!0);const i=function J_(e,t){e=(0,nt.m9)(e),Gs("setPriority",e._path),Ed("setPriority",t,!1);const n=new nt.BH;return Ja(e._repo,ds(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return n&&i.then(()=>n(null),a=>n(a)),i}push(t,n){(0,nt.Dv)("Reference.push",0,2,arguments.length),(0,nt.Wj)("Reference.push","onComplete",n,!0);const i=function hu(e,t){e=(0,nt.m9)(e),Gs("push",e._path),Wl("push",t,e._path,!0);const n=zy(e._repo),i=Ay(n),a=Na(e,i),u=Na(e,i);let f;return f=null!=t?qf(u,t).then(()=>u):Promise.resolve(u),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=i.then(f=>new fs(this.database,f));n&&a.then(()=>n(null),f=>n(f));const u=new fs(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return Gs("Reference.onDisconnect",this._delegate._path),new Kg(new Td(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class tp{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Gg,forceLongPolling:tm}}useEmulator(t,n,i={}){!function $g(e,t,n,i={}){(e=(0,nt.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Vl("Cannot call useEmulator() after instance has already been initialized.");const a=e._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Vl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Yc(Yc.OWNER);else if(i.mockUserToken){const f="string"==typeof i.mockUserToken?i.mockUserToken:(0,nt.Sg)(i.mockUserToken,e.app.options.projectId);u=new Yc(f)}!function wl(e,t,n,i){e.repoInfo_=new ih(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}(a,t,n,u)}(this._delegate,t,n,i)}ref(t){if((0,nt.Dv)("database.ref",0,1,arguments.length),t instanceof fs){const n=Lc(this._delegate,t.toString());return new fs(this,n)}{const n=kd(this._delegate,t);return new fs(this,n)}}refFromURL(t){(0,nt.Dv)("database.refFromURL",1,1,arguments.length);const i=Lc(this._delegate,t);return new fs(this,i)}goOffline(){return(0,nt.Dv)("database.goOffline",0,0,arguments.length),function ev(e){(e=(0,nt.m9)(e))._checkNotDeleted("goOffline"),vl(e._repo)}(this._delegate)}goOnline(){return(0,nt.Dv)("database.goOnline",0,0,arguments.length),function oy(e){(e=(0,nt.m9)(e))._checkNotDeleted("goOnline"),function cu(e){e.persistentConnection_&&e.persistentConnection_.resume(zu)}(e._repo)}(this._delegate)}}tp.ServerValue={TIMESTAMP:function Hh(){return ay}(),increment:e=>function im(e){return{".sv":{increment:e}}}(e)};var jh=Object.freeze({__proto__:null,initStandalone:function Zg({app:e,url:t,version:n,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){bc(n);const f=new ho.zt("auth-internal",new ho.H0("database-standalone"));return f.setComponent(new ho.wA("auth-internal",()=>i,"PRIVATE")),{instance:new tp(jg(e,f,void 0,t,u),e),namespace:a}}});const Fd=tp.ServerValue;function dy(e){return null==e}function hy(e){return"function"==typeof e.set}function gu(e,t){return hy(t)?t:e.ref(t)}function fy(e,t){if(function Ld(e){return"string"==typeof e}(e))return t.stringCase();if(hy(e))return t.firebaseCase();if(function tv(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function np(e,t,n="on",i=Qd.z){return new ys.y(a=>{let u=null;return u=e[n](t,(f,_)=>{i.schedule(()=>{a.next({snapshot:f,prevKey:_})}),"once"===n&&i.schedule(()=>a.complete())},f=>{i.schedule(()=>a.error(f))}),"on"===n?{unsubscribe(){null!=u&&e.off(t,u)}}:{unsubscribe(){}}}).pipe((0,Ta.U)(a=>{const{snapshot:u,prevKey:f}=a;let _=null;return u.exists()&&(_=u.key),{type:t,payload:u,prevKey:f,key:_}}),(0,Zh.B)())}function om(e,t){const n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function am(e,t){const{payload:n,prevKey:i,key:a}=t,u=om(e,a),f=function py(e,t){if(dy(t))return 0;{const n=om(e,t);return-1===n?e.length:n+1}}(e,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(C=>{const T={payload:C,type:"value",prevKey:_,key:C.key};return _=C.key,e=[...e,T],!1})}return e;case"child_added":if(u>-1){const _=e[u-1];(_&&_.key||null)!==i&&(e=e.filter(C=>C.payload.key!==n.key)).splice(f,0,t)}else{if(null==i)return[t,...e];(e=e.slice()).splice(f,0,t)}return e;case"child_removed":return e.filter(_=>_.payload.key!==n.key);case"child_changed":return e.map(_=>_.payload.key===a?t:_);case"child_moved":if(u>-1){const _=e.splice(u,1)[0];return(e=e.slice()).splice(f,0,_),e}return e;default:return e}}function Gh(e){return(dy(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function lm(e,t,n){return function nv(e,t,n){return np(e,"value","once",n).pipe((0,ol.w)(i=>{const a=[(0,sl.of)(i)];return t.forEach(u=>a.push(np(e,u,"on",n))),(0,Xd.T)(...a).pipe((0,Cu.R)(am,[]))}),(0,qh.x)())}(e,t=Gh(t),n)}function Qg(e,t,n){const i=(t=Gh(t)).map(a=>np(e,a,"on",n));return(0,Xd.T)(...i)}function ip(e,t){return function(i,a){return fy(i,{stringCase:()=>e.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function um(e){return function(n){return n?fy(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function Jg(e,t){return function(){return np(e,"value","on",t)}}!function qg(e){e.INTERNAL.registerComponent(new ho.wA("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:n});return new tp(a,i)},"PUBLIC").setServiceProps({Reference:fs,Query:_o,Database:tp,DataSnapshot:Zl,enableLogging:nm,INTERNAL:jh,ServerValue:Fd}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.6")}(gc.Z);const $h=new y.OlP("angularfire2.realtimeDatabaseURL"),Cv=new y.OlP("angularfire2.database.use-emulator");let dm=(()=>{class e{constructor(n,i,a,u,f,_,C,T,re,ve,qe,vt,kt,tn,An){this.schedulers=_;const Zn=C,Xn=(0,Fr.on)(n,f,i);T&&(0,gr.nw)(Xn,f,re,qe,vt,kt,ve,tn),this.database=(0,Fr.cc)(`${Xn.name}.database.${a}`,"AngularFireDatabase",Xn.name,()=>{const oi=f.runOutsideAngular(()=>Xn.database(a||void 0));return Zn&&oi.useEmulator(...Zn),oi},[Zn])}list(n,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>gu(this.database,n));let u=a;return i&&(u=i(a)),function Nd(e,t){const n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:ip(i,"update"),set:ip(i,"set"),push:a=>i.push(a),remove:um(i),snapshotChanges:a=>lm(e,a,n).pipe(ks.iC),stateChanges:a=>Qg(e,a,n).pipe(ks.iC),auditTrail:a=>function cm(e,t,n){return function Xg(e,t,n){return function my(e,t){return np(e,"value","on",t).pipe((0,Ta.U)(n=>{let i;return n.payload.forEach(a=>(i=a.key,!1)),{data:n,lastKeyToLoad:i}}))}(e,n).pipe(function Cy(...e){const t=(0,Wc.jO)(e);return(0,i_.e)((n,i)=>{const a=e.length,u=new Array(a);let f=e.map(()=>!1),_=!1;for(let C=0;C<a;C++)(0,br.Xf)(e[C]).subscribe((0,Yi.x)(i,T=>{u[C]=T,!_&&!f[C]&&(f[C]=!0,(_=f.every(r_.y))&&(f=null))},lp.Z));n.subscribe((0,Yi.x)(i,C=>{if(_){const T=[C,...u];i.next(t?t(...T):T)}}))})}(t),(0,Ta.U)(([a,u])=>{const f=a.lastKeyToLoad,_=u.map(C=>C.key);return{actions:u,lastKeyToLoad:f,loadedKeys:_}}),function Ya(e){return(0,i_.e)((t,n)=>{let i=!1,a=0;t.subscribe((0,Yi.x)(n,u=>(i||(i=!e(u,a++)))&&n.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ta.U)(a=>a.actions))}(e,Qg(e,t).pipe((0,Cu.R)((a,u)=>[...a,u],[])),n)}(e,a,n).pipe(ks.iC),valueChanges:(a,u)=>lm(e,a,n).pipe((0,Ta.U)(_=>_.map(C=>u&&u.idField?Object.assign(Object.assign({},C.payload.val()),{[u.idField]:C.key}):C.payload.val())),ks.iC)}}(u,this)}object(n){return function gy(e,t){return{query:e,snapshotChanges:()=>Jg(e,t.schedulers.outsideAngular)().pipe(ks.iC),update:n=>e.ref.update(n),set:n=>e.ref.set(n),remove:()=>e.ref.remove(),valueChanges:()=>Jg(e,t.schedulers.outsideAngular)().pipe(ks.iC,(0,Ta.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>gu(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(n){return new(n||e)(y.LFG(Fr.Dh),y.LFG(Fr.xv,8),y.LFG($h,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ks.HU),y.LFG(Cv,8),y.LFG(gr.zQ,8),y.LFG(gr.Qv,8),y.LFG(gr.L6,8),y.LFG(gr._Q,8),y.LFG(gr.rT,8),y.LFG(gr.lh,8),y.LFG(gr.f7,8),y.LFG(Wr.nm,8))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),iv=(()=>{class e{constructor(){Zo.Z.registerVersion("angularfire",ks.q4.full,"rtdb-compat")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[dm]}),e})();var _y=w(1251);let o=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=y.oAB({type:e,bootstrap:[Ne]}),e.\u0275inj=y.cJS({providers:[_y.e],imports:[c.b2,xe,uo.u5,Vi,Vs.h,Js.o9,uo.UX,dt,Fr.hO.initializeApp(Co_firebase),gr.ww,nc.yb,zc,iv]}),e})();(0,y.G48)(),c.q6().bootstrapModule(o).catch(e=>console.error(e))},5867:(ln,ht,w)=>{w.d(ht,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=w(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(ln,ht,w)=>{w.d(ht,{Z:()=>c.Z});var c=w(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(ln,ht,w)=>{w.r(ht);var c=w(5861),y=w(3942),b=w(7143),F=w(2090),Ke=(w(9681),w(1877),w(3475));function Re(){return window}function me(){return(me=(0,c.Z)(function*(At,ut,yt){var Yt;const{BuildInfo:wn}=Re();(0,b.aq)(ut.sessionId,"AuthEvent did not contain a session ID");const $n=yield Ee(ut.sessionId),Gn={};return(0,b.ar)()?Gn.ibi=wn.packageName:(0,b.as)()?Gn.apn=wn.packageName:(0,b.at)(At,"operation-not-supported-in-this-environment"),wn.displayName&&(Gn.appDisplayName=wn.displayName),Gn.sessionId=$n,(0,b.au)(At,yt,ut.type,void 0,null!==(Yt=ut.eventId)&&void 0!==Yt?Yt:void 0,Gn)})).apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(At){const{BuildInfo:ut}=Re(),yt={};(0,b.ar)()?yt.iosBundleId=ut.packageName:(0,b.as)()?yt.androidPackageName=ut.packageName:(0,b.at)(At,"operation-not-supported-in-this-environment"),yield(0,b.av)(At,yt)})).apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(At,ut,yt){const{cordova:Yt}=Re();let wn=()=>{};try{yield new Promise(($n,Gn)=>{let Xe=null;function it(){var Gt;$n();const xn=null===(Gt=Yt.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof xn&&xn(),"function"==typeof yt?.close&&yt.close()}function $e(){Xe||(Xe=window.setTimeout(()=>{Gn((0,b.aw)(At,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&$e()}ut.addPassiveListener(it),document.addEventListener("resume",$e,!1),(0,b.as)()&&document.addEventListener("visibilitychange",It,!1),wn=()=>{ut.removePassiveListener(it),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",It,!1),Xe&&window.clearTimeout(Xe)}})}finally{wn()}})).apply(this,arguments)}function Ee(At){return be.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(At){const ut=dt(At),yt=yield crypto.subtle.digest("SHA-256",ut);return Array.from(new Uint8Array(yt)).map(wn=>wn.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dt(At){if((0,b.aq)(/[0-9a-zA-Z]+/.test(At),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(At);const ut=new ArrayBuffer(At.length),yt=new Uint8Array(ut);for(let Yt=0;Yt<At.length;Yt++)yt[Yt]=At.charCodeAt(Yt);return yt}class Le extends b.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ut=>{this.resolveInialized=ut})}addPassiveListener(ut){this.passiveListeners.add(ut)}removePassiveListener(ut){this.passiveListeners.delete(ut)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ut){return this.resolveInialized(),this.passiveListeners.forEach(yt=>yt(ut)),super.onEvent(ut)}initialized(){var ut=this;return(0,c.Z)(function*(){yield ut.initPromise})()}}function se(At){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(At){const ut=yield ue()._get(Ce(At));return ut&&(yield ue()._remove(Ce(At))),ut})).apply(this,arguments)}function ae(){const At=[],ut="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let yt=0;yt<20;yt++){const Yt=Math.floor(Math.random()*ut.length);At.push(ut.charAt(Yt))}return At.join("")}function ue(){return(0,b.ay)(b.b)}function Ce(At){return(0,b.az)("authEvent",At.config.apiKey,At.name)}function jt(At){if(!At?.includes("?"))return{};const[ut,...yt]=At.split("?");return(0,F.zd)(yt.join("?"))}function Te(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aw)("no-auth-event")}}function zt(){var At;return(null===(At=self?.location)||void 0===At?void 0:At.protocol)||null}function et(At=(0,F.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!At.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mn(){try{const At=self.localStorage,ut=b.aI();if(At)return At.setItem(ut,"1"),At.removeItem(ut),!function dn(At=(0,F.z$)()){return function Dt(){return(0,F.w1)()&&11===document?.documentMode}()||function Nt(At=(0,F.z$)()){return/Edge\/\d+/.test(At)}(At)}()||(0,F.hl)()}catch{return Pn()&&(0,F.hl)()}return!1}function Pn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function Ye(){return"http:"===zt()||"https:"===zt()}()||(0,F.ru)()||et())&&!function rt(){return(0,F.b$)()||(0,F.UG)()}()&&Mn()&&!Pn()}function Bn(){return et()&&typeof document<"u"}function Jt(){return(Jt=(0,c.Z)(function*(){return!!Bn()&&new Promise(At=>{const ut=setTimeout(()=>{At(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ut),At(!0)})})})).apply(this,arguments)}const ge={LOCAL:"local",NONE:"none",SESSION:"session"},P=b.ax,$="persistence";function mt(At){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(At){yield At._initializationPromise;const ut=Fe(),yt=b.az($,At.config.apiKey,At.name);ut&&ut.setItem(yt,At._getPersistence())})).apply(this,arguments)}function Fe(){var At;try{return(null===(At=function ot(){return typeof window<"u"?window:null}())||void 0===At?void 0:At.sessionStorage)||null}catch{return null}}const xt=b.ax;class St{constructor(){this.browserResolver=b.ay(b.k),this.cordovaResolver=b.ay(class on{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aB,this._overrideRedirectResult=b.aC}_initialize(ut){var yt=this;return(0,c.Z)(function*(){const Yt=ut._key();let wn=yt.eventManagers.get(Yt);return wn||(wn=new Le(ut),yt.eventManagers.set(Yt,wn),yt.attachCallbackListeners(ut,wn)),wn})()}_openPopup(ut){(0,b.at)(ut,"operation-not-supported-in-this-environment")}_openRedirect(ut,yt,Yt,wn){var $n=this;return(0,c.Z)(function*(){!function Se(At){var ut,yt,Yt,wn,$n,Gn,Xe,it,$e,It;const Gt=Re();(0,b.ax)("function"==typeof(null===(ut=Gt?.universalLinks)||void 0===ut?void 0:ut.subscribe),At,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.ax)(typeof(null===(yt=Gt?.BuildInfo)||void 0===yt?void 0:yt.packageName)<"u",At,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.ax)("function"==typeof(null===($n=null===(wn=null===(Yt=Gt?.cordova)||void 0===Yt?void 0:Yt.plugins)||void 0===wn?void 0:wn.browsertab)||void 0===$n?void 0:$n.openUrl),At,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.ax)("function"==typeof(null===(it=null===(Xe=null===(Gn=Gt?.cordova)||void 0===Gn?void 0:Gn.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===it?void 0:it.isAvailable),At,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.ax)("function"==typeof(null===(It=null===($e=Gt?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===It?void 0:It.open),At,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ut);const Gn=yield $n._initialize(ut);yield Gn.initialized(),Gn.resetRedirect(),(0,b.aD)(),yield $n._originValidation(ut);const Xe=function xe(At,ut,yt=null){return{type:ut,eventId:yt,urlResponse:null,sessionId:ae(),postBody:null,tenantId:At.tenantId,error:(0,b.aw)(At,"no-auth-event")}}(ut,Yt,wn);yield function Ne(At,ut){return ue()._set(Ce(At),ut)}(ut,Xe);const it=yield function ne(At,ut,yt){return me.apply(this,arguments)}(ut,Xe,yt),$e=yield function We(At){const{cordova:ut}=Re();return new Promise(yt=>{ut.plugins.browsertab.isAvailable(Yt=>{let wn=null;Yt?ut.plugins.browsertab.openUrl(At):wn=ut.InAppBrowser.open(At,(0,b.ap)()?"_blank":"_system","location=yes"),yt(wn)})})}(it);return function Me(At,ut,yt){return ze.apply(this,arguments)}(ut,Gn,$e)})()}_isIframeWebStorageSupported(ut,yt){throw new Error("Method not implemented.")}_originValidation(ut){const yt=ut._key();return this.originValidationPromises[yt]||(this.originValidationPromises[yt]=function he(At){return He.apply(this,arguments)}(ut)),this.originValidationPromises[yt]}attachCallbackListeners(ut,yt){const{universalLinks:Yt,handleOpenURL:wn,BuildInfo:$n}=Re(),Gn=setTimeout((0,c.Z)(function*(){yield se(ut),yt.onEvent(Te())}),500),Xe=function(){var It=(0,c.Z)(function*(Gt){clearTimeout(Gn);const xn=yield se(ut);let Vn=null;xn&&Gt?.url&&(Vn=function Qe(At,ut){var yt,Yt;const wn=function Ht(At){const ut=jt(At),yt=ut.link?decodeURIComponent(ut.link):void 0,Yt=jt(yt).link,wn=ut.deep_link_id?decodeURIComponent(ut.deep_link_id):void 0;return jt(wn).link||wn||Yt||yt||At}(ut);if(wn.includes("/__/auth/callback")){const $n=jt(wn),Gn=$n.firebaseError?function Je(At){try{return JSON.parse(At)}catch{return null}}(decodeURIComponent($n.firebaseError)):null,Xe=null===(Yt=null===(yt=Gn?.code)||void 0===yt?void 0:yt.split("auth/"))||void 0===Yt?void 0:Yt[1],it=Xe?(0,b.aw)(Xe):null;return it?{type:At.type,eventId:At.eventId,tenantId:At.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:At.type,eventId:At.eventId,tenantId:At.tenantId,sessionId:At.sessionId,urlResponse:wn,postBody:null}}return null}(xn,Gt.url)),yt.onEvent(Vn||Te())});return function(xn){return It.apply(this,arguments)}}();typeof Yt<"u"&&"function"==typeof Yt.subscribe&&Yt.subscribe(null,Xe);const it=wn,$e=`${$n.packageName.toLowerCase()}://`;Re().handleOpenURL=function(){var It=(0,c.Z)(function*(Gt){if(Gt.toLowerCase().startsWith($e)&&Xe({url:Gt}),"function"==typeof it)try{it(Gt)}catch(xn){console.error(xn)}});return function(Gt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aB,this._overrideRedirectResult=b.aC}_initialize(ut){var yt=this;return(0,c.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._initialize(ut)})()}_openPopup(ut,yt,Yt,wn){var $n=this;return(0,c.Z)(function*(){return yield $n.selectUnderlyingResolver(),$n.assertedUnderlyingResolver._openPopup(ut,yt,Yt,wn)})()}_openRedirect(ut,yt,Yt,wn){var $n=this;return(0,c.Z)(function*(){return yield $n.selectUnderlyingResolver(),$n.assertedUnderlyingResolver._openRedirect(ut,yt,Yt,wn)})()}_isIframeWebStorageSupported(ut,yt){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ut,yt)}_originValidation(ut){return this.assertedUnderlyingResolver._originValidation(ut)}get _shouldInitProactively(){return Bn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ut=this;return(0,c.Z)(function*(){if(ut.underlyingResolver)return;const yt=yield function En(){return Jt.apply(this,arguments)}();ut.underlyingResolver=yt?ut.cordovaResolver:ut.browserResolver})()}}function Pt(At){return At.unwrap()}function Ln(At){return Vt(At)}function Vt(At){const{_tokenResponse:ut}=At instanceof F.ZR?At.customData:At;if(!ut)return null;if(!(At instanceof F.ZR)&&"temporaryProof"in ut&&"phoneNumber"in ut)return b.P.credentialFromResult(At);const yt=ut.providerId;if(!yt||yt===b.o.PASSWORD)return null;let Yt;switch(yt){case b.o.GOOGLE:Yt=b.Q;break;case b.o.FACEBOOK:Yt=b.N;break;case b.o.GITHUB:Yt=b.T;break;case b.o.TWITTER:Yt=b.W;break;default:const{oauthIdToken:wn,oauthAccessToken:$n,oauthTokenSecret:Gn,pendingToken:Xe,nonce:it}=ut;return $n||Gn||wn||Xe?Xe?yt.startsWith("saml.")?b.aL._create(yt,Xe):b.J._fromParams({providerId:yt,signInMethod:yt,pendingToken:Xe,idToken:wn,accessToken:$n}):new b.U(yt).credential({idToken:wn,accessToken:$n,rawNonce:it}):null}return At instanceof F.ZR?Yt.credentialFromError(At):Yt.credentialFromResult(At)}function ce(At,ut){return ut.catch(yt=>{throw yt instanceof F.ZR&&function at(At,ut){var yt,Yt;const wn=null===(yt=ut.customData)||void 0===yt?void 0:yt._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Yt=ut)||void 0===Yt?void 0:Yt.code))ut.resolver=new te(At,b.an(At,ut));else if(wn){const $n=Vt(ut),Gn=ut;$n&&(Gn.credential=$n,Gn.tenantId=wn.tenantId||void 0,Gn.email=wn.email||void 0,Gn.phoneNumber=wn.phoneNumber||void 0)}}(At,yt),yt}).then(yt=>{const wn=yt.user;return{operationType:yt.operationType,credential:Ln(yt),additionalUserInfo:b.al(yt),user:J.getOrCreate(wn)}})}function lt(At,ut){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(At,ut){const yt=yield ut;return{verificationId:yt.verificationId,confirm:Yt=>ce(At,yt.confirm(Yt))}})).apply(this,arguments)}class te{constructor(ut,yt){this.resolver=yt,this.auth=function gn(At){return At.wrapped()}(ut)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ut){return ce(Pt(this.auth),this.resolver.resolveSignIn(ut))}}class J{constructor(ut){this._delegate=ut,this.multiFactor=b.ao(ut)}static getOrCreate(ut){return J.USER_MAP.has(ut)||J.USER_MAP.set(ut,new J(ut)),J.USER_MAP.get(ut)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ut){return this._delegate.getIdTokenResult(ut)}getIdToken(ut){return this._delegate.getIdToken(ut)}linkAndRetrieveDataWithCredential(ut){return this.linkWithCredential(ut)}linkWithCredential(ut){var yt=this;return(0,c.Z)(function*(){return ce(yt.auth,b.Z(yt._delegate,ut))})()}linkWithPhoneNumber(ut,yt){var Yt=this;return(0,c.Z)(function*(){return lt(Yt.auth,b.l(Yt._delegate,ut,yt))})()}linkWithPopup(ut){var yt=this;return(0,c.Z)(function*(){return ce(yt.auth,b.d(yt._delegate,ut,St))})()}linkWithRedirect(ut){var yt=this;return(0,c.Z)(function*(){return yield mt(b.aE(yt.auth)),b.g(yt._delegate,ut,St)})()}reauthenticateAndRetrieveDataWithCredential(ut){return this.reauthenticateWithCredential(ut)}reauthenticateWithCredential(ut){var yt=this;return(0,c.Z)(function*(){return ce(yt.auth,b._(yt._delegate,ut))})()}reauthenticateWithPhoneNumber(ut,yt){return lt(this.auth,b.r(this._delegate,ut,yt))}reauthenticateWithPopup(ut){return ce(this.auth,b.e(this._delegate,ut,St))}reauthenticateWithRedirect(ut){var yt=this;return(0,c.Z)(function*(){return yield mt(b.aE(yt.auth)),b.h(yt._delegate,ut,St)})()}sendEmailVerification(ut){return b.ab(this._delegate,ut)}unlink(ut){var yt=this;return(0,c.Z)(function*(){return yield b.ak(yt._delegate,ut),yt})()}updateEmail(ut){return b.ag(this._delegate,ut)}updatePassword(ut){return b.ah(this._delegate,ut)}updatePhoneNumber(ut){return b.u(this._delegate,ut)}updateProfile(ut){return b.af(this._delegate,ut)}verifyBeforeUpdateEmail(ut,yt){return b.ac(this._delegate,ut,yt)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const ee=b.ax;let O=(()=>{class At{constructor(yt,Yt){if(this.app=yt,Yt.isInitialized())return this._delegate=Yt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:wn}=yt.options;ee(wn,"invalid-api-key",{appName:yt.name}),ee(wn,"invalid-api-key",{appName:yt.name});const $n=typeof window<"u"?St:void 0;this._delegate=Yt.initialize({options:{persistence:z(wn,yt.name),popupRedirectResolver:$n}}),this._delegate._updateErrorMap(b.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(yt){this._delegate.languageCode=yt}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(yt){this._delegate.tenantId=yt}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(yt,Yt){b.G(this._delegate,yt,Yt)}applyActionCode(yt){return b.a2(this._delegate,yt)}checkActionCode(yt){return b.a3(this._delegate,yt)}confirmPasswordReset(yt,Yt){return b.a1(this._delegate,yt,Yt)}createUserWithEmailAndPassword(yt,Yt){var wn=this;return(0,c.Z)(function*(){return ce(wn._delegate,b.a5(wn._delegate,yt,Yt))})()}fetchProvidersForEmail(yt){return this.fetchSignInMethodsForEmail(yt)}fetchSignInMethodsForEmail(yt){return b.aa(this._delegate,yt)}isSignInWithEmailLink(yt){return b.a8(this._delegate,yt)}getRedirectResult(){var yt=this;return(0,c.Z)(function*(){ee(Fn(),yt._delegate,"operation-not-supported-in-this-environment");const Yt=yield b.j(yt._delegate,St);return Yt?ce(yt._delegate,Promise.resolve(Yt)):{credential:null,user:null}})()}addFrameworkForLogging(yt){!function Et(At,ut){(0,b.aE)(At)._logFramework(ut)}(this._delegate,yt)}onAuthStateChanged(yt,Yt,wn){const{next:$n,error:Gn,complete:Xe}=K(yt,Yt,wn);return this._delegate.onAuthStateChanged($n,Gn,Xe)}onIdTokenChanged(yt,Yt,wn){const{next:$n,error:Gn,complete:Xe}=K(yt,Yt,wn);return this._delegate.onIdTokenChanged($n,Gn,Xe)}sendSignInLinkToEmail(yt,Yt){return b.a7(this._delegate,yt,Yt)}sendPasswordResetEmail(yt,Yt){return b.a0(this._delegate,yt,Yt||void 0)}setPersistence(yt){var Yt=this;return(0,c.Z)(function*(){let wn;switch(function De(At,ut){P(Object.values(ge).includes(ut),At,"invalid-persistence-type"),(0,F.b$)()?P(ut!==ge.SESSION,At,"unsupported-persistence-type"):(0,F.UG)()?P(ut===ge.NONE,At,"unsupported-persistence-type"):Pn()?P(ut===ge.NONE||ut===ge.LOCAL&&(0,F.hl)(),At,"unsupported-persistence-type"):P(ut===ge.NONE||Mn(),At,"unsupported-persistence-type")}(Yt._delegate,yt),yt){case ge.SESSION:wn=b.a;break;case ge.LOCAL:wn=(yield b.ay(b.i)._isAvailable())?b.i:b.b;break;case ge.NONE:wn=b.L;break;default:return b.at("argument-error",{appName:Yt._delegate.name})}return Yt._delegate.setPersistence(wn)})()}signInAndRetrieveDataWithCredential(yt){return this.signInWithCredential(yt)}signInAnonymously(){return ce(this._delegate,b.X(this._delegate))}signInWithCredential(yt){return ce(this._delegate,b.Y(this._delegate,yt))}signInWithCustomToken(yt){return ce(this._delegate,b.$(this._delegate,yt))}signInWithEmailAndPassword(yt,Yt){return ce(this._delegate,b.a6(this._delegate,yt,Yt))}signInWithEmailLink(yt,Yt){return ce(this._delegate,b.a9(this._delegate,yt,Yt))}signInWithPhoneNumber(yt,Yt){return lt(this._delegate,b.s(this._delegate,yt,Yt))}signInWithPopup(yt){var Yt=this;return(0,c.Z)(function*(){return ee(Fn(),Yt._delegate,"operation-not-supported-in-this-environment"),ce(Yt._delegate,b.c(Yt._delegate,yt,St))})()}signInWithRedirect(yt){var Yt=this;return(0,c.Z)(function*(){return ee(Fn(),Yt._delegate,"operation-not-supported-in-this-environment"),yield mt(Yt._delegate),b.f(Yt._delegate,yt,St)})()}updateCurrentUser(yt){return this._delegate.updateCurrentUser(yt)}verifyPasswordResetCode(yt){return b.a4(this._delegate,yt)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return At.Persistence=ge,At})();function K(At,ut,yt){let Yt=At;"function"!=typeof At&&({next:Yt,error:ut,complete:yt}=At);const wn=Yt;return{next:Gn=>wn(Gn&&J.getOrCreate(Gn)),error:ut,complete:yt}}function z(At,ut){const yt=function Pe(At,ut){const yt=Fe();if(!yt)return[];const Yt=b.az($,At,ut);switch(yt.getItem(Yt)){case ge.NONE:return[b.L];case ge.LOCAL:return[b.i,b.a];case ge.SESSION:return[b.a];default:return[]}}(At,ut);if(typeof self<"u"&&!yt.includes(b.i)&&yt.push(b.i),typeof window<"u")for(const Yt of[b.b,b.a])yt.includes(Yt)||yt.push(Yt);return yt.includes(b.L)||yt.push(b.L),yt}class fe{constructor(){this.providerId="phone",this._delegate=new b.P(Pt(y.Z.auth()))}static credential(ut,yt){return b.P.credential(ut,yt)}verifyPhoneNumber(ut,yt){return this._delegate.verifyPhoneNumber(ut,yt)}unwrap(){return this._delegate}}fe.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,fe.PROVIDER_ID=b.P.PROVIDER_ID;const je=b.ax;class Ft{constructor(ut,yt,Yt=y.Z.app()){var wn;je(null===(wn=Yt.options)||void 0===wn?void 0:wn.apiKey,"invalid-api-key",{appName:Yt.name}),this._delegate=new b.R(ut,yt,Yt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mn(At){At.INTERNAL.registerComponent(new Ke.wA("auth-compat",ut=>{const yt=ut.getProvider("app-compat").getImmediate(),Yt=ut.getProvider("auth");return new O(yt,Yt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.M,FacebookAuthProvider:b.N,GithubAuthProvider:b.T,GoogleAuthProvider:b.Q,OAuthProvider:b.U,SAMLAuthProvider:b.V,PhoneAuthProvider:fe,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:Ft,TwitterAuthProvider:b.W,Auth:O,AuthCredential:b.H,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),At.registerVersion("@firebase/auth-compat","0.2.20")}(y.Z)},1135:(ln,ht,w)=>{w.d(ht,{X:()=>y});var c=w(7579);class y extends c.x{constructor(F){super(),this._value=F}get value(){return this.getValue()}_subscribe(F){const de=super._subscribe(F);return!de.closed&&F.next(this._value),de}getValue(){const{hasError:F,thrownError:de,_value:Be}=this;if(F)throw de;return this._throwIfClosed(),Be}next(F){super.next(this._value=F)}}},9751:(ln,ht,w)=>{w.d(ht,{y:()=>Re});var c=w(930),y=w(727),b=w(8822),F=w(9635),de=w(2416),Be=w(576),Ke=w(2806);let Re=(()=>{class he{constructor(We){We&&(this._subscribe=We)}lift(We){const Me=new he;return Me.source=this,Me.operator=We,Me}subscribe(We,Me,ze){const Se=function me(he){return he&&he instanceof c.Lv||function ne(he){return he&&(0,Be.m)(he.next)&&(0,Be.m)(he.error)&&(0,Be.m)(he.complete)}(he)&&(0,y.Nn)(he)}(We)?We:new c.Hp(We,Me,ze);return(0,Ke.x)(()=>{const{operator:Ee,source:be}=this;Se.add(Ee?Ee.call(Se,be):be?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(We){try{return this._subscribe(We)}catch(Me){We.error(Me)}}forEach(We,Me){return new(Me=S(Me))((ze,Se)=>{const Ee=new c.Hp({next:be=>{try{We(be)}catch(dt){Se(dt),Ee.unsubscribe()}},error:Se,complete:ze});this.subscribe(Ee)})}_subscribe(We){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(We)}[b.L](){return this}pipe(...We){return(0,F.U)(We)(this)}toPromise(We){return new(We=S(We))((Me,ze)=>{let Se;this.subscribe(Ee=>Se=Ee,Ee=>ze(Ee),()=>Me(Se))})}}return he.create=He=>new he(He),he})();function S(he){var He;return null!==(He=he??de.v.Promise)&&void 0!==He?He:Promise}},7579:(ln,ht,w)=>{w.d(ht,{x:()=>Ke});var c=w(9751),y=w(727);const F=(0,w(3888).d)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=w(8737),Be=w(2806);let Ke=(()=>{class S extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const he=new Re(this,this);return he.operator=me,he}_throwIfClosed(){if(this.closed)throw new F}next(me){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(me)}})}error(me){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:he}=this;for(;he.length;)he.shift().error(me)}})}complete(){(0,Be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:he,isStopped:He,observers:We}=this;return he||He?y.Lc:(this.currentObservers=null,We.push(me),new y.w0(()=>{this.currentObservers=null,(0,de.P)(We,me)}))}_checkFinalizedStatuses(me){const{hasError:he,thrownError:He,isStopped:We}=this;he?me.error(He):We&&me.complete()}asObservable(){const me=new c.y;return me.source=this,me}}return S.create=(ne,me)=>new Re(ne,me),S})();class Re extends Ke{constructor(ne,me){super(),this.destination=ne,this.source=me}next(ne){var me,he;null===(he=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===he||he.call(me,ne)}error(ne){var me,he;null===(he=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===he||he.call(me,ne)}complete(){var ne,me;null===(me=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===me||me.call(ne)}_subscribe(ne){var me,he;return null!==(he=null===(me=this.source)||void 0===me?void 0:me.subscribe(ne))&&void 0!==he?he:y.Lc}}},930:(ln,ht,w)=>{w.d(ht,{Hp:()=>ze,Lv:()=>he});var c=w(576),y=w(727),b=w(2416),F=w(7849),de=w(5032);const Be=S("C",void 0,void 0);function S(tt,Le,xe){return{kind:tt,value:Le,error:xe}}var ne=w(3410),me=w(2806);class he extends y.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,y.Nn)(Le)&&Le.add(this)):this.destination=dt}static create(Le,xe,Ne){return new ze(Le,xe,Ne)}next(Le){this.isStopped?be(function Re(tt){return S("N",tt,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?be(function Ke(tt){return S("E",void 0,tt)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?be(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function We(tt,Le){return He.call(tt,Le)}class Me{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Le)}catch(Ne){Se(Ne)}}error(Le){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Le)}catch(Ne){Se(Ne)}else Se(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(xe){Se(xe)}}}class ze extends he{constructor(Le,xe,Ne){let se;if(super(),(0,c.m)(Le)||!Le)se={next:Le??void 0,error:xe??void 0,complete:Ne??void 0};else{let oe;this&&b.v.useDeprecatedNextContext?(oe=Object.create(Le),oe.unsubscribe=()=>this.unsubscribe(),se={next:Le.next&&We(Le.next,oe),error:Le.error&&We(Le.error,oe),complete:Le.complete&&We(Le.complete,oe)}):se=Le}this.destination=new Me(se)}}function Se(tt){b.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(tt):(0,F.h)(tt)}function be(tt,Le){const{onStoppedNotification:xe}=b.v;xe&&ne.z.setTimeout(()=>xe(tt,Le))}const dt={closed:!0,next:de.Z,error:function Ee(tt){throw tt},complete:de.Z}},727:(ln,ht,w)=>{w.d(ht,{Lc:()=>Be,w0:()=>de,Nn:()=>Ke});var c=w(576);const b=(0,w(3888).d)(S=>function(me){S(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((he,He)=>`${He+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var F=w(8737);class de{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const We of me)We.remove(this);else me.remove(this);const{initialTeardown:he}=this;if((0,c.m)(he))try{he()}catch(We){ne=We instanceof b?We.errors:[We]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const We of He)try{Re(We)}catch(Me){ne=ne??[],Me instanceof b?ne=[...ne,...Me.errors]:ne.push(Me)}}if(ne)throw new b(ne)}}add(ne){var me;if(ne&&ne!==this)if(this.closed)Re(ne);else{if(ne instanceof de){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ne)}}_hasParent(ne){const{_parentage:me}=this;return me===ne||Array.isArray(me)&&me.includes(ne)}_addParent(ne){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ne),me):me?[me,ne]:ne}_removeParent(ne){const{_parentage:me}=this;me===ne?this._parentage=null:Array.isArray(me)&&(0,F.P)(me,ne)}remove(ne){const{_finalizers:me}=this;me&&(0,F.P)(me,ne),ne instanceof de&&ne._removeParent(this)}}de.EMPTY=(()=>{const S=new de;return S.closed=!0,S})();const Be=de.EMPTY;function Ke(S){return S instanceof de||S&&"closed"in S&&(0,c.m)(S.remove)&&(0,c.m)(S.add)&&(0,c.m)(S.unsubscribe)}function Re(S){(0,c.m)(S)?S():S.unsubscribe()}},2416:(ln,ht,w)=>{w.d(ht,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ln,ht,w)=>{w.d(ht,{a:()=>ne});var c=w(9751),y=w(4742),b=w(8996),F=w(4671),de=w(3268),Be=w(3269),Ke=w(1810),Re=w(5403),S=w(9672);function ne(...He){const We=(0,Be.yG)(He),Me=(0,Be.jO)(He),{args:ze,keys:Se}=(0,y.D)(He);if(0===ze.length)return(0,b.D)([],We);const Ee=new c.y(function me(He,We,Me=F.y){return ze=>{he(We,()=>{const{length:Se}=He,Ee=new Array(Se);let be=Se,dt=Se;for(let tt=0;tt<Se;tt++)he(We,()=>{const Le=(0,b.D)(He[tt],We);let xe=!1;Le.subscribe((0,Re.x)(ze,Ne=>{Ee[tt]=Ne,xe||(xe=!0,dt--),dt||ze.next(Me(Ee.slice()))},()=>{--be||ze.complete()}))},ze)},ze)}}(ze,We,Se?be=>(0,Ke.n)(Se,be):F.y));return Me?Ee.pipe((0,de.Z)(Me)):Ee}function he(He,We,Me){He?(0,S.f)(Me,He,We):We()}},7272:(ln,ht,w)=>{w.d(ht,{z:()=>de});var c=w(8189),b=w(3269),F=w(8996);function de(...Be){return function y(){return(0,c.J)(1)}()((0,F.D)(Be,(0,b.yG)(Be)))}},9770:(ln,ht,w)=>{w.d(ht,{P:()=>b});var c=w(9751),y=w(8421);function b(F){return new c.y(de=>{(0,y.Xf)(F()).subscribe(de)})}},515:(ln,ht,w)=>{w.d(ht,{E:()=>y});const y=new(w(9751).y)(de=>de.complete())},4128:(ln,ht,w)=>{w.d(ht,{D:()=>Re});var c=w(9751),y=w(4742),b=w(8421),F=w(3269),de=w(5403),Be=w(3268),Ke=w(1810);function Re(...S){const ne=(0,F.jO)(S),{args:me,keys:he}=(0,y.D)(S),He=new c.y(We=>{const{length:Me}=me;if(!Me)return void We.complete();const ze=new Array(Me);let Se=Me,Ee=Me;for(let be=0;be<Me;be++){let dt=!1;(0,b.Xf)(me[be]).subscribe((0,de.x)(We,tt=>{dt||(dt=!0,Ee--),ze[be]=tt},()=>Se--,void 0,()=>{(!Se||!dt)&&(Ee||We.next(he?(0,Ke.n)(he,ze):ze),We.complete())}))}});return ne?He.pipe((0,Be.Z)(ne)):He}},8996:(ln,ht,w)=>{w.d(ht,{D:()=>Le});var c=w(8421),y=w(5363),b=w(9468),Be=w(9751),Re=w(2202),S=w(576),ne=w(9672);function he(xe,Ne){if(!xe)throw new Error("Iterable cannot be null");return new Be.y(se=>{(0,ne.f)(se,Ne,()=>{const oe=xe[Symbol.asyncIterator]();(0,ne.f)(se,Ne,()=>{oe.next().then(Qe=>{Qe.done?se.complete():se.next(Qe.value)})},0,!0)})})}var He=w(3670),We=w(8239),Me=w(1144),ze=w(6495),Se=w(2206),Ee=w(4532),be=w(3260);function Le(xe,Ne){return Ne?function tt(xe,Ne){if(null!=xe){if((0,He.c)(xe))return function F(xe,Ne){return(0,c.Xf)(xe).pipe((0,b.R)(Ne),(0,y.Q)(Ne))}(xe,Ne);if((0,Me.z)(xe))return function Ke(xe,Ne){return new Be.y(se=>{let oe=0;return Ne.schedule(function(){oe===xe.length?se.complete():(se.next(xe[oe++]),se.closed||this.schedule())})})}(xe,Ne);if((0,We.t)(xe))return function de(xe,Ne){return(0,c.Xf)(xe).pipe((0,b.R)(Ne),(0,y.Q)(Ne))}(xe,Ne);if((0,Se.D)(xe))return he(xe,Ne);if((0,ze.T)(xe))return function me(xe,Ne){return new Be.y(se=>{let oe;return(0,ne.f)(se,Ne,()=>{oe=xe[Re.h](),(0,ne.f)(se,Ne,()=>{let Qe,ae;try{({value:Qe,done:ae}=oe.next())}catch(ue){return void se.error(ue)}ae?se.complete():se.next(Qe)},0,!0)}),()=>(0,S.m)(oe?.return)&&oe.return()})}(xe,Ne);if((0,be.L)(xe))return function dt(xe,Ne){return he((0,be.Q)(xe),Ne)}(xe,Ne)}throw(0,Ee.z)(xe)}(xe,Ne):(0,c.Xf)(xe)}},4968:(ln,ht,w)=>{w.d(ht,{R:()=>ne});var c=w(8421),y=w(9751),b=w(5577),F=w(1144),de=w(576),Be=w(3268);const Ke=["addListener","removeListener"],Re=["addEventListener","removeEventListener"],S=["on","off"];function ne(Me,ze,Se,Ee){if((0,de.m)(Se)&&(Ee=Se,Se=void 0),Ee)return ne(Me,ze,Se).pipe((0,Be.Z)(Ee));const[be,dt]=function We(Me){return(0,de.m)(Me.addEventListener)&&(0,de.m)(Me.removeEventListener)}(Me)?Re.map(tt=>Le=>Me[tt](ze,Le,Se)):function he(Me){return(0,de.m)(Me.addListener)&&(0,de.m)(Me.removeListener)}(Me)?Ke.map(me(Me,ze)):function He(Me){return(0,de.m)(Me.on)&&(0,de.m)(Me.off)}(Me)?S.map(me(Me,ze)):[];if(!be&&(0,F.z)(Me))return(0,b.z)(tt=>ne(tt,ze,Se))((0,c.Xf)(Me));if(!be)throw new TypeError("Invalid event target");return new y.y(tt=>{const Le=(...xe)=>tt.next(1<xe.length?xe:xe[0]);return be(Le),()=>dt(Le)})}function me(Me,ze){return Se=>Ee=>Me[Se](ze,Ee)}},8421:(ln,ht,w)=>{w.d(ht,{Xf:()=>He});var c=w(655),y=w(1144),b=w(8239),F=w(9751),de=w(3670),Be=w(2206),Ke=w(4532),Re=w(6495),S=w(3260),ne=w(576),me=w(7849),he=w(8822);function He(tt){if(tt instanceof F.y)return tt;if(null!=tt){if((0,de.c)(tt))return function We(tt){return new F.y(Le=>{const xe=tt[he.L]();if((0,ne.m)(xe.subscribe))return xe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,y.z)(tt))return function Me(tt){return new F.y(Le=>{for(let xe=0;xe<tt.length&&!Le.closed;xe++)Le.next(tt[xe]);Le.complete()})}(tt);if((0,b.t)(tt))return function ze(tt){return new F.y(Le=>{tt.then(xe=>{Le.closed||(Le.next(xe),Le.complete())},xe=>Le.error(xe)).then(null,me.h)})}(tt);if((0,Be.D)(tt))return Ee(tt);if((0,Re.T)(tt))return function Se(tt){return new F.y(Le=>{for(const xe of tt)if(Le.next(xe),Le.closed)return;Le.complete()})}(tt);if((0,S.L)(tt))return function be(tt){return Ee((0,S.Q)(tt))}(tt)}throw(0,Ke.z)(tt)}function Ee(tt){return new F.y(Le=>{(function dt(tt,Le){var xe,Ne,se,oe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(xe=(0,c.KL)(tt);!(Ne=yield xe.next()).done;)if(Le.next(Ne.value),Le.closed)return}catch(Qe){se={error:Qe}}finally{try{Ne&&!Ne.done&&(oe=xe.return)&&(yield oe.call(xe))}finally{if(se)throw se.error}}Le.complete()})})(tt,Le).catch(xe=>Le.error(xe))})}},6451:(ln,ht,w)=>{w.d(ht,{T:()=>Be});var c=w(8189),y=w(8421),b=w(515),F=w(3269),de=w(8996);function Be(...Ke){const Re=(0,F.yG)(Ke),S=(0,F._6)(Ke,1/0),ne=Ke;return ne.length?1===ne.length?(0,y.Xf)(ne[0]):(0,c.J)(S)((0,de.D)(ne,Re)):b.E}},9646:(ln,ht,w)=>{w.d(ht,{of:()=>b});var c=w(3269),y=w(8996);function b(...F){const de=(0,c.yG)(F);return(0,y.D)(F,de)}},2843:(ln,ht,w)=>{w.d(ht,{_:()=>b});var c=w(9751),y=w(576);function b(F,de){const Be=(0,y.m)(F)?F:()=>F,Ke=Re=>Re.error(Be());return new c.y(de?Re=>de.schedule(Ke,0,Re):Ke)}},5963:(ln,ht,w)=>{w.d(ht,{H:()=>de});var c=w(9751),y=w(4986),b=w(3532);function de(Be=0,Ke,Re=y.P){let S=-1;return null!=Ke&&((0,b.K)(Ke)?Re=Ke:S=Ke),new c.y(ne=>{let me=function F(Be){return Be instanceof Date&&!isNaN(Be)}(Be)?+Be-Re.now():Be;me<0&&(me=0);let he=0;return Re.schedule(function(){ne.closed||(ne.next(he++),0<=S?this.schedule(void 0,S):ne.complete())},me)})}},5403:(ln,ht,w)=>{w.d(ht,{x:()=>y});var c=w(930);function y(F,de,Be,Ke,Re){return new b(F,de,Be,Ke,Re)}class b extends c.Lv{constructor(de,Be,Ke,Re,S,ne){super(de),this.onFinalize=S,this.shouldUnsubscribe=ne,this._next=Be?function(me){try{Be(me)}catch(he){de.error(he)}}:super._next,this._error=Re?function(me){try{Re(me)}catch(he){de.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=Ke?function(){try{Ke()}catch(me){de.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Be}=this;super.unsubscribe(),!Be&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},3601:(ln,ht,w)=>{w.d(ht,{e:()=>Ke});var c=w(4986),y=w(4482),b=w(8421),F=w(5403),Be=w(5963);function Ke(Re,S=c.z){return function de(Re){return(0,y.e)((S,ne)=>{let me=!1,he=null,He=null,We=!1;const Me=()=>{if(He?.unsubscribe(),He=null,me){me=!1;const Se=he;he=null,ne.next(Se)}We&&ne.complete()},ze=()=>{He=null,We&&ne.complete()};S.subscribe((0,F.x)(ne,Se=>{me=!0,he=Se,He||(0,b.Xf)(Re(Se)).subscribe(He=(0,F.x)(ne,Me,ze))},()=>{We=!0,(!me||!He||He.closed)&&ne.complete()}))})}(()=>(0,Be.H)(Re,S))}},262:(ln,ht,w)=>{w.d(ht,{K:()=>F});var c=w(8421),y=w(5403),b=w(4482);function F(de){return(0,b.e)((Be,Ke)=>{let ne,Re=null,S=!1;Re=Be.subscribe((0,y.x)(Ke,void 0,void 0,me=>{ne=(0,c.Xf)(de(me,F(de)(Be))),Re?(Re.unsubscribe(),Re=null,ne.subscribe(Ke)):S=!0})),S&&(Re.unsubscribe(),Re=null,ne.subscribe(Ke))})}},4351:(ln,ht,w)=>{w.d(ht,{b:()=>b});var c=w(5577),y=w(576);function b(F,de){return(0,y.m)(de)?(0,c.z)(F,de,1):(0,c.z)(F,1)}},8372:(ln,ht,w)=>{w.d(ht,{b:()=>F});var c=w(4986),y=w(4482),b=w(5403);function F(de,Be=c.z){return(0,y.e)((Ke,Re)=>{let S=null,ne=null,me=null;const he=()=>{if(S){S.unsubscribe(),S=null;const We=ne;ne=null,Re.next(We)}};function He(){const We=me+de,Me=Be.now();if(Me<We)return S=this.schedule(void 0,We-Me),void Re.add(S);he()}Ke.subscribe((0,b.x)(Re,We=>{ne=We,me=Be.now(),S||(S=Be.schedule(He,de),Re.add(S))},()=>{he(),Re.complete()},void 0,()=>{ne=S=null}))})}},6590:(ln,ht,w)=>{w.d(ht,{d:()=>b});var c=w(4482),y=w(5403);function b(F){return(0,c.e)((de,Be)=>{let Ke=!1;de.subscribe((0,y.x)(Be,Re=>{Ke=!0,Be.next(Re)},()=>{Ke||Be.next(F),Be.complete()}))})}},1005:(ln,ht,w)=>{w.d(ht,{g:()=>he});var c=w(4986),y=w(7272),b=w(5698),F=w(4482),de=w(5403),Be=w(5032),Re=w(9718),S=w(5577);function ne(He,We){return We?Me=>(0,y.z)(We.pipe((0,b.q)(1),function Ke(){return(0,F.e)((He,We)=>{He.subscribe((0,de.x)(We,Be.Z))})}()),Me.pipe(ne(He))):(0,S.z)((Me,ze)=>He(Me,ze).pipe((0,b.q)(1),(0,Re.h)(Me)))}var me=w(5963);function he(He,We=c.z){const Me=(0,me.H)(He,We);return ne(()=>Me)}},1884:(ln,ht,w)=>{w.d(ht,{x:()=>F});var c=w(4671),y=w(4482),b=w(5403);function F(Be,Ke=c.y){return Be=Be??de,(0,y.e)((Re,S)=>{let ne,me=!0;Re.subscribe((0,b.x)(S,he=>{const He=Ke(he);(me||!Be(ne,He))&&(me=!1,ne=He,S.next(he))}))})}function de(Be,Ke){return Be===Ke}},9300:(ln,ht,w)=>{w.d(ht,{h:()=>b});var c=w(4482),y=w(5403);function b(F,de){return(0,c.e)((Be,Ke)=>{let Re=0;Be.subscribe((0,y.x)(Ke,S=>F.call(de,S,Re++)&&Ke.next(S)))})}},8746:(ln,ht,w)=>{w.d(ht,{x:()=>y});var c=w(4482);function y(b){return(0,c.e)((F,de)=>{try{F.subscribe(de)}finally{de.add(b)}})}},590:(ln,ht,w)=>{w.d(ht,{P:()=>Ke});var c=w(6805),y=w(9300),b=w(5698),F=w(6590),de=w(8068),Be=w(4671);function Ke(Re,S){const ne=arguments.length>=2;return me=>me.pipe(Re?(0,y.h)((he,He)=>Re(he,He,me)):Be.y,(0,b.q)(1),ne?(0,F.d)(S):(0,de.T)(()=>new c.K))}},4004:(ln,ht,w)=>{w.d(ht,{U:()=>b});var c=w(4482),y=w(5403);function b(F,de){return(0,c.e)((Be,Ke)=>{let Re=0;Be.subscribe((0,y.x)(Ke,S=>{Ke.next(F.call(de,S,Re++))}))})}},9718:(ln,ht,w)=>{w.d(ht,{h:()=>y});var c=w(4004);function y(b){return(0,c.U)(()=>b)}},8189:(ln,ht,w)=>{w.d(ht,{J:()=>b});var c=w(5577),y=w(4671);function b(F=1/0){return(0,c.z)(y.y,F)}},5577:(ln,ht,w)=>{w.d(ht,{z:()=>Re});var c=w(4004),y=w(8421),b=w(4482),F=w(9672),de=w(5403),Ke=w(576);function Re(S,ne,me=1/0){return(0,Ke.m)(ne)?Re((he,He)=>(0,c.U)((We,Me)=>ne(he,We,He,Me))((0,y.Xf)(S(he,He))),me):("number"==typeof ne&&(me=ne),(0,b.e)((he,He)=>function Be(S,ne,me,he,He,We,Me,ze){const Se=[];let Ee=0,be=0,dt=!1;const tt=()=>{dt&&!Se.length&&!Ee&&ne.complete()},Le=Ne=>Ee<he?xe(Ne):Se.push(Ne),xe=Ne=>{We&&ne.next(Ne),Ee++;let se=!1;(0,y.Xf)(me(Ne,be++)).subscribe((0,de.x)(ne,oe=>{He?.(oe),We?Le(oe):ne.next(oe)},()=>{se=!0},void 0,()=>{if(se)try{for(Ee--;Se.length&&Ee<he;){const oe=Se.shift();Me?(0,F.f)(ne,Me,()=>xe(oe)):xe(oe)}tt()}catch(oe){ne.error(oe)}}))};return S.subscribe((0,de.x)(ne,Le,()=>{dt=!0,tt()})),()=>{ze?.()}}(he,He,S,me)))}},5363:(ln,ht,w)=>{w.d(ht,{Q:()=>F});var c=w(9672),y=w(4482),b=w(5403);function F(de,Be=0){return(0,y.e)((Ke,Re)=>{Ke.subscribe((0,b.x)(Re,S=>(0,c.f)(Re,de,()=>Re.next(S),Be),()=>(0,c.f)(Re,de,()=>Re.complete(),Be),S=>(0,c.f)(Re,de,()=>Re.error(S),Be)))})}},5026:(ln,ht,w)=>{w.d(ht,{R:()=>F});var c=w(4482),y=w(5403);function b(de,Be,Ke,Re,S){return(ne,me)=>{let he=Ke,He=Be,We=0;ne.subscribe((0,y.x)(me,Me=>{const ze=We++;He=he?de(He,Me,ze):(he=!0,Me),Re&&me.next(He)},S&&(()=>{he&&me.next(He),me.complete()})))}}function F(de,Be){return(0,c.e)(b(de,Be,arguments.length>=2,!0))}},3099:(ln,ht,w)=>{w.d(ht,{B:()=>de});var c=w(8421),y=w(7579),b=w(930),F=w(4482);function de(Ke={}){const{connector:Re=(()=>new y.x),resetOnError:S=!0,resetOnComplete:ne=!0,resetOnRefCountZero:me=!0}=Ke;return he=>{let He,We,Me,ze=0,Se=!1,Ee=!1;const be=()=>{We?.unsubscribe(),We=void 0},dt=()=>{be(),He=Me=void 0,Se=Ee=!1},tt=()=>{const Le=He;dt(),Le?.unsubscribe()};return(0,F.e)((Le,xe)=>{ze++,!Ee&&!Se&&be();const Ne=Me=Me??Re();xe.add(()=>{ze--,0===ze&&!Ee&&!Se&&(We=Be(tt,me))}),Ne.subscribe(xe),!He&&ze>0&&(He=new b.Hp({next:se=>Ne.next(se),error:se=>{Ee=!0,be(),We=Be(dt,S,se),Ne.error(se)},complete:()=>{Se=!0,be(),We=Be(dt,ne),Ne.complete()}}),(0,c.Xf)(Le).subscribe(He))})(he)}}function Be(Ke,Re,...S){if(!0===Re)return void Ke();if(!1===Re)return;const ne=new b.Hp({next:()=>{ne.unsubscribe(),Ke()}});return Re(...S).subscribe(ne)}},5684:(ln,ht,w)=>{w.d(ht,{T:()=>y});var c=w(9300);function y(b){return(0,c.h)((F,de)=>b<=de)}},8675:(ln,ht,w)=>{w.d(ht,{O:()=>F});var c=w(7272),y=w(3269),b=w(4482);function F(...de){const Be=(0,y.yG)(de);return(0,b.e)((Ke,Re)=>{(Be?(0,c.z)(de,Ke,Be):(0,c.z)(de,Ke)).subscribe(Re)})}},9468:(ln,ht,w)=>{w.d(ht,{R:()=>y});var c=w(4482);function y(b,F=0){return(0,c.e)((de,Be)=>{Be.add(b.schedule(()=>de.subscribe(Be),F))})}},3900:(ln,ht,w)=>{w.d(ht,{w:()=>F});var c=w(8421),y=w(4482),b=w(5403);function F(de,Be){return(0,y.e)((Ke,Re)=>{let S=null,ne=0,me=!1;const he=()=>me&&!S&&Re.complete();Ke.subscribe((0,b.x)(Re,He=>{S?.unsubscribe();let We=0;const Me=ne++;(0,c.Xf)(de(He,Me)).subscribe(S=(0,b.x)(Re,ze=>Re.next(Be?Be(He,ze,Me,We++):ze),()=>{S=null,he()}))},()=>{me=!0,he()}))})}},5698:(ln,ht,w)=>{w.d(ht,{q:()=>F});var c=w(515),y=w(4482),b=w(5403);function F(de){return de<=0?()=>c.E:(0,y.e)((Be,Ke)=>{let Re=0;Be.subscribe((0,b.x)(Ke,S=>{++Re<=de&&(Ke.next(S),de<=Re&&Ke.complete())}))})}},2722:(ln,ht,w)=>{w.d(ht,{R:()=>de});var c=w(4482),y=w(5403),b=w(8421),F=w(5032);function de(Be){return(0,c.e)((Ke,Re)=>{(0,b.Xf)(Be).subscribe((0,y.x)(Re,()=>Re.complete(),F.Z)),!Re.closed&&Ke.subscribe(Re)})}},2529:(ln,ht,w)=>{w.d(ht,{o:()=>b});var c=w(4482),y=w(5403);function b(F,de=!1){return(0,c.e)((Be,Ke)=>{let Re=0;Be.subscribe((0,y.x)(Ke,S=>{const ne=F(S,Re++);(ne||de)&&Ke.next(S),!ne&&Ke.complete()}))})}},8505:(ln,ht,w)=>{w.d(ht,{b:()=>de});var c=w(576),y=w(4482),b=w(5403),F=w(4671);function de(Be,Ke,Re){const S=(0,c.m)(Be)||Ke||Re?{next:Be,error:Ke,complete:Re}:Be;return S?(0,y.e)((ne,me)=>{var he;null===(he=S.subscribe)||void 0===he||he.call(S);let He=!0;ne.subscribe((0,b.x)(me,We=>{var Me;null===(Me=S.next)||void 0===Me||Me.call(S,We),me.next(We)},()=>{var We;He=!1,null===(We=S.complete)||void 0===We||We.call(S),me.complete()},We=>{var Me;He=!1,null===(Me=S.error)||void 0===Me||Me.call(S,We),me.error(We)},()=>{var We,Me;He&&(null===(We=S.unsubscribe)||void 0===We||We.call(S)),null===(Me=S.finalize)||void 0===Me||Me.call(S)}))}):F.y}},8068:(ln,ht,w)=>{w.d(ht,{T:()=>F});var c=w(6805),y=w(4482),b=w(5403);function F(Be=de){return(0,y.e)((Ke,Re)=>{let S=!1;Ke.subscribe((0,b.x)(Re,ne=>{S=!0,Re.next(ne)},()=>S?Re.complete():Re.error(Be())))})}function de(){return new c.K}},4408:(ln,ht,w)=>{w.d(ht,{o:()=>de});var c=w(727);class y extends c.w0{constructor(Ke,Re){super()}schedule(Ke,Re=0){return this}}const b={setInterval(Be,Ke,...Re){const{delegate:S}=b;return S?.setInterval?S.setInterval(Be,Ke,...Re):setInterval(Be,Ke,...Re)},clearInterval(Be){const{delegate:Ke}=b;return(Ke?.clearInterval||clearInterval)(Be)},delegate:void 0};var F=w(8737);class de extends y{constructor(Ke,Re){super(Ke,Re),this.scheduler=Ke,this.work=Re,this.pending=!1}schedule(Ke,Re=0){if(this.closed)return this;this.state=Ke;const S=this.id,ne=this.scheduler;return null!=S&&(this.id=this.recycleAsyncId(ne,S,Re)),this.pending=!0,this.delay=Re,this.id=this.id||this.requestAsyncId(ne,this.id,Re),this}requestAsyncId(Ke,Re,S=0){return b.setInterval(Ke.flush.bind(Ke,this),S)}recycleAsyncId(Ke,Re,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return Re;b.clearInterval(Re)}execute(Ke,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(Ke,Re);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ke,Re){let ne,S=!1;try{this.work(Ke)}catch(me){S=!0,ne=me||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ke,scheduler:Re}=this,{actions:S}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(S,this),null!=Ke&&(this.id=this.recycleAsyncId(Re,Ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,ht,w)=>{w.d(ht,{v:()=>b});var c=w(6063);class y{constructor(de,Be=y.now){this.schedulerActionCtor=de,this.now=Be}schedule(de,Be=0,Ke){return new this.schedulerActionCtor(this,de).schedule(Ke,Be)}}y.now=c.l.now;class b extends y{constructor(de,Be=y.now){super(de,Be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:Be}=this;if(this._active)return void Be.push(de);let Ke;this._active=!0;do{if(Ke=de.execute(de.state,de.delay))break}while(de=Be.shift());if(this._active=!1,Ke){for(;de=Be.shift();)de.unsubscribe();throw Ke}}}},3101:(ln,ht,w)=>{w.d(ht,{E:()=>We});var c=w(4408);let b,y=1;const F={};function de(ze){return ze in F&&(delete F[ze],!0)}const Be={setImmediate(ze){const Se=y++;return F[Se]=!0,b||(b=Promise.resolve()),b.then(()=>de(Se)&&ze()),Se},clearImmediate(ze){de(ze)}},{setImmediate:Re,clearImmediate:S}=Be,ne={setImmediate(...ze){const{delegate:Se}=ne;return(Se?.setImmediate||Re)(...ze)},clearImmediate(ze){const{delegate:Se}=ne;return(Se?.clearImmediate||S)(ze)},delegate:void 0};var he=w(7565);const We=new class He extends he.v{flush(Se){this._active=!0;const Ee=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let dt;Se=Se||be.shift();do{if(dt=Se.execute(Se.state,Se.delay))break}while((Se=be[0])&&Se.id===Ee&&be.shift());if(this._active=!1,dt){for(;(Se=be[0])&&Se.id===Ee&&be.shift();)Se.unsubscribe();throw dt}}}(class me extends c.o{constructor(Se,Ee){super(Se,Ee),this.scheduler=Se,this.work=Ee}requestAsyncId(Se,Ee,be=0){return null!==be&&be>0?super.requestAsyncId(Se,Ee,be):(Se.actions.push(this),Se._scheduled||(Se._scheduled=ne.setImmediate(Se.flush.bind(Se,void 0))))}recycleAsyncId(Se,Ee,be=0){if(null!=be&&be>0||null==be&&this.delay>0)return super.recycleAsyncId(Se,Ee,be);Se.actions.some(dt=>dt.id===Ee)||(ne.clearImmediate(Ee),Se._scheduled=void 0)}})},4986:(ln,ht,w)=>{w.d(ht,{P:()=>F,z:()=>b});var c=w(4408);const b=new(w(7565).v)(c.o),F=b},6063:(ln,ht,w)=>{w.d(ht,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ln,ht,w)=>{w.d(ht,{z:()=>c});const c={setTimeout(y,b,...F){const{delegate:de}=c;return de?.setTimeout?de.setTimeout(y,b,...F):setTimeout(y,b,...F)},clearTimeout(y){const{delegate:b}=c;return(b?.clearTimeout||clearTimeout)(y)},delegate:void 0}},2202:(ln,ht,w)=>{w.d(ht,{h:()=>y});const y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,ht,w)=>{w.d(ht,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,ht,w)=>{w.d(ht,{K:()=>y});const y=(0,w(3888).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ln,ht,w)=>{w.d(ht,{_6:()=>Be,jO:()=>F,yG:()=>de});var c=w(576),y=w(3532);function b(Ke){return Ke[Ke.length-1]}function F(Ke){return(0,c.m)(b(Ke))?Ke.pop():void 0}function de(Ke){return(0,y.K)(b(Ke))?Ke.pop():void 0}function Be(Ke,Re){return"number"==typeof b(Ke)?Ke.pop():Re}},4742:(ln,ht,w)=>{w.d(ht,{D:()=>de});const{isArray:c}=Array,{getPrototypeOf:y,prototype:b,keys:F}=Object;function de(Ke){if(1===Ke.length){const Re=Ke[0];if(c(Re))return{args:Re,keys:null};if(function Be(Ke){return Ke&&"object"==typeof Ke&&y(Ke)===b}(Re)){const S=F(Re);return{args:S.map(ne=>Re[ne]),keys:S}}}return{args:Ke,keys:null}}},8737:(ln,ht,w)=>{function c(y,b){if(y){const F=y.indexOf(b);0<=F&&y.splice(F,1)}}w.d(ht,{P:()=>c})},3888:(ln,ht,w)=>{function c(y){const F=y(de=>{Error.call(de),de.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}w.d(ht,{d:()=>c})},1810:(ln,ht,w)=>{function c(y,b){return y.reduce((F,de,Be)=>(F[de]=b[Be],F),{})}w.d(ht,{n:()=>c})},2806:(ln,ht,w)=>{w.d(ht,{O:()=>F,x:()=>b});var c=w(2416);let y=null;function b(de){if(c.v.useDeprecatedSynchronousErrorHandling){const Be=!y;if(Be&&(y={errorThrown:!1,error:null}),de(),Be){const{errorThrown:Ke,error:Re}=y;if(y=null,Ke)throw Re}}else de()}function F(de){c.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=de)}},9672:(ln,ht,w)=>{function c(y,b,F,de=0,Be=!1){const Ke=b.schedule(function(){F(),Be?y.add(this.schedule(null,de)):this.unsubscribe()},de);if(y.add(Ke),!Be)return Ke}w.d(ht,{f:()=>c})},4671:(ln,ht,w)=>{function c(y){return y}w.d(ht,{y:()=>c})},1144:(ln,ht,w)=>{w.d(ht,{z:()=>c});const c=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(ln,ht,w)=>{w.d(ht,{D:()=>y});var c=w(576);function y(b){return Symbol.asyncIterator&&(0,c.m)(b?.[Symbol.asyncIterator])}},576:(ln,ht,w)=>{function c(y){return"function"==typeof y}w.d(ht,{m:()=>c})},3670:(ln,ht,w)=>{w.d(ht,{c:()=>b});var c=w(8822),y=w(576);function b(F){return(0,y.m)(F[c.L])}},6495:(ln,ht,w)=>{w.d(ht,{T:()=>b});var c=w(2202),y=w(576);function b(F){return(0,y.m)(F?.[c.h])}},5191:(ln,ht,w)=>{w.d(ht,{b:()=>b});var c=w(9751),y=w(576);function b(F){return!!F&&(F instanceof c.y||(0,y.m)(F.lift)&&(0,y.m)(F.subscribe))}},8239:(ln,ht,w)=>{w.d(ht,{t:()=>y});var c=w(576);function y(b){return(0,c.m)(b?.then)}},3260:(ln,ht,w)=>{w.d(ht,{L:()=>F,Q:()=>b});var c=w(655),y=w(576);function b(de){return(0,c.FC)(this,arguments,function*(){const Ke=de.getReader();try{for(;;){const{value:Re,done:S}=yield(0,c.qq)(Ke.read());if(S)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Re)}}finally{Ke.releaseLock()}})}function F(de){return(0,y.m)(de?.getReader)}},3532:(ln,ht,w)=>{w.d(ht,{K:()=>y});var c=w(576);function y(b){return b&&(0,c.m)(b.schedule)}},4482:(ln,ht,w)=>{w.d(ht,{A:()=>y,e:()=>b});var c=w(576);function y(F){return(0,c.m)(F?.lift)}function b(F){return de=>{if(y(de))return de.lift(function(Be){try{return F(Be,this)}catch(Ke){this.error(Ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,ht,w)=>{w.d(ht,{Z:()=>F});var c=w(4004);const{isArray:y}=Array;function F(de){return(0,c.U)(Be=>function b(de,Be){return y(Be)?de(...Be):de(Be)}(de,Be))}},5032:(ln,ht,w)=>{function c(){}w.d(ht,{Z:()=>c})},9635:(ln,ht,w)=>{w.d(ht,{U:()=>b,z:()=>y});var c=w(4671);function y(...F){return b(F)}function b(F){return 0===F.length?c.y:1===F.length?F[0]:function(Be){return F.reduce((Ke,Re)=>Re(Ke),Be)}}},7849:(ln,ht,w)=>{w.d(ht,{h:()=>b});var c=w(2416),y=w(3410);function b(F){y.z.setTimeout(()=>{const{onUnhandledError:de}=c.v;if(!de)throw F;de(F)})}},4532:(ln,ht,w)=>{function c(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(ht,{z:()=>c})},655:(ln,ht,w)=>{function F(ae,ue){var Ce={};for(var Je in ae)Object.prototype.hasOwnProperty.call(ae,Je)&&ue.indexOf(Je)<0&&(Ce[Je]=ae[Je]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ht=0;for(Je=Object.getOwnPropertySymbols(ae);Ht<Je.length;Ht++)ue.indexOf(Je[Ht])<0&&Object.prototype.propertyIsEnumerable.call(ae,Je[Ht])&&(Ce[Je[Ht]]=ae[Je[Ht]])}return Ce}function de(ae,ue,Ce,Je){var sn,Ht=arguments.length,jt=Ht<3?ue:null===Je?Je=Object.getOwnPropertyDescriptor(ue,Ce):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)jt=Reflect.decorate(ae,ue,Ce,Je);else for(var on=ae.length-1;on>=0;on--)(sn=ae[on])&&(jt=(Ht<3?sn(jt):Ht>3?sn(ue,Ce,jt):sn(ue,Ce))||jt);return Ht>3&&jt&&Object.defineProperty(ue,Ce,jt),jt}function Re(ae,ue,Ce,Je){return new(Ce||(Ce=Promise))(function(jt,sn){function on(Et){try{Te(Je.next(Et))}catch(pt){sn(pt)}}function Bt(Et){try{Te(Je.throw(Et))}catch(pt){sn(pt)}}function Te(Et){Et.done?jt(Et.value):function Ht(jt){return jt instanceof Ce?jt:new Ce(function(sn){sn(jt)})}(Et.value).then(on,Bt)}Te((Je=Je.apply(ae,ue||[])).next())})}function Se(ae){return this instanceof Se?(this.v=ae,this):new Se(ae)}function Ee(ae,ue,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht,Je=Ce.apply(ae,ue||[]),jt=[];return Ht={},sn("next"),sn("throw"),sn("return"),Ht[Symbol.asyncIterator]=function(){return this},Ht;function sn(Lt){Je[Lt]&&(Ht[Lt]=function(Mt){return new Promise(function(zt,Ye){jt.push([Lt,Mt,zt,Ye])>1||on(Lt,Mt)})})}function on(Lt,Mt){try{!function Bt(Lt){Lt.value instanceof Se?Promise.resolve(Lt.value.v).then(Te,Et):pt(jt[0][2],Lt)}(Je[Lt](Mt))}catch(zt){pt(jt[0][3],zt)}}function Te(Lt){on("next",Lt)}function Et(Lt){on("throw",Lt)}function pt(Lt,Mt){Lt(Mt),jt.shift(),jt.length&&on(jt[0][0],jt[0][1])}}function dt(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function he(ae){var ue="function"==typeof Symbol&&Symbol.iterator,Ce=ue&&ae[ue],Je=0;if(Ce)return Ce.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Je>=ae.length&&(ae=void 0),{value:ae&&ae[Je++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ce={},Je("next"),Je("throw"),Je("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Je(jt){Ce[jt]=ae[jt]&&function(sn){return new Promise(function(on,Bt){!function Ht(jt,sn,on,Bt){Promise.resolve(Bt).then(function(Te){jt({value:Te,done:on})},sn)}(on,Bt,(sn=ae[jt](sn)).done,sn.value)})}}}w.d(ht,{FC:()=>Ee,KL:()=>dt,_T:()=>F,gn:()=>de,mG:()=>Re,qq:()=>Se})},7340:(ln,ht,w)=>{w.d(ht,{F4:()=>ne,IO:()=>Me,LC:()=>y,SB:()=>S,X$:()=>F,ZE:()=>be,ZN:()=>Ee,_j:()=>c,eR:()=>me,jt:()=>de,k1:()=>dt,l3:()=>b,oB:()=>Re,pV:()=>He,ru:()=>Be,vP:()=>Ke});class c{}class y{}const b="*";function F(tt,Le){return{type:7,name:tt,definitions:Le,options:{}}}function de(tt,Le=null){return{type:4,styles:Le,timings:tt}}function Be(tt,Le=null){return{type:3,steps:tt,options:Le}}function Ke(tt,Le=null){return{type:2,steps:tt,options:Le}}function Re(tt){return{type:6,styles:tt,offset:null}}function S(tt,Le,xe){return{type:0,name:tt,styles:Le,options:xe}}function ne(tt){return{type:5,steps:tt}}function me(tt,Le,xe=null){return{type:1,expr:tt,animation:Le,options:xe}}function He(tt=null){return{type:9,options:tt}}function Me(tt,Le,xe=null){return{type:11,selector:tt,animation:Le,options:xe}}function Se(tt){Promise.resolve(null).then(tt)}class Ee{constructor(Le=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._originalOnStartFns.push(Le),this._onStartFns.push(Le)}onDone(Le){this._originalOnDoneFns.push(Le),this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const xe="start"==Le?this._onStartFns:this._onDoneFns;xe.forEach(Ne=>Ne()),xe.length=0}}class be{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let xe=0,Ne=0,se=0;const oe=this.players.length;0==oe?Se(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++xe==oe&&this._onFinish()}),Qe.onDestroy(()=>{++Ne==oe&&this._onDestroy()}),Qe.onStart(()=>{++se==oe&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,ae)=>Math.max(Qe,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const xe=Le*this.totalTime;this.players.forEach(Ne=>{const se=Ne.totalTime?Math.min(1,xe/Ne.totalTime):1;Ne.setPosition(se)})}getPosition(){const Le=this.players.reduce((xe,Ne)=>null===xe||Ne.totalTime>xe.totalTime?Ne:xe,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const xe="start"==Le?this._onStartFns:this._onDoneFns;xe.forEach(Ne=>Ne()),xe.length=0}}const dt="!"},2687:(ln,ht,w)=>{w.d(ht,{$s:()=>ae,Em:()=>jt,Kd:()=>Pt,X6:()=>ge,ic:()=>on,qV:()=>Mn,qm:()=>J,rt:()=>ee,s1:()=>Ht,tE:()=>Vt,yG:()=>P});var c=w(6895),y=w(4650),b=w(3353),F=w(7579),de=w(727),Be=w(1135),Ke=w(9646),Re=w(9521),S=w(8505),ne=w(8372),me=w(9300),he=w(4004),He=w(5698),We=w(5684),Me=w(1884),ze=w(2722),Se=w(1281),Ee=w(9643),be=w(2289);function xe(O,K){return(O.getAttribute(K)||"").match(/\S+/g)||[]}const se="cdk-describedby-message",oe="cdk-describedby-host";let Qe=0,ae=(()=>{class O{constructor(z,fe){this._platform=fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Qe++,this._document=z,this._id=(0,y.f3M)(y.AFp)+"-"+Qe++}describe(z,fe,je){if(!this._canBeDescribed(z,fe))return;const Ft=ue(fe,je);"string"!=typeof fe?(Ce(fe,this._id),this._messageRegistry.set(Ft,{messageElement:fe,referenceCount:0})):this._messageRegistry.has(Ft)||this._createMessageElement(fe,je),this._isElementDescribedByMessage(z,Ft)||this._addMessageReference(z,Ft)}removeDescription(z,fe,je){if(!fe||!this._isElementNode(z))return;const Ft=ue(fe,je);if(this._isElementDescribedByMessage(z,Ft)&&this._removeMessageReference(z,Ft),"string"==typeof fe){const cn=this._messageRegistry.get(Ft);cn&&0===cn.referenceCount&&this._deleteMessageElement(Ft)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const z=this._document.querySelectorAll(`[${oe}="${this._id}"]`);for(let fe=0;fe<z.length;fe++)this._removeCdkDescribedByReferenceIds(z[fe]),z[fe].removeAttribute(oe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(z,fe){const je=this._document.createElement("div");Ce(je,this._id),je.textContent=z,fe&&je.setAttribute("role",fe),this._createMessagesContainer(),this._messagesContainer.appendChild(je),this._messageRegistry.set(ue(z,fe),{messageElement:je,referenceCount:0})}_deleteMessageElement(z){this._messageRegistry.get(z)?.messageElement?.remove(),this._messageRegistry.delete(z)}_createMessagesContainer(){if(this._messagesContainer)return;const z="cdk-describedby-message-container",fe=this._document.querySelectorAll(`.${z}[platform="server"]`);for(let Ft=0;Ft<fe.length;Ft++)fe[Ft].remove();const je=this._document.createElement("div");je.style.visibility="hidden",je.classList.add(z),je.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&je.setAttribute("platform","server"),this._document.body.appendChild(je),this._messagesContainer=je}_removeCdkDescribedByReferenceIds(z){const fe=xe(z,"aria-describedby").filter(je=>0!=je.indexOf(se));z.setAttribute("aria-describedby",fe.join(" "))}_addMessageReference(z,fe){const je=this._messageRegistry.get(fe);(function tt(O,K,z){const fe=xe(O,K);fe.some(je=>je.trim()==z.trim())||(fe.push(z.trim()),O.setAttribute(K,fe.join(" ")))})(z,"aria-describedby",je.messageElement.id),z.setAttribute(oe,this._id),je.referenceCount++}_removeMessageReference(z,fe){const je=this._messageRegistry.get(fe);je.referenceCount--,function Le(O,K,z){const je=xe(O,K).filter(Ft=>Ft!=z.trim());je.length?O.setAttribute(K,je.join(" ")):O.removeAttribute(K)}(z,"aria-describedby",je.messageElement.id),z.removeAttribute(oe)}_isElementDescribedByMessage(z,fe){const je=xe(z,"aria-describedby"),Ft=this._messageRegistry.get(fe),cn=Ft&&Ft.messageElement.id;return!!cn&&-1!=je.indexOf(cn)}_canBeDescribed(z,fe){if(!this._isElementNode(z))return!1;if(fe&&"object"==typeof fe)return!0;const je=null==fe?"":`${fe}`.trim(),Ft=z.getAttribute("aria-label");return!(!je||Ft&&Ft.trim()===je)}_isElementNode(z){return z.nodeType===this._document.ELEMENT_NODE}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(c.K0),y.LFG(b.t4))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ue(O,K){return"string"==typeof O?`${K||""}/${O}`:O}function Ce(O,K){O.id||(O.id=`${se}-${K}-${Qe++}`)}class Je{constructor(K){this._items=K,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F.x,this._typeaheadSubscription=de.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=z=>z.disabled,this._pressedLetters=[],this.tabOut=new F.x,this.change=new F.x,K instanceof y.n_E&&K.changes.subscribe(z=>{if(this._activeItem){const je=z.toArray().indexOf(this._activeItem);je>-1&&je!==this._activeItemIndex&&(this._activeItemIndex=je)}})}skipPredicate(K){return this._skipPredicateFn=K,this}withWrap(K=!0){return this._wrap=K,this}withVerticalOrientation(K=!0){return this._vertical=K,this}withHorizontalOrientation(K){return this._horizontal=K,this}withAllowedModifierKeys(K){return this._allowedModifierKeys=K,this}withTypeAhead(K=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,S.b)(z=>this._pressedLetters.push(z)),(0,ne.b)(K),(0,me.h)(()=>this._pressedLetters.length>0),(0,he.U)(()=>this._pressedLetters.join(""))).subscribe(z=>{const fe=this._getItemsArray();for(let je=1;je<fe.length+1;je++){const Ft=(this._activeItemIndex+je)%fe.length,cn=fe[Ft];if(!this._skipPredicateFn(cn)&&0===cn.getLabel().toUpperCase().trim().indexOf(z)){this.setActiveItem(Ft);break}}this._pressedLetters=[]}),this}withHomeAndEnd(K=!0){return this._homeAndEnd=K,this}setActiveItem(K){const z=this._activeItem;this.updateActiveItem(K),this._activeItem!==z&&this.change.next(this._activeItemIndex)}onKeydown(K){const z=K.keyCode,je=["altKey","ctrlKey","metaKey","shiftKey"].every(Ft=>!K[Ft]||this._allowedModifierKeys.indexOf(Ft)>-1);switch(z){case Re.Mf:return void this.tabOut.next();case Re.JH:if(this._vertical&&je){this.setNextItemActive();break}return;case Re.LH:if(this._vertical&&je){this.setPreviousItemActive();break}return;case Re.SV:if(this._horizontal&&je){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Re.oh:if(this._horizontal&&je){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Re.Sd:if(this._homeAndEnd&&je){this.setFirstItemActive();break}return;case Re.uR:if(this._homeAndEnd&&je){this.setLastItemActive();break}return;default:return void((je||(0,Re.Vb)(K,"shiftKey"))&&(K.key&&1===K.key.length?this._letterKeyStream.next(K.key.toLocaleUpperCase()):(z>=Re.A&&z<=Re.Z||z>=Re.xE&&z<=Re.aO)&&this._letterKeyStream.next(String.fromCharCode(z))))}this._pressedLetters=[],K.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(K){const z=this._getItemsArray(),fe="number"==typeof K?K:z.indexOf(K);this._activeItem=z[fe]??null,this._activeItemIndex=fe}_setActiveItemByDelta(K){this._wrap?this._setActiveInWrapMode(K):this._setActiveInDefaultMode(K)}_setActiveInWrapMode(K){const z=this._getItemsArray();for(let fe=1;fe<=z.length;fe++){const je=(this._activeItemIndex+K*fe+z.length)%z.length;if(!this._skipPredicateFn(z[je]))return void this.setActiveItem(je)}}_setActiveInDefaultMode(K){this._setActiveItemByIndex(this._activeItemIndex+K,K)}_setActiveItemByIndex(K,z){const fe=this._getItemsArray();if(fe[K]){for(;this._skipPredicateFn(fe[K]);)if(!fe[K+=z])return;this.setActiveItem(K)}}_getItemsArray(){return this._items instanceof y.n_E?this._items.toArray():this._items}}class Ht extends Je{setActiveItem(K){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(K),this.activeItem&&this.activeItem.setActiveStyles()}}class jt extends Je{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(K){return this._origin=K,this}setActiveItem(K){super.setActiveItem(K),this.activeItem&&this.activeItem.focus(this._origin)}}let on=(()=>{class O{constructor(z){this._platform=z}isDisabled(z){return z.hasAttribute("disabled")}isVisible(z){return function Te(O){return!!(O.offsetWidth||O.offsetHeight||"function"==typeof O.getClientRects&&O.getClientRects().length)}(z)&&"visible"===getComputedStyle(z).visibility}isTabbable(z){if(!this._platform.isBrowser)return!1;const fe=function Bt(O){try{return O.frameElement}catch{return null}}(function Nt(O){return O.ownerDocument&&O.ownerDocument.defaultView||window}(z));if(fe&&(-1===et(fe)||!this.isVisible(fe)))return!1;let je=z.nodeName.toLowerCase(),Ft=et(z);return z.hasAttribute("contenteditable")?-1!==Ft:!("iframe"===je||"object"===je||this._platform.WEBKIT&&this._platform.IOS&&!function rt(O){let K=O.nodeName.toLowerCase(),z="input"===K&&O.type;return"text"===z||"password"===z||"select"===K||"textarea"===K}(z))&&("audio"===je?!!z.hasAttribute("controls")&&-1!==Ft:"video"===je?-1!==Ft&&(null!==Ft||this._platform.FIREFOX||z.hasAttribute("controls")):z.tabIndex>=0)}isFocusable(z,fe){return function Dt(O){return!function pt(O){return function Mt(O){return"input"==O.nodeName.toLowerCase()}(O)&&"hidden"==O.type}(O)&&(function Et(O){let K=O.nodeName.toLowerCase();return"input"===K||"select"===K||"button"===K||"textarea"===K}(O)||function Lt(O){return function zt(O){return"a"==O.nodeName.toLowerCase()}(O)&&O.hasAttribute("href")}(O)||O.hasAttribute("contenteditable")||Ye(O))}(z)&&!this.isDisabled(z)&&(fe?.ignoreVisibility||this.isVisible(z))}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(b.t4))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Ye(O){if(!O.hasAttribute("tabindex")||void 0===O.tabIndex)return!1;let K=O.getAttribute("tabindex");return!(!K||isNaN(parseInt(K,10)))}function et(O){if(!Ye(O))return null;const K=parseInt(O.getAttribute("tabindex")||"",10);return isNaN(K)?-1:K}class dn{constructor(K,z,fe,je,Ft=!1){this._element=K,this._checker=z,this._ngZone=fe,this._document=je,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ft||this.attachAnchors()}get enabled(){return this._enabled}set enabled(K){this._enabled=K,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(K,this._startAnchor),this._toggleAnchorTabIndex(K,this._endAnchor))}destroy(){const K=this._startAnchor,z=this._endAnchor;K&&(K.removeEventListener("focus",this.startAnchorListener),K.remove()),z&&(z.removeEventListener("focus",this.endAnchorListener),z.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(K){return new Promise(z=>{this._executeOnStable(()=>z(this.focusInitialElement(K)))})}focusFirstTabbableElementWhenReady(K){return new Promise(z=>{this._executeOnStable(()=>z(this.focusFirstTabbableElement(K)))})}focusLastTabbableElementWhenReady(K){return new Promise(z=>{this._executeOnStable(()=>z(this.focusLastTabbableElement(K)))})}_getRegionBoundary(K){const z=this._element.querySelectorAll(`[cdk-focus-region-${K}], [cdkFocusRegion${K}], [cdk-focus-${K}]`);return"start"==K?z.length?z[0]:this._getFirstTabbableElement(this._element):z.length?z[z.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(K){const z=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(z){if(!this._checker.isFocusable(z)){const fe=this._getFirstTabbableElement(z);return fe?.focus(K),!!fe}return z.focus(K),!0}return this.focusFirstTabbableElement(K)}focusFirstTabbableElement(K){const z=this._getRegionBoundary("start");return z&&z.focus(K),!!z}focusLastTabbableElement(K){const z=this._getRegionBoundary("end");return z&&z.focus(K),!!z}hasAttached(){return this._hasAttached}_getFirstTabbableElement(K){if(this._checker.isFocusable(K)&&this._checker.isTabbable(K))return K;const z=K.children;for(let fe=0;fe<z.length;fe++){const je=z[fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(z[fe]):null;if(je)return je}return null}_getLastTabbableElement(K){if(this._checker.isFocusable(K)&&this._checker.isTabbable(K))return K;const z=K.children;for(let fe=z.length-1;fe>=0;fe--){const je=z[fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(z[fe]):null;if(je)return je}return null}_createAnchor(){const K=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,K),K.classList.add("cdk-visually-hidden"),K.classList.add("cdk-focus-trap-anchor"),K.setAttribute("aria-hidden","true"),K}_toggleAnchorTabIndex(K,z){K?z.setAttribute("tabindex","0"):z.removeAttribute("tabindex")}toggleAnchors(K){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(K,this._startAnchor),this._toggleAnchorTabIndex(K,this._endAnchor))}_executeOnStable(K){this._ngZone.isStable?K():this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(K)}}let Mn=(()=>{class O{constructor(z,fe,je){this._checker=z,this._ngZone=fe,this._document=je}create(z,fe=!1){return new dn(z,this._checker,this._ngZone,this._document,fe)}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(on),y.LFG(y.R0b),y.LFG(c.K0))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ge(O){return 0===O.buttons||0===O.offsetX&&0===O.offsetY}function P(O){const K=O.touches&&O.touches[0]||O.changedTouches&&O.changedTouches[0];return!(!K||-1!==K.identifier||null!=K.radiusX&&1!==K.radiusX||null!=K.radiusY&&1!==K.radiusY)}const $=new y.OlP("cdk-input-modality-detector-options"),De={ignoreKeys:[Re.zL,Re.jx,Re.b2,Re.MW,Re.JU]},Ge=(0,b.i$)({passive:!0,capture:!0});let Pe=(()=>{class O{constructor(z,fe,je,Ft){this._platform=z,this._mostRecentTarget=null,this._modality=new Be.X(null),this._lastTouchMs=0,this._onKeydown=cn=>{this._options?.ignoreKeys?.some(mn=>mn===cn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(cn))},this._onMousedown=cn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ge(cn)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(cn))},this._onTouchstart=cn=>{P(cn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(cn))},this._options={...De,...Ft},this.modalityDetected=this._modality.pipe((0,We.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Me.x)()),z.isBrowser&&fe.runOutsideAngular(()=>{je.addEventListener("keydown",this._onKeydown,Ge),je.addEventListener("mousedown",this._onMousedown,Ge),je.addEventListener("touchstart",this._onTouchstart,Ge)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ge),document.removeEventListener("mousedown",this._onMousedown,Ge),document.removeEventListener("touchstart",this._onTouchstart,Ge))}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(b.t4),y.LFG(y.R0b),y.LFG(c.K0),y.LFG($,8))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Fe=new y.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xt(){return null}}),St=new y.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Pt=(()=>{class O{constructor(z,fe,je,Ft){this._ngZone=fe,this._defaultOptions=Ft,this._document=je,this._liveElement=z||this._createLiveElement()}announce(z,...fe){const je=this._defaultOptions;let Ft,cn;return 1===fe.length&&"number"==typeof fe[0]?cn=fe[0]:[Ft,cn]=fe,this.clear(),clearTimeout(this._previousTimeout),Ft||(Ft=je&&je.politeness?je.politeness:"polite"),null==cn&&je&&(cn=je.duration),this._liveElement.setAttribute("aria-live",Ft),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(mn=>this._currentResolve=mn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=z,"number"==typeof cn&&(this._previousTimeout=setTimeout(()=>this.clear(),cn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const z="cdk-live-announcer-element",fe=this._document.getElementsByClassName(z),je=this._document.createElement("div");for(let Ft=0;Ft<fe.length;Ft++)fe[Ft].remove();return je.classList.add(z),je.classList.add("cdk-visually-hidden"),je.setAttribute("aria-atomic","true"),je.setAttribute("aria-live","polite"),this._document.body.appendChild(je),je}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(Fe,8),y.LFG(y.R0b),y.LFG(c.K0),y.LFG(St,8))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Ln=new y.OlP("cdk-focus-monitor-default-options"),at=(0,b.i$)({passive:!0,capture:!0});let Vt=(()=>{class O{constructor(z,fe,je,Ft,cn){this._ngZone=z,this._platform=fe,this._inputModalityDetector=je,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F.x,this._rootNodeFocusAndBlurListener=mn=>{for(let ut=(0,b.sA)(mn);ut;ut=ut.parentElement)"focus"===mn.type?this._onFocus(mn,ut):this._onBlur(mn,ut)},this._document=Ft,this._detectionMode=cn?.detectionMode||0}monitor(z,fe=!1){const je=(0,Se.fI)(z);if(!this._platform.isBrowser||1!==je.nodeType)return(0,Ke.of)(null);const Ft=(0,b.kV)(je)||this._getDocument(),cn=this._elementInfo.get(je);if(cn)return fe&&(cn.checkChildren=!0),cn.subject;const mn={checkChildren:fe,subject:new F.x,rootNode:Ft};return this._elementInfo.set(je,mn),this._registerGlobalListeners(mn),mn.subject}stopMonitoring(z){const fe=(0,Se.fI)(z),je=this._elementInfo.get(fe);je&&(je.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(je))}focusVia(z,fe,je){const Ft=(0,Se.fI)(z);Ft===this._getDocument().activeElement?this._getClosestElementsInfo(Ft).forEach(([mn,At])=>this._originChanged(mn,fe,At)):(this._setOrigin(fe),"function"==typeof Ft.focus&&Ft.focus(je))}ngOnDestroy(){this._elementInfo.forEach((z,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(z){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(z)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:z&&this._isLastInteractionFromInputLabel(z)?"mouse":"program"}_shouldBeAttributedToTouch(z){return 1===this._detectionMode||!!z?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(z,fe){z.classList.toggle("cdk-focused",!!fe),z.classList.toggle("cdk-touch-focused","touch"===fe),z.classList.toggle("cdk-keyboard-focused","keyboard"===fe),z.classList.toggle("cdk-mouse-focused","mouse"===fe),z.classList.toggle("cdk-program-focused","program"===fe)}_setOrigin(z,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=z,this._originFromTouchInteraction="touch"===z&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(z,fe){const je=this._elementInfo.get(fe),Ft=(0,b.sA)(z);!je||!je.checkChildren&&fe!==Ft||this._originChanged(fe,this._getFocusOrigin(Ft),je)}_onBlur(z,fe){const je=this._elementInfo.get(fe);!je||je.checkChildren&&z.relatedTarget instanceof Node&&fe.contains(z.relatedTarget)||(this._setClasses(fe),this._emitOrigin(je,null))}_emitOrigin(z,fe){z.subject.observers.length&&this._ngZone.run(()=>z.subject.next(fe))}_registerGlobalListeners(z){if(!this._platform.isBrowser)return;const fe=z.rootNode,je=this._rootNodeFocusListenerCount.get(fe)||0;je||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,at),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,at)}),this._rootNodeFocusListenerCount.set(fe,je+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ze.R)(this._stopInputModalityDetector)).subscribe(Ft=>{this._setOrigin(Ft,!0)}))}_removeGlobalListeners(z){const fe=z.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const je=this._rootNodeFocusListenerCount.get(fe);je>1?this._rootNodeFocusListenerCount.set(fe,je-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,at),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,at),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(z,fe,je){this._setClasses(z,fe),this._emitOrigin(je,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(z){const fe=[];return this._elementInfo.forEach((je,Ft)=>{(Ft===z||je.checkChildren&&Ft.contains(z))&&fe.push([Ft,je])}),fe}_isLastInteractionFromInputLabel(z){const{_mostRecentTarget:fe,mostRecentModality:je}=this._inputModalityDetector;if("mouse"!==je||!fe||fe===z||"INPUT"!==z.nodeName&&"TEXTAREA"!==z.nodeName||z.disabled)return!1;const Ft=z.labels;if(Ft)for(let cn=0;cn<Ft.length;cn++)if(Ft[cn].contains(fe))return!0;return!1}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(y.R0b),y.LFG(b.t4),y.LFG(Pe),y.LFG(c.K0,8),y.LFG(Ln,8))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const lt="cdk-high-contrast-black-on-white",gt="cdk-high-contrast-white-on-black",te="cdk-high-contrast-active";let J=(()=>{class O{constructor(z,fe){this._platform=z,this._document=fe,this._breakpointSubscription=(0,y.f3M)(be.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const z=this._document.createElement("div");z.style.backgroundColor="rgb(1,2,3)",z.style.position="absolute",this._document.body.appendChild(z);const fe=this._document.defaultView||window,je=fe&&fe.getComputedStyle?fe.getComputedStyle(z):null,Ft=(je&&je.backgroundColor||"").replace(/ /g,"");switch(z.remove(),Ft){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const z=this._document.body.classList;z.remove(te,lt,gt),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?z.add(te,lt):2===fe&&z.add(te,gt)}}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(b.t4),y.LFG(c.K0))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ee=(()=>{class O{constructor(z){z._applyBodyHighContrastModeCssClasses()}}return O.\u0275fac=function(z){return new(z||O)(y.LFG(J))},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({imports:[Ee.Q8]}),O})()},445:(ln,ht,w)=>{w.d(ht,{Is:()=>Ke,vT:()=>S});var c=w(4650),y=w(6895);const b=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function F(){return(0,c.f3M)(y.K0)}}),de=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ke=(()=>{class ne{constructor(he){if(this.value="ltr",this.change=new c.vpe,he){const We=he.documentElement?he.documentElement.dir:null;this.value=function Be(ne){const me=ne?.toLowerCase()||"";return"auto"===me&&typeof navigator<"u"&&navigator?.language?de.test(navigator.language)?"rtl":"ltr":"rtl"===me?"rtl":"ltr"}((he.body?he.body.dir:null)||We||"ltr")}}ngOnDestroy(){this.change.complete()}}return ne.\u0275fac=function(he){return new(he||ne)(c.LFG(b,8))},ne.\u0275prov=c.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),S=(()=>{class ne{}return ne.\u0275fac=function(he){return new(he||ne)},ne.\u0275mod=c.oAB({type:ne}),ne.\u0275inj=c.cJS({}),ne})()},1281:(ln,ht,w)=>{w.d(ht,{Eq:()=>de,HM:()=>Be,Ig:()=>y,fI:()=>Ke,su:()=>b,t6:()=>F});var c=w(4650);function y(S){return null!=S&&"false"!=`${S}`}function b(S,ne=0){return F(S)?Number(S):ne}function F(S){return!isNaN(parseFloat(S))&&!isNaN(Number(S))}function de(S){return Array.isArray(S)?S:[S]}function Be(S){return null==S?"":"string"==typeof S?S:`${S}px`}function Ke(S){return S instanceof c.SBq?S.nativeElement:S}},5017:(ln,ht,w)=>{w.d(ht,{A8:()=>ne,Ov:()=>Re,Z9:()=>F,eX:()=>Ke,k:()=>me,o2:()=>b,yy:()=>Be});var c=w(7579),y=w(4650);class b{}function F(he){return he&&"function"==typeof he.connect}class Be{applyChanges(He,We,Me,ze,Se){He.forEachOperation((Ee,be,dt)=>{let tt,Le;if(null==Ee.previousIndex){const xe=Me(Ee,be,dt);tt=We.createEmbeddedView(xe.templateRef,xe.context,xe.index),Le=1}else null==dt?(We.remove(be),Le=3):(tt=We.get(be),We.move(tt,dt),Le=2);Se&&Se({context:tt?.context,operation:Le,record:Ee})})}detach(){}}class Ke{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(He,We,Me,ze,Se){He.forEachOperation((Ee,be,dt)=>{let tt,Le;null==Ee.previousIndex?(tt=this._insertView(()=>Me(Ee,be,dt),dt,We,ze(Ee)),Le=tt?1:0):null==dt?(this._detachAndCacheView(be,We),Le=3):(tt=this._moveView(be,dt,We,ze(Ee)),Le=2),Se&&Se({context:tt?.context,operation:Le,record:Ee})})}detach(){for(const He of this._viewCache)He.destroy();this._viewCache=[]}_insertView(He,We,Me,ze){const Se=this._insertViewFromCache(We,Me);if(Se)return void(Se.context.$implicit=ze);const Ee=He();return Me.createEmbeddedView(Ee.templateRef,Ee.context,Ee.index)}_detachAndCacheView(He,We){const Me=We.detach(He);this._maybeCacheView(Me,We)}_moveView(He,We,Me,ze){const Se=Me.get(He);return Me.move(Se,We),Se.context.$implicit=ze,Se}_maybeCacheView(He,We){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(He);else{const Me=We.indexOf(He);-1===Me?He.destroy():We.remove(Me)}}_insertViewFromCache(He,We){const Me=this._viewCache.pop();return Me&&We.insert(Me,He),Me||null}}class Re{constructor(He=!1,We,Me=!0,ze){this._multiple=He,this._emitChanges=Me,this.compareWith=ze,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new c.x,We&&We.length&&(He?We.forEach(Se=>this._markSelected(Se)):this._markSelected(We[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...He){this._verifyValueAssignment(He),He.forEach(Me=>this._markSelected(Me));const We=this._hasQueuedChanges();return this._emitChangeEvent(),We}deselect(...He){this._verifyValueAssignment(He),He.forEach(Me=>this._unmarkSelected(Me));const We=this._hasQueuedChanges();return this._emitChangeEvent(),We}setSelection(...He){this._verifyValueAssignment(He);const We=this.selected,Me=new Set(He);He.forEach(Se=>this._markSelected(Se)),We.filter(Se=>!Me.has(Se)).forEach(Se=>this._unmarkSelected(Se));const ze=this._hasQueuedChanges();return this._emitChangeEvent(),ze}toggle(He){return this.isSelected(He)?this.deselect(He):this.select(He)}clear(He=!0){this._unmarkAll();const We=this._hasQueuedChanges();return He&&this._emitChangeEvent(),We}isSelected(He){if(this.compareWith){for(const We of this._selection)if(this.compareWith(We,He))return!0;return!1}return this._selection.has(He)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(He){this._multiple&&this.selected&&this._selected.sort(He)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(He){this.isSelected(He)||(this._multiple||this._unmarkAll(),this.isSelected(He)||this._selection.add(He),this._emitChanges&&this._selectedToEmit.push(He))}_unmarkSelected(He){this.isSelected(He)&&(this._selection.delete(He),this._emitChanges&&this._deselectedToEmit.push(He))}_unmarkAll(){this.isEmpty()||this._selection.forEach(He=>this._unmarkSelected(He))}_verifyValueAssignment(He){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let ne=(()=>{class he{constructor(){this._listeners=[]}notify(We,Me){for(let ze of this._listeners)ze(We,Me)}listen(We){return this._listeners.push(We),()=>{this._listeners=this._listeners.filter(Me=>We!==Me)}}ngOnDestroy(){this._listeners=[]}}return he.\u0275fac=function(We){return new(We||he)},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const me=new y.OlP("_ViewRepeater")},9521:(ln,ht,w)=>{w.d(ht,{A:()=>pt,JH:()=>dt,JU:()=>Be,K5:()=>de,LH:()=>Ee,L_:()=>he,MW:()=>St,Mf:()=>b,SV:()=>be,Sd:()=>ze,Vb:()=>ps,Z:()=>xt,ZH:()=>y,aO:()=>sn,b2:()=>Qi,hY:()=>me,jx:()=>Ke,oh:()=>Se,uR:()=>Me,xE:()=>se,yY:()=>Ne,zL:()=>Re});const y=8,b=9,de=13,Be=16,Ke=17,Re=18,me=27,he=32,Me=35,ze=36,Se=37,Ee=38,be=39,dt=40,Ne=46,se=48,sn=57,pt=65,xt=90,St=91,Qi=224;function ps(wi,...Ir){return Ir.length?Ir.some(or=>wi[or]):wi.altKey||wi.shiftKey||wi.ctrlKey||wi.metaKey}},2289:(ln,ht,w)=>{w.d(ht,{Yg:()=>dt,u3:()=>Le});var c=w(4650),y=w(1281),b=w(7579),F=w(9841),de=w(7272),Be=w(9751),Ke=w(5698),Re=w(5684),S=w(8372),ne=w(4004),me=w(8675),he=w(2722),He=w(3353);const Me=new Set;let ze,Se=(()=>{class xe{constructor(se){this._platform=se,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):be}matchMedia(se){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ee(xe){if(!Me.has(xe))try{ze||(ze=document.createElement("style"),ze.setAttribute("type","text/css"),document.head.appendChild(ze)),ze.sheet&&(ze.sheet.insertRule(`@media ${xe} {body{ }}`,0),Me.add(xe))}catch(Ne){console.error(Ne)}}(se),this._matchMedia(se)}}return xe.\u0275fac=function(se){return new(se||xe)(c.LFG(He.t4))},xe.\u0275prov=c.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function be(xe){return{matches:"all"===xe||""===xe,media:xe,addListener:()=>{},removeListener:()=>{}}}let dt=(()=>{class xe{constructor(se,oe){this._mediaMatcher=se,this._zone=oe,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(se){return tt((0,y.Eq)(se)).some(Qe=>this._registerQuery(Qe).mql.matches)}observe(se){const Qe=tt((0,y.Eq)(se)).map(ue=>this._registerQuery(ue).observable);let ae=(0,F.a)(Qe);return ae=(0,de.z)(ae.pipe((0,Ke.q)(1)),ae.pipe((0,Re.T)(1),(0,S.b)(0))),ae.pipe((0,ne.U)(ue=>{const Ce={matches:!1,breakpoints:{}};return ue.forEach(({matches:Je,query:Ht})=>{Ce.matches=Ce.matches||Je,Ce.breakpoints[Ht]=Je}),Ce}))}_registerQuery(se){if(this._queries.has(se))return this._queries.get(se);const oe=this._mediaMatcher.matchMedia(se),ae={observable:new Be.y(ue=>{const Ce=Je=>this._zone.run(()=>ue.next(Je));return oe.addListener(Ce),()=>{oe.removeListener(Ce)}}).pipe((0,me.O)(oe),(0,ne.U)(({matches:ue})=>({query:se,matches:ue})),(0,he.R)(this._destroySubject)),mql:oe};return this._queries.set(se,ae),ae}}return xe.\u0275fac=function(se){return new(se||xe)(c.LFG(Se),c.LFG(c.R0b))},xe.\u0275prov=c.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function tt(xe){return xe.map(Ne=>Ne.split(",")).reduce((Ne,se)=>Ne.concat(se)).map(Ne=>Ne.trim())}const Le={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(ln,ht,w)=>{w.d(ht,{Q8:()=>S,wD:()=>Re});var c=w(1281),y=w(4650),b=w(9751),F=w(7579),de=w(8372);let Be=(()=>{class ne{create(he){return typeof MutationObserver>"u"?null:new MutationObserver(he)}}return ne.\u0275fac=function(he){return new(he||ne)},ne.\u0275prov=y.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Ke=(()=>{class ne{constructor(he){this._mutationObserverFactory=he,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((he,He)=>this._cleanupObserver(He))}observe(he){const He=(0,c.fI)(he);return new b.y(We=>{const ze=this._observeElement(He).subscribe(We);return()=>{ze.unsubscribe(),this._unobserveElement(He)}})}_observeElement(he){if(this._observedElements.has(he))this._observedElements.get(he).count++;else{const He=new F.x,We=this._mutationObserverFactory.create(Me=>He.next(Me));We&&We.observe(he,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(he,{observer:We,stream:He,count:1})}return this._observedElements.get(he).stream}_unobserveElement(he){this._observedElements.has(he)&&(this._observedElements.get(he).count--,this._observedElements.get(he).count||this._cleanupObserver(he))}_cleanupObserver(he){if(this._observedElements.has(he)){const{observer:He,stream:We}=this._observedElements.get(he);He&&He.disconnect(),We.complete(),this._observedElements.delete(he)}}}return ne.\u0275fac=function(he){return new(he||ne)(y.LFG(Be))},ne.\u0275prov=y.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Re=(()=>{class ne{constructor(he,He,We){this._contentObserver=he,this._elementRef=He,this._ngZone=We,this.event=new y.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(he){this._disabled=(0,c.Ig)(he),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(he){this._debounce=(0,c.su)(he),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const he=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?he.pipe((0,de.b)(this.debounce)):he).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ne.\u0275fac=function(he){return new(he||ne)(y.Y36(Ke),y.Y36(y.SBq),y.Y36(y.R0b))},ne.\u0275dir=y.lG2({type:ne,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ne})(),S=(()=>{class ne{}return ne.\u0275fac=function(he){return new(he||ne)},ne.\u0275mod=y.oAB({type:ne}),ne.\u0275inj=y.cJS({providers:[Be]}),ne})()},8184:(ln,ht,w)=>{w.d(ht,{Iu:()=>sn,U8:()=>Jt,X_:()=>Ne,Xj:()=>jt,aV:()=>Nt,pI:()=>Fn,xu:()=>Pn});var c=w(531),y=w(6895),b=w(4650),F=w(1281),de=w(3353),Be=w(445),Ke=w(4080),Re=w(7579),S=w(727),ne=w(6451),me=w(5698),he=w(2722),He=w(2529),We=w(9521);const Me=(0,de.Mq)();class ze{constructor(P,$){this._viewportRuler=P,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=$}attach(){}enable(){if(this._canBeEnabled()){const P=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=P.style.left||"",this._previousHTMLStyles.top=P.style.top||"",P.style.left=(0,F.HM)(-this._previousScrollPosition.left),P.style.top=(0,F.HM)(-this._previousScrollPosition.top),P.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const P=this._document.documentElement,De=P.style,mt=this._document.body.style,Ge=De.scrollBehavior||"",Pe=mt.scrollBehavior||"";this._isEnabled=!1,De.left=this._previousHTMLStyles.left,De.top=this._previousHTMLStyles.top,P.classList.remove("cdk-global-scrollblock"),Me&&(De.scrollBehavior=mt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Me&&(De.scrollBehavior=Ge,mt.scrollBehavior=Pe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const $=this._document.body,De=this._viewportRuler.getViewportSize();return $.scrollHeight>De.height||$.scrollWidth>De.width}}class Ee{constructor(P,$,De,mt){this._scrollDispatcher=P,this._ngZone=$,this._viewportRuler=De,this._config=mt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(P){this._overlayRef=P}enable(){if(this._scrollSubscription)return;const P=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=P.subscribe(()=>{const $=this._viewportRuler.getViewportScrollPosition().top;Math.abs($-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=P.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class be{enable(){}disable(){}attach(){}}function dt(ge,P){return P.some($=>ge.bottom<$.top||ge.top>$.bottom||ge.right<$.left||ge.left>$.right)}function tt(ge,P){return P.some($=>ge.top<$.top||ge.bottom>$.bottom||ge.left<$.left||ge.right>$.right)}class Le{constructor(P,$,De,mt){this._scrollDispatcher=P,this._viewportRuler=$,this._ngZone=De,this._config=mt,this._scrollSubscription=null}attach(P){this._overlayRef=P}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const $=this._overlayRef.overlayElement.getBoundingClientRect(),{width:De,height:mt}=this._viewportRuler.getViewportSize();dt($,[{width:De,height:mt,bottom:mt,right:De,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xe=(()=>{class ge{constructor($,De,mt,Ge){this._scrollDispatcher=$,this._viewportRuler=De,this._ngZone=mt,this.noop=()=>new be,this.close=Pe=>new Ee(this._scrollDispatcher,this._ngZone,this._viewportRuler,Pe),this.block=()=>new ze(this._viewportRuler,this._document),this.reposition=Pe=>new Le(this._scrollDispatcher,this._viewportRuler,this._ngZone,Pe),this._document=Ge}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(c.mF),b.LFG(c.rL),b.LFG(b.R0b),b.LFG(y.K0))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();class Ne{constructor(P){if(this.scrollStrategy=new be,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,P){const $=Object.keys(P);for(const De of $)void 0!==P[De]&&(this[De]=P[De])}}}class Qe{constructor(P,$){this.connectionPair=P,this.scrollableViewProperties=$}}let Ce=(()=>{class ge{constructor($){this._attachedOverlays=[],this._document=$}ngOnDestroy(){this.detach()}add($){this.remove($),this._attachedOverlays.push($)}remove($){const De=this._attachedOverlays.indexOf($);De>-1&&this._attachedOverlays.splice(De,1),0===this._attachedOverlays.length&&this.detach()}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(y.K0))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Je=(()=>{class ge extends Ce{constructor($,De){super($),this._ngZone=De,this._keydownListener=mt=>{const Ge=this._attachedOverlays;for(let Pe=Ge.length-1;Pe>-1;Pe--)if(Ge[Pe]._keydownEvents.observers.length>0){const Fe=Ge[Pe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Fe.next(mt)):Fe.next(mt);break}}}add($){super.add($),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(y.K0),b.LFG(b.R0b,8))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Ht=(()=>{class ge extends Ce{constructor($,De,mt){super($),this._platform=De,this._ngZone=mt,this._cursorStyleIsSet=!1,this._pointerDownListener=Ge=>{this._pointerDownEventTarget=(0,de.sA)(Ge)},this._clickListener=Ge=>{const Pe=(0,de.sA)(Ge),Fe="click"===Ge.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Pe;this._pointerDownEventTarget=null;const xt=this._attachedOverlays.slice();for(let St=xt.length-1;St>-1;St--){const Pt=xt[St];if(Pt._outsidePointerEvents.observers.length<1||!Pt.hasAttached())continue;if(Pt.overlayElement.contains(Pe)||Pt.overlayElement.contains(Fe))break;const gn=Pt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>gn.next(Ge)):gn.next(Ge)}}}add($){if(super.add($),!this._isAttached){const De=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(De)):this._addEventListeners(De),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=De.style.cursor,De.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const $=this._document.body;$.removeEventListener("pointerdown",this._pointerDownListener,!0),$.removeEventListener("click",this._clickListener,!0),$.removeEventListener("auxclick",this._clickListener,!0),$.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&($.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners($){$.addEventListener("pointerdown",this._pointerDownListener,!0),$.addEventListener("click",this._clickListener,!0),$.addEventListener("auxclick",this._clickListener,!0),$.addEventListener("contextmenu",this._clickListener,!0)}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(y.K0),b.LFG(de.t4),b.LFG(b.R0b,8))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),jt=(()=>{class ge{constructor($,De){this._platform=De,this._document=$}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $="cdk-overlay-container";if(this._platform.isBrowser||(0,de.Oy)()){const mt=this._document.querySelectorAll(`.${$}[platform="server"], .${$}[platform="test"]`);for(let Ge=0;Ge<mt.length;Ge++)mt[Ge].remove()}const De=this._document.createElement("div");De.classList.add($),(0,de.Oy)()?De.setAttribute("platform","test"):this._platform.isBrowser||De.setAttribute("platform","server"),this._document.body.appendChild(De),this._containerElement=De}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(y.K0),b.LFG(de.t4))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();class sn{constructor(P,$,De,mt,Ge,Pe,Fe,xt,St,Pt=!1){this._portalOutlet=P,this._host=$,this._pane=De,this._config=mt,this._ngZone=Ge,this._keyboardDispatcher=Pe,this._document=Fe,this._location=xt,this._outsideClickDispatcher=St,this._animationsDisabled=Pt,this._backdropElement=null,this._backdropClick=new Re.x,this._attachments=new Re.x,this._detachments=new Re.x,this._locationChanges=S.w0.EMPTY,this._backdropClickHandler=gn=>this._backdropClick.next(gn),this._backdropTransitionendHandler=gn=>{this._disposeBackdrop(gn.target)},this._keydownEvents=new Re.x,this._outsidePointerEvents=new Re.x,mt.scrollStrategy&&(this._scrollStrategy=mt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=mt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(P){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const $=this._portalOutlet.attach(P);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,me.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof $?.onDestroy&&$.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),$}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const P=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),P}dispose(){const P=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,P&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(P){P!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=P,this.hasAttached()&&(P.attach(this),this.updatePosition()))}updateSize(P){this._config={...this._config,...P},this._updateElementSize()}setDirection(P){this._config={...this._config,direction:P},this._updateElementDirection()}addPanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!0)}removePanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!1)}getDirection(){const P=this._config.direction;return P?"string"==typeof P?P:P.value:"ltr"}updateScrollStrategy(P){P!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=P,this.hasAttached()&&(P.attach(this),P.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const P=this._pane.style;P.width=(0,F.HM)(this._config.width),P.height=(0,F.HM)(this._config.height),P.minWidth=(0,F.HM)(this._config.minWidth),P.minHeight=(0,F.HM)(this._config.minHeight),P.maxWidth=(0,F.HM)(this._config.maxWidth),P.maxHeight=(0,F.HM)(this._config.maxHeight)}_togglePointerEvents(P){this._pane.style.pointerEvents=P?"":"none"}_attachBackdrop(){const P="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(P)})}):this._backdropElement.classList.add(P)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const P=this._backdropElement;if(P){if(this._animationsDisabled)return void this._disposeBackdrop(P);P.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{P.addEventListener("transitionend",this._backdropTransitionendHandler)}),P.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(P)},500))}}_toggleClasses(P,$,De){const mt=(0,F.Eq)($||[]).filter(Ge=>!!Ge);mt.length&&(De?P.classList.add(...mt):P.classList.remove(...mt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const P=this._ngZone.onStable.pipe((0,he.R)((0,ne.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),P.unsubscribe())})})}_disposeScrollStrategy(){const P=this._scrollStrategy;P&&(P.disable(),P.detach&&P.detach())}_disposeBackdrop(P){P&&(P.removeEventListener("click",this._backdropClickHandler),P.removeEventListener("transitionend",this._backdropTransitionendHandler),P.remove(),this._backdropElement===P&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const on="cdk-overlay-connected-position-bounding-box",Bt=/([A-Za-z%]+)$/;class Te{constructor(P,$,De,mt,Ge){this._viewportRuler=$,this._document=De,this._platform=mt,this._overlayContainer=Ge,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re.x,this._resizeSubscription=S.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(P)}get positions(){return this._preferredPositions}attach(P){this._validatePositions(),P.hostElement.classList.add(on),this._overlayRef=P,this._boundingBox=P.hostElement,this._pane=P.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const P=this._originRect,$=this._overlayRect,De=this._viewportRect,mt=this._containerRect,Ge=[];let Pe;for(let Fe of this._preferredPositions){let xt=this._getOriginPoint(P,mt,Fe),St=this._getOverlayPoint(xt,$,Fe),Pt=this._getOverlayFit(St,$,De,Fe);if(Pt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Fe,xt);this._canFitWithFlexibleDimensions(Pt,St,De)?Ge.push({position:Fe,origin:xt,overlayRect:$,boundingBoxRect:this._calculateBoundingBoxRect(xt,Fe)}):(!Pe||Pe.overlayFit.visibleArea<Pt.visibleArea)&&(Pe={overlayFit:Pt,overlayPoint:St,originPoint:xt,position:Fe,overlayRect:$})}if(Ge.length){let Fe=null,xt=-1;for(const St of Ge){const Pt=St.boundingBoxRect.width*St.boundingBoxRect.height*(St.position.weight||1);Pt>xt&&(xt=Pt,Fe=St)}return this._isPushed=!1,void this._applyPosition(Fe.position,Fe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Pe.position,Pe.originPoint);this._applyPosition(Pe.position,Pe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Et(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(on),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const P=this._lastPosition;if(P){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const $=this._getOriginPoint(this._originRect,this._containerRect,P);this._applyPosition(P,$)}else this.apply()}withScrollableContainers(P){return this._scrollables=P,this}withPositions(P){return this._preferredPositions=P,-1===P.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(P){return this._viewportMargin=P,this}withFlexibleDimensions(P=!0){return this._hasFlexibleDimensions=P,this}withGrowAfterOpen(P=!0){return this._growAfterOpen=P,this}withPush(P=!0){return this._canPush=P,this}withLockedPosition(P=!0){return this._positionLocked=P,this}setOrigin(P){return this._origin=P,this}withDefaultOffsetX(P){return this._offsetX=P,this}withDefaultOffsetY(P){return this._offsetY=P,this}withTransformOriginOn(P){return this._transformOriginSelector=P,this}_getOriginPoint(P,$,De){let mt,Ge;if("center"==De.originX)mt=P.left+P.width/2;else{const Pe=this._isRtl()?P.right:P.left,Fe=this._isRtl()?P.left:P.right;mt="start"==De.originX?Pe:Fe}return $.left<0&&(mt-=$.left),Ge="center"==De.originY?P.top+P.height/2:"top"==De.originY?P.top:P.bottom,$.top<0&&(Ge-=$.top),{x:mt,y:Ge}}_getOverlayPoint(P,$,De){let mt,Ge;return mt="center"==De.overlayX?-$.width/2:"start"===De.overlayX?this._isRtl()?-$.width:0:this._isRtl()?0:-$.width,Ge="center"==De.overlayY?-$.height/2:"top"==De.overlayY?0:-$.height,{x:P.x+mt,y:P.y+Ge}}_getOverlayFit(P,$,De,mt){const Ge=Lt($);let{x:Pe,y:Fe}=P,xt=this._getOffset(mt,"x"),St=this._getOffset(mt,"y");xt&&(Pe+=xt),St&&(Fe+=St);let Ln=0-Fe,at=Fe+Ge.height-De.height,Vt=this._subtractOverflows(Ge.width,0-Pe,Pe+Ge.width-De.width),ce=this._subtractOverflows(Ge.height,Ln,at),lt=Vt*ce;return{visibleArea:lt,isCompletelyWithinViewport:Ge.width*Ge.height===lt,fitsInViewportVertically:ce===Ge.height,fitsInViewportHorizontally:Vt==Ge.width}}_canFitWithFlexibleDimensions(P,$,De){if(this._hasFlexibleDimensions){const mt=De.bottom-$.y,Ge=De.right-$.x,Pe=pt(this._overlayRef.getConfig().minHeight),Fe=pt(this._overlayRef.getConfig().minWidth),St=P.fitsInViewportHorizontally||null!=Fe&&Fe<=Ge;return(P.fitsInViewportVertically||null!=Pe&&Pe<=mt)&&St}return!1}_pushOverlayOnScreen(P,$,De){if(this._previousPushAmount&&this._positionLocked)return{x:P.x+this._previousPushAmount.x,y:P.y+this._previousPushAmount.y};const mt=Lt($),Ge=this._viewportRect,Pe=Math.max(P.x+mt.width-Ge.width,0),Fe=Math.max(P.y+mt.height-Ge.height,0),xt=Math.max(Ge.top-De.top-P.y,0),St=Math.max(Ge.left-De.left-P.x,0);let Pt=0,gn=0;return Pt=mt.width<=Ge.width?St||-Pe:P.x<this._viewportMargin?Ge.left-De.left-P.x:0,gn=mt.height<=Ge.height?xt||-Fe:P.y<this._viewportMargin?Ge.top-De.top-P.y:0,this._previousPushAmount={x:Pt,y:gn},{x:P.x+Pt,y:P.y+gn}}_applyPosition(P,$){if(this._setTransformOrigin(P),this._setOverlayElementStyles($,P),this._setBoundingBoxStyles($,P),P.panelClass&&this._addPanelClasses(P.panelClass),this._lastPosition=P,this._positionChanges.observers.length){const De=this._getScrollVisibility(),mt=new Qe(P,De);this._positionChanges.next(mt)}this._isInitialRender=!1}_setTransformOrigin(P){if(!this._transformOriginSelector)return;const $=this._boundingBox.querySelectorAll(this._transformOriginSelector);let De,mt=P.overlayY;De="center"===P.overlayX?"center":this._isRtl()?"start"===P.overlayX?"right":"left":"start"===P.overlayX?"left":"right";for(let Ge=0;Ge<$.length;Ge++)$[Ge].style.transformOrigin=`${De} ${mt}`}_calculateBoundingBoxRect(P,$){const De=this._viewportRect,mt=this._isRtl();let Ge,Pe,Fe,Pt,gn,Ln;if("top"===$.overlayY)Pe=P.y,Ge=De.height-Pe+this._viewportMargin;else if("bottom"===$.overlayY)Fe=De.height-P.y+2*this._viewportMargin,Ge=De.height-Fe+this._viewportMargin;else{const at=Math.min(De.bottom-P.y+De.top,P.y),Vt=this._lastBoundingBoxSize.height;Ge=2*at,Pe=P.y-at,Ge>Vt&&!this._isInitialRender&&!this._growAfterOpen&&(Pe=P.y-Vt/2)}if("end"===$.overlayX&&!mt||"start"===$.overlayX&&mt)Ln=De.width-P.x+this._viewportMargin,Pt=P.x-this._viewportMargin;else if("start"===$.overlayX&&!mt||"end"===$.overlayX&&mt)gn=P.x,Pt=De.right-P.x;else{const at=Math.min(De.right-P.x+De.left,P.x),Vt=this._lastBoundingBoxSize.width;Pt=2*at,gn=P.x-at,Pt>Vt&&!this._isInitialRender&&!this._growAfterOpen&&(gn=P.x-Vt/2)}return{top:Pe,left:gn,bottom:Fe,right:Ln,width:Pt,height:Ge}}_setBoundingBoxStyles(P,$){const De=this._calculateBoundingBoxRect(P,$);!this._isInitialRender&&!this._growAfterOpen&&(De.height=Math.min(De.height,this._lastBoundingBoxSize.height),De.width=Math.min(De.width,this._lastBoundingBoxSize.width));const mt={};if(this._hasExactPosition())mt.top=mt.left="0",mt.bottom=mt.right=mt.maxHeight=mt.maxWidth="",mt.width=mt.height="100%";else{const Ge=this._overlayRef.getConfig().maxHeight,Pe=this._overlayRef.getConfig().maxWidth;mt.height=(0,F.HM)(De.height),mt.top=(0,F.HM)(De.top),mt.bottom=(0,F.HM)(De.bottom),mt.width=(0,F.HM)(De.width),mt.left=(0,F.HM)(De.left),mt.right=(0,F.HM)(De.right),mt.alignItems="center"===$.overlayX?"center":"end"===$.overlayX?"flex-end":"flex-start",mt.justifyContent="center"===$.overlayY?"center":"bottom"===$.overlayY?"flex-end":"flex-start",Ge&&(mt.maxHeight=(0,F.HM)(Ge)),Pe&&(mt.maxWidth=(0,F.HM)(Pe))}this._lastBoundingBoxSize=De,Et(this._boundingBox.style,mt)}_resetBoundingBoxStyles(){Et(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Et(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(P,$){const De={},mt=this._hasExactPosition(),Ge=this._hasFlexibleDimensions,Pe=this._overlayRef.getConfig();if(mt){const Pt=this._viewportRuler.getViewportScrollPosition();Et(De,this._getExactOverlayY($,P,Pt)),Et(De,this._getExactOverlayX($,P,Pt))}else De.position="static";let Fe="",xt=this._getOffset($,"x"),St=this._getOffset($,"y");xt&&(Fe+=`translateX(${xt}px) `),St&&(Fe+=`translateY(${St}px)`),De.transform=Fe.trim(),Pe.maxHeight&&(mt?De.maxHeight=(0,F.HM)(Pe.maxHeight):Ge&&(De.maxHeight="")),Pe.maxWidth&&(mt?De.maxWidth=(0,F.HM)(Pe.maxWidth):Ge&&(De.maxWidth="")),Et(this._pane.style,De)}_getExactOverlayY(P,$,De){let mt={top:"",bottom:""},Ge=this._getOverlayPoint($,this._overlayRect,P);return this._isPushed&&(Ge=this._pushOverlayOnScreen(Ge,this._overlayRect,De)),"bottom"===P.overlayY?mt.bottom=this._document.documentElement.clientHeight-(Ge.y+this._overlayRect.height)+"px":mt.top=(0,F.HM)(Ge.y),mt}_getExactOverlayX(P,$,De){let Pe,mt={left:"",right:""},Ge=this._getOverlayPoint($,this._overlayRect,P);return this._isPushed&&(Ge=this._pushOverlayOnScreen(Ge,this._overlayRect,De)),Pe=this._isRtl()?"end"===P.overlayX?"left":"right":"end"===P.overlayX?"right":"left","right"===Pe?mt.right=this._document.documentElement.clientWidth-(Ge.x+this._overlayRect.width)+"px":mt.left=(0,F.HM)(Ge.x),mt}_getScrollVisibility(){const P=this._getOriginRect(),$=this._pane.getBoundingClientRect(),De=this._scrollables.map(mt=>mt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tt(P,De),isOriginOutsideView:dt(P,De),isOverlayClipped:tt($,De),isOverlayOutsideView:dt($,De)}}_subtractOverflows(P,...$){return $.reduce((De,mt)=>De-Math.max(mt,0),P)}_getNarrowedViewportRect(){const P=this._document.documentElement.clientWidth,$=this._document.documentElement.clientHeight,De=this._viewportRuler.getViewportScrollPosition();return{top:De.top+this._viewportMargin,left:De.left+this._viewportMargin,right:De.left+P-this._viewportMargin,bottom:De.top+$-this._viewportMargin,width:P-2*this._viewportMargin,height:$-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(P,$){return"x"===$?P.offsetX??this._offsetX:P.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(P){this._pane&&(0,F.Eq)(P).forEach($=>{""!==$&&-1===this._appliedPanelClasses.indexOf($)&&(this._appliedPanelClasses.push($),this._pane.classList.add($))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(P=>{this._pane.classList.remove(P)}),this._appliedPanelClasses=[])}_getOriginRect(){const P=this._origin;if(P instanceof b.SBq)return P.nativeElement.getBoundingClientRect();if(P instanceof Element)return P.getBoundingClientRect();const $=P.width||0,De=P.height||0;return{top:P.y,bottom:P.y+De,left:P.x,right:P.x+$,height:De,width:$}}}function Et(ge,P){for(let $ in P)P.hasOwnProperty($)&&(ge[$]=P[$]);return ge}function pt(ge){if("number"!=typeof ge&&null!=ge){const[P,$]=ge.split(Bt);return $&&"px"!==$?null:parseFloat(P)}return ge||null}function Lt(ge){return{top:Math.floor(ge.top),right:Math.floor(ge.right),bottom:Math.floor(ge.bottom),left:Math.floor(ge.left),width:Math.floor(ge.width),height:Math.floor(ge.height)}}const Ye="cdk-global-overlay-wrapper";class et{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(P){const $=P.getConfig();this._overlayRef=P,this._width&&!$.width&&P.updateSize({width:this._width}),this._height&&!$.height&&P.updateSize({height:this._height}),P.hostElement.classList.add(Ye),this._isDisposed=!1}top(P=""){return this._bottomOffset="",this._topOffset=P,this._alignItems="flex-start",this}left(P=""){return this._xOffset=P,this._xPosition="left",this}bottom(P=""){return this._topOffset="",this._bottomOffset=P,this._alignItems="flex-end",this}right(P=""){return this._xOffset=P,this._xPosition="right",this}start(P=""){return this._xOffset=P,this._xPosition="start",this}end(P=""){return this._xOffset=P,this._xPosition="end",this}width(P=""){return this._overlayRef?this._overlayRef.updateSize({width:P}):this._width=P,this}height(P=""){return this._overlayRef?this._overlayRef.updateSize({height:P}):this._height=P,this}centerHorizontally(P=""){return this.left(P),this._xPosition="center",this}centerVertically(P=""){return this.top(P),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const P=this._overlayRef.overlayElement.style,$=this._overlayRef.hostElement.style,De=this._overlayRef.getConfig(),{width:mt,height:Ge,maxWidth:Pe,maxHeight:Fe}=De,xt=!("100%"!==mt&&"100vw"!==mt||Pe&&"100%"!==Pe&&"100vw"!==Pe),St=!("100%"!==Ge&&"100vh"!==Ge||Fe&&"100%"!==Fe&&"100vh"!==Fe),Pt=this._xPosition,gn=this._xOffset,Ln="rtl"===this._overlayRef.getConfig().direction;let at="",Vt="",ce="";xt?ce="flex-start":"center"===Pt?(ce="center",Ln?Vt=gn:at=gn):Ln?"left"===Pt||"end"===Pt?(ce="flex-end",at=gn):("right"===Pt||"start"===Pt)&&(ce="flex-start",Vt=gn):"left"===Pt||"start"===Pt?(ce="flex-start",at=gn):("right"===Pt||"end"===Pt)&&(ce="flex-end",Vt=gn),P.position=this._cssPosition,P.marginLeft=xt?"0":at,P.marginTop=St?"0":this._topOffset,P.marginBottom=this._bottomOffset,P.marginRight=xt?"0":Vt,$.justifyContent=ce,$.alignItems=St?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const P=this._overlayRef.overlayElement.style,$=this._overlayRef.hostElement,De=$.style;$.classList.remove(Ye),De.justifyContent=De.alignItems=P.marginTop=P.marginBottom=P.marginLeft=P.marginRight=P.position="",this._overlayRef=null,this._isDisposed=!0}}let rt=(()=>{class ge{constructor($,De,mt,Ge){this._viewportRuler=$,this._document=De,this._platform=mt,this._overlayContainer=Ge}global(){return new et}flexibleConnectedTo($){return new Te($,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(c.rL),b.LFG(y.K0),b.LFG(de.t4),b.LFG(jt))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Dt=0,Nt=(()=>{class ge{constructor($,De,mt,Ge,Pe,Fe,xt,St,Pt,gn,Ln,at){this.scrollStrategies=$,this._overlayContainer=De,this._componentFactoryResolver=mt,this._positionBuilder=Ge,this._keyboardDispatcher=Pe,this._injector=Fe,this._ngZone=xt,this._document=St,this._directionality=Pt,this._location=gn,this._outsideClickDispatcher=Ln,this._animationsModuleType=at}create($){const De=this._createHostElement(),mt=this._createPaneElement(De),Ge=this._createPortalOutlet(mt),Pe=new Ne($);return Pe.direction=Pe.direction||this._directionality.value,new sn(Ge,De,mt,Pe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement($){const De=this._document.createElement("div");return De.id="cdk-overlay-"+Dt++,De.classList.add("cdk-overlay-pane"),$.appendChild(De),De}_createHostElement(){const $=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild($),$}_createPortalOutlet($){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new Ke.u0($,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ge.\u0275fac=function($){return new($||ge)(b.LFG(xe),b.LFG(jt),b.LFG(b._Vd),b.LFG(rt),b.LFG(Je),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(y.K0),b.LFG(Be.Is),b.LFG(y.Ye),b.LFG(Ht),b.LFG(b.QbO,8))},ge.\u0275prov=b.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const dn=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Mn=new b.OlP("cdk-connected-overlay-scroll-strategy");let Pn=(()=>{class ge{constructor($){this.elementRef=$}}return ge.\u0275fac=function($){return new($||ge)(b.Y36(b.SBq))},ge.\u0275dir=b.lG2({type:ge,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ge})(),Fn=(()=>{class ge{constructor($,De,mt,Ge,Pe){this._overlay=$,this._dir=Pe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=S.w0.EMPTY,this._attachSubscription=S.w0.EMPTY,this._detachSubscription=S.w0.EMPTY,this._positionSubscription=S.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new Ke.UE(De,mt),this._scrollStrategyFactory=Ge,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX($){this._offsetX=$,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY($){this._offsetY=$,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop($){this._hasBackdrop=(0,F.Ig)($)}get lockPosition(){return this._lockPosition}set lockPosition($){this._lockPosition=(0,F.Ig)($)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions($){this._flexibleDimensions=(0,F.Ig)($)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen($){this._growAfterOpen=(0,F.Ig)($)}get push(){return this._push}set push($){this._push=(0,F.Ig)($)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges($){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),$.origin&&this.open&&this._position.apply()),$.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=dn);const $=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=$.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=$.detachments().subscribe(()=>this.detach.emit()),$.keydownEvents().subscribe(De=>{this.overlayKeydown.next(De),De.keyCode===We.hY&&!this.disableClose&&!(0,We.Vb)(De)&&(De.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(De=>{this.overlayOutsideClick.next(De)})}_buildConfig(){const $=this._position=this.positionStrategy||this._createPositionStrategy(),De=new Ne({direction:this._dir,positionStrategy:$,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(De.width=this.width),(this.height||0===this.height)&&(De.height=this.height),(this.minWidth||0===this.minWidth)&&(De.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(De.minHeight=this.minHeight),this.backdropClass&&(De.backdropClass=this.backdropClass),this.panelClass&&(De.panelClass=this.panelClass),De}_updatePositionStrategy($){const De=this.positions.map(mt=>({originX:mt.originX,originY:mt.originY,overlayX:mt.overlayX,overlayY:mt.overlayY,offsetX:mt.offsetX||this.offsetX,offsetY:mt.offsetY||this.offsetY,panelClass:mt.panelClass||void 0}));return $.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(De).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const $=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy($),$}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Pn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe($=>{this.backdropClick.emit($)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,He.o)(()=>this.positionChange.observers.length>0)).subscribe($=>{this.positionChange.emit($),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ge.\u0275fac=function($){return new($||ge)(b.Y36(Nt),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36(Mn),b.Y36(Be.Is,8))},ge.\u0275dir=b.lG2({type:ge,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[b.TTD]}),ge})();const En={provide:Mn,deps:[Nt],useFactory:function Bn(ge){return()=>ge.scrollStrategies.reposition()}};let Jt=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275mod=b.oAB({type:ge}),ge.\u0275inj=b.cJS({providers:[Nt,En],imports:[Be.vT,Ke.eL,c.Cl,c.Cl]}),ge})()},3353:(ln,ht,w)=>{w.d(ht,{Mq:()=>We,Oy:()=>tt,ht:()=>be,i$:()=>me,kV:()=>Ee,qK:()=>Re,sA:()=>dt,t4:()=>F});var c=w(4650),y=w(6895);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let Be,F=(()=>{class Le{constructor(Ne){this._platformId=Ne,this.isBrowser=this._platformId?(0,y.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Le.\u0275fac=function(Ne){return new(Ne||Le)(c.LFG(c.Lbi))},Le.\u0275prov=c.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const Ke=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Re(){if(Be)return Be;if("object"!=typeof document||!document)return Be=new Set(Ke),Be;let Le=document.createElement("input");return Be=new Set(Ke.filter(xe=>(Le.setAttribute("type",xe),Le.type===xe))),Be}let S,He,ze;function me(Le){return function ne(){if(null==S&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S=!0}))}finally{S=S||!1}return S}()?Le:!!Le.capture}function We(){if(null==He){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return He=!1,He;if("scrollBehavior"in document.documentElement.style)He=!0;else{const Le=Element.prototype.scrollTo;He=!!Le&&!/\{\s*\[native code\]\s*\}/.test(Le.toString())}}return He}function Ee(Le){if(function Se(){if(null==ze){const Le=typeof document<"u"?document.head:null;ze=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return ze}()){const xe=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&xe instanceof ShadowRoot)return xe}return null}function be(){let Le=typeof document<"u"&&document?document.activeElement:null;for(;Le&&Le.shadowRoot;){const xe=Le.shadowRoot.activeElement;if(xe===Le)break;Le=xe}return Le}function dt(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function tt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(ln,ht,w)=>{w.d(ht,{C5:()=>ne,Pl:()=>be,UE:()=>me,eL:()=>tt,en:()=>He,u0:()=>Me});var c=w(4650),y=w(6895);class S{attach(Ne){return this._attachedHost=Ne,Ne.attach(this)}detach(){let Ne=this._attachedHost;null!=Ne&&(this._attachedHost=null,Ne.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ne){this._attachedHost=Ne}}class ne extends S{constructor(Ne,se,oe,Qe){super(),this.component=Ne,this.viewContainerRef=se,this.injector=oe,this.componentFactoryResolver=Qe}}class me extends S{constructor(Ne,se,oe,Qe){super(),this.templateRef=Ne,this.viewContainerRef=se,this.context=oe,this.injector=Qe}get origin(){return this.templateRef.elementRef}attach(Ne,se=this.context){return this.context=se,super.attach(Ne)}detach(){return this.context=void 0,super.detach()}}class he extends S{constructor(Ne){super(),this.element=Ne instanceof c.SBq?Ne.nativeElement:Ne}}class He{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ne){return Ne instanceof ne?(this._attachedPortal=Ne,this.attachComponentPortal(Ne)):Ne instanceof me?(this._attachedPortal=Ne,this.attachTemplatePortal(Ne)):this.attachDomPortal&&Ne instanceof he?(this._attachedPortal=Ne,this.attachDomPortal(Ne)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ne){this._disposeFn=Ne}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Me extends He{constructor(Ne,se,oe,Qe,ae){super(),this.outletElement=Ne,this._componentFactoryResolver=se,this._appRef=oe,this._defaultInjector=Qe,this.attachDomPortal=ue=>{const Ce=ue.element,Je=this._document.createComment("dom-portal");Ce.parentNode.insertBefore(Je,Ce),this.outletElement.appendChild(Ce),this._attachedPortal=ue,super.setDisposeFn(()=>{Je.parentNode&&Je.parentNode.replaceChild(Ce,Je)})},this._document=ae}attachComponentPortal(Ne){const oe=(Ne.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ne.component);let Qe;return Ne.viewContainerRef?(Qe=Ne.viewContainerRef.createComponent(oe,Ne.viewContainerRef.length,Ne.injector||Ne.viewContainerRef.injector),this.setDisposeFn(()=>Qe.destroy())):(Qe=oe.create(Ne.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(Qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Qe.hostView),Qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Qe)),this._attachedPortal=Ne,Qe}attachTemplatePortal(Ne){let se=Ne.viewContainerRef,oe=se.createEmbeddedView(Ne.templateRef,Ne.context,{injector:Ne.injector});return oe.rootNodes.forEach(Qe=>this.outletElement.appendChild(Qe)),oe.detectChanges(),this.setDisposeFn(()=>{let Qe=se.indexOf(oe);-1!==Qe&&se.remove(Qe)}),this._attachedPortal=Ne,oe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ne){return Ne.hostView.rootNodes[0]}}let be=(()=>{class xe extends He{constructor(se,oe,Qe){super(),this._componentFactoryResolver=se,this._viewContainerRef=oe,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=ae=>{const ue=ae.element,Ce=this._document.createComment("dom-portal");ae.setAttachedHost(this),ue.parentNode.insertBefore(Ce,ue),this._getRootNode().appendChild(ue),this._attachedPortal=ae,super.setDisposeFn(()=>{Ce.parentNode&&Ce.parentNode.replaceChild(ue,Ce)})},this._document=Qe}get portal(){return this._attachedPortal}set portal(se){this.hasAttached()&&!se&&!this._isInitialized||(this.hasAttached()&&super.detach(),se&&super.attach(se),this._attachedPortal=se||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(se){se.setAttachedHost(this);const oe=null!=se.viewContainerRef?se.viewContainerRef:this._viewContainerRef,ae=(se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(se.component),ue=oe.createComponent(ae,oe.length,se.injector||oe.injector);return oe!==this._viewContainerRef&&this._getRootNode().appendChild(ue.hostView.rootNodes[0]),super.setDisposeFn(()=>ue.destroy()),this._attachedPortal=se,this._attachedRef=ue,this.attached.emit(ue),ue}attachTemplatePortal(se){se.setAttachedHost(this);const oe=this._viewContainerRef.createEmbeddedView(se.templateRef,se.context,{injector:se.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=se,this._attachedRef=oe,this.attached.emit(oe),oe}_getRootNode(){const se=this._viewContainerRef.element.nativeElement;return se.nodeType===se.ELEMENT_NODE?se:se.parentNode}}return xe.\u0275fac=function(se){return new(se||xe)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(y.K0))},xe.\u0275dir=c.lG2({type:xe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),xe})(),tt=(()=>{class xe{}return xe.\u0275fac=function(se){return new(se||xe)},xe.\u0275mod=c.oAB({type:xe}),xe.\u0275inj=c.cJS({}),xe})()},531:(ln,ht,w)=>{w.d(ht,{ZD:()=>Mt,mF:()=>ae,Cl:()=>zt,rL:()=>Je});var c=w(1281),y=w(4650),b=w(7579),F=w(9646),de=w(9751),Be=w(4968),Ke=w(4408),Re=w(727);const S={schedule(Ye){let et=requestAnimationFrame,rt=cancelAnimationFrame;const{delegate:Dt}=S;Dt&&(et=Dt.requestAnimationFrame,rt=Dt.cancelAnimationFrame);const Nt=et(dn=>{rt=void 0,Ye(dn)});return new Re.w0(()=>rt?.(Nt))},requestAnimationFrame(...Ye){const{delegate:et}=S;return(et?.requestAnimationFrame||requestAnimationFrame)(...Ye)},cancelAnimationFrame(...Ye){const{delegate:et}=S;return(et?.cancelAnimationFrame||cancelAnimationFrame)(...Ye)},delegate:void 0};var me=w(7565);new class he extends me.v{flush(et){this._active=!0;const rt=this._scheduled;this._scheduled=void 0;const{actions:Dt}=this;let Nt;et=et||Dt.shift();do{if(Nt=et.execute(et.state,et.delay))break}while((et=Dt[0])&&et.id===rt&&Dt.shift());if(this._active=!1,Nt){for(;(et=Dt[0])&&et.id===rt&&Dt.shift();)et.unsubscribe();throw Nt}}}(class ne extends Ke.o{constructor(et,rt){super(et,rt),this.scheduler=et,this.work=rt}requestAsyncId(et,rt,Dt=0){return null!==Dt&&Dt>0?super.requestAsyncId(et,rt,Dt):(et.actions.push(this),et._scheduled||(et._scheduled=S.requestAnimationFrame(()=>et.flush(void 0))))}recycleAsyncId(et,rt,Dt=0){if(null!=Dt&&Dt>0||null==Dt&&this.delay>0)return super.recycleAsyncId(et,rt,Dt);et.actions.some(Nt=>Nt.id===rt)||(S.cancelAnimationFrame(rt),et._scheduled=void 0)}});w(3101);var ze=w(3601),Se=w(9300),Ee=w(3353),be=w(6895),dt=w(445);let ae=(()=>{class Ye{constructor(rt,Dt,Nt){this._ngZone=rt,this._platform=Dt,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Nt}register(rt){this.scrollContainers.has(rt)||this.scrollContainers.set(rt,rt.elementScrolled().subscribe(()=>this._scrolled.next(rt)))}deregister(rt){const Dt=this.scrollContainers.get(rt);Dt&&(Dt.unsubscribe(),this.scrollContainers.delete(rt))}scrolled(rt=20){return this._platform.isBrowser?new de.y(Dt=>{this._globalSubscription||this._addGlobalListener();const Nt=rt>0?this._scrolled.pipe((0,ze.e)(rt)).subscribe(Dt):this._scrolled.subscribe(Dt);return this._scrolledCount++,()=>{Nt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,F.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((rt,Dt)=>this.deregister(Dt)),this._scrolled.complete()}ancestorScrolled(rt,Dt){const Nt=this.getAncestorScrollContainers(rt);return this.scrolled(Dt).pipe((0,Se.h)(dn=>!dn||Nt.indexOf(dn)>-1))}getAncestorScrollContainers(rt){const Dt=[];return this.scrollContainers.forEach((Nt,dn)=>{this._scrollableContainsElement(dn,rt)&&Dt.push(dn)}),Dt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(rt,Dt){let Nt=(0,c.fI)(Dt),dn=rt.getElementRef().nativeElement;do{if(Nt==dn)return!0}while(Nt=Nt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const rt=this._getWindow();return(0,Be.R)(rt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ye.\u0275fac=function(rt){return new(rt||Ye)(y.LFG(y.R0b),y.LFG(Ee.t4),y.LFG(be.K0,8))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),Je=(()=>{class Ye{constructor(rt,Dt,Nt){this._platform=rt,this._change=new b.x,this._changeListener=dn=>{this._change.next(dn)},this._document=Nt,Dt.runOutsideAngular(()=>{if(rt.isBrowser){const dn=this._getWindow();dn.addEventListener("resize",this._changeListener),dn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const rt=this._getWindow();rt.removeEventListener("resize",this._changeListener),rt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const rt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),rt}getViewportRect(){const rt=this.getViewportScrollPosition(),{width:Dt,height:Nt}=this.getViewportSize();return{top:rt.top,left:rt.left,bottom:rt.top+Nt,right:rt.left+Dt,height:Nt,width:Dt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const rt=this._document,Dt=this._getWindow(),Nt=rt.documentElement,dn=Nt.getBoundingClientRect();return{top:-dn.top||rt.body.scrollTop||Dt.scrollY||Nt.scrollTop||0,left:-dn.left||rt.body.scrollLeft||Dt.scrollX||Nt.scrollLeft||0}}change(rt=20){return rt>0?this._change.pipe((0,ze.e)(rt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const rt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:rt.innerWidth,height:rt.innerHeight}:{width:0,height:0}}}return Ye.\u0275fac=function(rt){return new(rt||Ye)(y.LFG(Ee.t4),y.LFG(y.R0b),y.LFG(be.K0,8))},Ye.\u0275prov=y.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),Mt=(()=>{class Ye{}return Ye.\u0275fac=function(rt){return new(rt||Ye)},Ye.\u0275mod=y.oAB({type:Ye}),Ye.\u0275inj=y.cJS({}),Ye})(),zt=(()=>{class Ye{}return Ye.\u0275fac=function(rt){return new(rt||Ye)},Ye.\u0275mod=y.oAB({type:Ye}),Ye.\u0275inj=y.cJS({imports:[dt.vT,Mt,dt.vT,Mt]}),Ye})()},9349:(ln,ht,w)=>{w.d(ht,{IC:()=>He,Ky:()=>We,Lq:()=>me});var c=w(3353),y=w(4650),b=w(1281),F=w(515),de=w(7579),Be=w(4968),Ke=w(3601),Re=w(2722),S=w(6895);const ne=(0,c.i$)({passive:!0});let me=(()=>{class Me{constructor(Se,Ee){this._platform=Se,this._ngZone=Ee,this._monitoredElements=new Map}monitor(Se){if(!this._platform.isBrowser)return F.E;const Ee=(0,b.fI)(Se),be=this._monitoredElements.get(Ee);if(be)return be.subject;const dt=new de.x,tt="cdk-text-field-autofilled",Le=xe=>{"cdk-text-field-autofill-start"!==xe.animationName||Ee.classList.contains(tt)?"cdk-text-field-autofill-end"===xe.animationName&&Ee.classList.contains(tt)&&(Ee.classList.remove(tt),this._ngZone.run(()=>dt.next({target:xe.target,isAutofilled:!1}))):(Ee.classList.add(tt),this._ngZone.run(()=>dt.next({target:xe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("animationstart",Le,ne),Ee.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ee,{subject:dt,unlisten:()=>{Ee.removeEventListener("animationstart",Le,ne)}}),dt}stopMonitoring(Se){const Ee=(0,b.fI)(Se),be=this._monitoredElements.get(Ee);be&&(be.unlisten(),be.subject.complete(),Ee.classList.remove("cdk-text-field-autofill-monitored"),Ee.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ee))}ngOnDestroy(){this._monitoredElements.forEach((Se,Ee)=>this.stopMonitoring(Ee))}}return Me.\u0275fac=function(Se){return new(Se||Me)(y.LFG(c.t4),y.LFG(y.R0b))},Me.\u0275prov=y.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),He=(()=>{class Me{constructor(Se,Ee,be,dt){this._elementRef=Se,this._platform=Ee,this._ngZone=be,this._destroyed=new de.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=tt=>{this._hasFocus="focus"===tt.type},this._document=dt,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(Se){this._minRows=(0,b.su)(Se),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(Se){this._maxRows=(0,b.su)(Se),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(Se){Se=(0,b.Ig)(Se),this._enabled!==Se&&((this._enabled=Se)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(Se){this._cachedPlaceholderHeight=void 0,Se?this._textareaElement.setAttribute("placeholder",Se):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const Se=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;Se&&(this._textareaElement.style.minHeight=Se)}_setMaxHeight(){const Se=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;Se&&(this._textareaElement.style.maxHeight=Se)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();(0,Be.R)(Se,"resize").pipe((0,Ke.e)(16),(0,Re.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let Se=this._textareaElement.cloneNode(!1);Se.rows=1,Se.style.position="absolute",Se.style.visibility="hidden",Se.style.border="none",Se.style.padding="0",Se.style.height="",Se.style.minHeight="",Se.style.maxHeight="",Se.style.overflow="hidden",this._textareaElement.parentNode.appendChild(Se),this._cachedLineHeight=Se.clientHeight,Se.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const Se=this._textareaElement,Ee=Se.style.marginBottom||"",be=this._platform.FIREFOX,dt=be&&this._hasFocus,tt=be?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";dt&&(Se.style.marginBottom=`${Se.clientHeight}px`),Se.classList.add(tt);const Le=Se.scrollHeight-4;return Se.classList.remove(tt),dt&&(Se.style.marginBottom=Ee),Le}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const Se=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=Se}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(Se=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const Ee=this._elementRef.nativeElement,be=Ee.value;if(!Se&&this._minRows===this._previousMinRows&&be===this._previousValue)return;const dt=this._measureScrollHeight(),tt=Math.max(dt,this._cachedPlaceholderHeight||0);Ee.style.height=`${tt}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(Ee)):setTimeout(()=>this._scrollToCaretPosition(Ee))}),this._previousValue=be,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(Se){const{selectionStart:Ee,selectionEnd:be}=Se;!this._destroyed.isStopped&&this._hasFocus&&Se.setSelectionRange(Ee,be)}}return Me.\u0275fac=function(Se){return new(Se||Me)(y.Y36(y.SBq),y.Y36(c.t4),y.Y36(y.R0b),y.Y36(S.K0,8))},Me.\u0275dir=y.lG2({type:Me,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(Se,Ee){1&Se&&y.NdJ("input",function(){return Ee._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),Me})(),We=(()=>{class Me{}return Me.\u0275fac=function(Se){return new(Se||Me)},Me.\u0275mod=y.oAB({type:Me}),Me.\u0275inj=y.cJS({}),Me})()},6895:(ln,ht,w)=>{w.d(ht,{Do:()=>dt,ED:()=>Ts,EM:()=>Vo,HT:()=>de,JF:()=>xs,JJ:()=>Ls,K0:()=>Ke,Mx:()=>Ci,NF:()=>Qr,O5:()=>wi,Ov:()=>Rn,PC:()=>ms,PM:()=>oo,RF:()=>Ds,S$:()=>Se,V_:()=>ne,Ye:()=>tt,b0:()=>be,bD:()=>jr,ez:()=>ro,mk:()=>ei,n9:()=>ha,q:()=>b,sg:()=>Li,uU:()=>Zr,w_:()=>Be});var c=w(4650);let y=null;function b(){return y}function de(N){y||(y=N)}class Be{}const Ke=new c.OlP("DocumentToken");let Re=(()=>{class N{historyGo(G){throw new Error("Not implemented")}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=c.Yz7({token:N,factory:function(){return function S(){return(0,c.LFG)(me)}()},providedIn:"platform"}),N})();const ne=new c.OlP("Location Initialized");let me=(()=>{class N extends Re{constructor(G){super(),this._doc=G,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(G){const Ae=b().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("popstate",G,!1),()=>Ae.removeEventListener("popstate",G)}onHashChange(G){const Ae=b().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("hashchange",G,!1),()=>Ae.removeEventListener("hashchange",G)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(G){this.location.pathname=G}pushState(G,Ae,bt){he()?this._history.pushState(G,Ae,bt):this.location.hash=bt}replaceState(G,Ae,bt){he()?this._history.replaceState(G,Ae,bt):this.location.hash=bt}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return N.\u0275fac=function(G){return new(G||N)(c.LFG(Ke))},N.\u0275prov=c.Yz7({token:N,factory:function(){return function He(){return new me((0,c.LFG)(Ke))}()},providedIn:"platform"}),N})();function he(){return!!window.history.pushState}function We(N,le){if(0==N.length)return le;if(0==le.length)return N;let G=0;return N.endsWith("/")&&G++,le.startsWith("/")&&G++,2==G?N+le.substring(1):1==G?N+le:N+"/"+le}function Me(N){const le=N.match(/#|\?|$/),G=le&&le.index||N.length;return N.slice(0,G-("/"===N[G-1]?1:0))+N.slice(G)}function ze(N){return N&&"?"!==N[0]?"?"+N:N}let Se=(()=>{class N{historyGo(G){throw new Error("Not implemented")}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275prov=c.Yz7({token:N,factory:function(){return(0,c.f3M)(be)},providedIn:"root"}),N})();const Ee=new c.OlP("appBaseHref");let be=(()=>{class N extends Se{constructor(G,Ae){super(),this._platformLocation=G,this._removeListenerFns=[],this._baseHref=Ae??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return We(this._baseHref,G)}path(G=!1){const Ae=this._platformLocation.pathname+ze(this._platformLocation.search),bt=this._platformLocation.hash;return bt&&G?`${Ae}${bt}`:Ae}pushState(G,Ae,bt,Qt){const an=this.prepareExternalUrl(bt+ze(Qt));this._platformLocation.pushState(G,Ae,an)}replaceState(G,Ae,bt,Qt){const an=this.prepareExternalUrl(bt+ze(Qt));this._platformLocation.replaceState(G,Ae,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){this._platformLocation.historyGo?.(G)}}return N.\u0275fac=function(G){return new(G||N)(c.LFG(Re),c.LFG(Ee,8))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),dt=(()=>{class N extends Se{constructor(G,Ae){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=Ae&&(this._baseHref=Ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let Ae=this._platformLocation.hash;return null==Ae&&(Ae="#"),Ae.length>0?Ae.substring(1):Ae}prepareExternalUrl(G){const Ae=We(this._baseHref,G);return Ae.length>0?"#"+Ae:Ae}pushState(G,Ae,bt,Qt){let an=this.prepareExternalUrl(bt+ze(Qt));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.pushState(G,Ae,an)}replaceState(G,Ae,bt,Qt){let an=this.prepareExternalUrl(bt+ze(Qt));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.replaceState(G,Ae,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){this._platformLocation.historyGo?.(G)}}return N.\u0275fac=function(G){return new(G||N)(c.LFG(Re),c.LFG(Ee,8))},N.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac}),N})(),tt=(()=>{class N{constructor(G){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=G;const Ae=this._locationStrategy.getBaseHref();this._baseHref=Me(Ne(Ae)),this._locationStrategy.onPopState(bt=>{this._subject.emit({url:this.path(!0),pop:!0,state:bt.state,type:bt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(G=!1){return this.normalize(this._locationStrategy.path(G))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(G,Ae=""){return this.path()==this.normalize(G+ze(Ae))}normalize(G){return N.stripTrailingSlash(function xe(N,le){return N&&le.startsWith(N)?le.substring(N.length):le}(this._baseHref,Ne(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._locationStrategy.prepareExternalUrl(G)}go(G,Ae="",bt=null){this._locationStrategy.pushState(bt,"",G,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+ze(Ae)),bt)}replaceState(G,Ae="",bt=null){this._locationStrategy.replaceState(bt,"",G,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+ze(Ae)),bt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(G=0){this._locationStrategy.historyGo?.(G)}onUrlChange(G){return this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ae=>{this._notifyUrlChangeListeners(Ae.url,Ae.state)})),()=>{const Ae=this._urlChangeListeners.indexOf(G);this._urlChangeListeners.splice(Ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(G="",Ae){this._urlChangeListeners.forEach(bt=>bt(G,Ae))}subscribe(G,Ae,bt){return this._subject.subscribe({next:G,error:Ae,complete:bt})}}return N.normalizeQueryParams=ze,N.joinWithSlash=We,N.stripTrailingSlash=Me,N.\u0275fac=function(G){return new(G||N)(c.LFG(Se))},N.\u0275prov=c.Yz7({token:N,factory:function(){return function Le(){return new tt((0,c.LFG)(Se))}()},providedIn:"root"}),N})();function Ne(N){return N.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Percent=1]="Percent",oe[oe.Currency=2]="Currency",oe[oe.Scientific=3]="Scientific",oe))(),ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),ue=(()=>((ue=ue||{})[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue))(),Ce=(()=>((Ce=Ce||{})[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce))(),Je=(()=>((Je=Je||{})[Je.Decimal=0]="Decimal",Je[Je.Group=1]="Group",Je[Je.List=2]="List",Je[Je.PercentSign=3]="PercentSign",Je[Je.PlusSign=4]="PlusSign",Je[Je.MinusSign=5]="MinusSign",Je[Je.Exponential=6]="Exponential",Je[Je.SuperscriptingExponent=7]="SuperscriptingExponent",Je[Je.PerMille=8]="PerMille",Je[Je.Infinity=9]="Infinity",Je[Je.NaN=10]="NaN",Je[Je.TimeSeparator=11]="TimeSeparator",Je[Je.CurrencyDecimal=12]="CurrencyDecimal",Je[Je.CurrencyGroup=13]="CurrencyGroup",Je))();function Lt(N,le){return Jt((0,c.cg1)(N)[c.wAp.DateFormat],le)}function Mt(N,le){return Jt((0,c.cg1)(N)[c.wAp.TimeFormat],le)}function zt(N,le){return Jt((0,c.cg1)(N)[c.wAp.DateTimeFormat],le)}function Ye(N,le){const G=(0,c.cg1)(N),Ae=G[c.wAp.NumberSymbols][le];if(typeof Ae>"u"){if(le===Je.CurrencyDecimal)return G[c.wAp.NumberSymbols][Je.Decimal];if(le===Je.CurrencyGroup)return G[c.wAp.NumberSymbols][Je.Group]}return Ae}function Pn(N){if(!N[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jt(N,le){for(let G=le;G>-1;G--)if(typeof N[G]<"u")return N[G];throw new Error("Locale data API: locale data undefined")}function ot(N){const[le,G]=N.split(":");return{hours:+le,minutes:+G}}const De=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mt={},Ge=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.ShortGMT=1]="ShortGMT",Pe[Pe.Long=2]="Long",Pe[Pe.Extended=3]="Extended",Pe))(),Fe=(()=>((Fe=Fe||{})[Fe.FullYear=0]="FullYear",Fe[Fe.Month=1]="Month",Fe[Fe.Date=2]="Date",Fe[Fe.Hours=3]="Hours",Fe[Fe.Minutes=4]="Minutes",Fe[Fe.Seconds=5]="Seconds",Fe[Fe.FractionalSeconds=6]="FractionalSeconds",Fe[Fe.Day=7]="Day",Fe))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function St(N,le,G,Ae){let bt=function yt(N){if(wn(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[bt,Qt=1,an=1]=N.split("-").map(Kn=>+Kn);return Pt(bt,Qt-1,an)}const G=parseFloat(N);if(!isNaN(N-G))return new Date(G);let Ae;if(Ae=N.match(De))return function Yt(N){const le=new Date(0);let G=0,Ae=0;const bt=N[8]?le.setUTCFullYear:le.setFullYear,Qt=N[8]?le.setUTCHours:le.setHours;N[9]&&(G=Number(N[9]+N[10]),Ae=Number(N[9]+N[11])),bt.call(le,Number(N[1]),Number(N[2])-1,Number(N[3]));const an=Number(N[4]||0)-G,Kn=Number(N[5]||0)-Ae,zi=Number(N[6]||0),Bi=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return Qt.call(le,an,Kn,zi,Bi),le}(Ae)}const le=new Date(N);if(!wn(le))throw new Error(`Unable to convert "${N}" into a date`);return le}(N);le=gn(G,le)||le;let Kn,an=[];for(;le;){if(Kn=Ge.exec(le),!Kn){an.push(le);break}{an=an.concat(Kn.slice(1));const _i=an.pop();if(!_i)break;le=_i}}let zi=bt.getTimezoneOffset();Ae&&(zi=mn(Ae,zi),bt=function ut(N,le,G){const Ae=G?-1:1,bt=N.getTimezoneOffset();return function At(N,le){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+le),N}(N,Ae*(mn(le,bt)-bt))}(bt,Ae,!0));let Bi="";return an.forEach(_i=>{const Vi=function cn(N){if(Ft[N])return Ft[N];let le;switch(N){case"G":case"GG":case"GGG":le=gt(xt.Eras,ue.Abbreviated);break;case"GGGG":le=gt(xt.Eras,ue.Wide);break;case"GGGGG":le=gt(xt.Eras,ue.Narrow);break;case"y":le=ce(Fe.FullYear,1,0,!1,!0);break;case"yy":le=ce(Fe.FullYear,2,0,!0,!0);break;case"yyy":le=ce(Fe.FullYear,3,0,!1,!0);break;case"yyyy":le=ce(Fe.FullYear,4,0,!1,!0);break;case"Y":le=je(1);break;case"YY":le=je(2,!0);break;case"YYY":le=je(3);break;case"YYYY":le=je(4);break;case"M":case"L":le=ce(Fe.Month,1,1);break;case"MM":case"LL":le=ce(Fe.Month,2,1);break;case"MMM":le=gt(xt.Months,ue.Abbreviated);break;case"MMMM":le=gt(xt.Months,ue.Wide);break;case"MMMMM":le=gt(xt.Months,ue.Narrow);break;case"LLL":le=gt(xt.Months,ue.Abbreviated,ae.Standalone);break;case"LLLL":le=gt(xt.Months,ue.Wide,ae.Standalone);break;case"LLLLL":le=gt(xt.Months,ue.Narrow,ae.Standalone);break;case"w":le=fe(1);break;case"ww":le=fe(2);break;case"W":le=fe(1,!0);break;case"d":le=ce(Fe.Date,1);break;case"dd":le=ce(Fe.Date,2);break;case"c":case"cc":le=ce(Fe.Day,1);break;case"ccc":le=gt(xt.Days,ue.Abbreviated,ae.Standalone);break;case"cccc":le=gt(xt.Days,ue.Wide,ae.Standalone);break;case"ccccc":le=gt(xt.Days,ue.Narrow,ae.Standalone);break;case"cccccc":le=gt(xt.Days,ue.Short,ae.Standalone);break;case"E":case"EE":case"EEE":le=gt(xt.Days,ue.Abbreviated);break;case"EEEE":le=gt(xt.Days,ue.Wide);break;case"EEEEE":le=gt(xt.Days,ue.Narrow);break;case"EEEEEE":le=gt(xt.Days,ue.Short);break;case"a":case"aa":case"aaa":le=gt(xt.DayPeriods,ue.Abbreviated);break;case"aaaa":le=gt(xt.DayPeriods,ue.Wide);break;case"aaaaa":le=gt(xt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":le=gt(xt.DayPeriods,ue.Abbreviated,ae.Standalone,!0);break;case"bbbb":le=gt(xt.DayPeriods,ue.Wide,ae.Standalone,!0);break;case"bbbbb":le=gt(xt.DayPeriods,ue.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":le=gt(xt.DayPeriods,ue.Abbreviated,ae.Format,!0);break;case"BBBB":le=gt(xt.DayPeriods,ue.Wide,ae.Format,!0);break;case"BBBBB":le=gt(xt.DayPeriods,ue.Narrow,ae.Format,!0);break;case"h":le=ce(Fe.Hours,1,-12);break;case"hh":le=ce(Fe.Hours,2,-12);break;case"H":le=ce(Fe.Hours,1);break;case"HH":le=ce(Fe.Hours,2);break;case"m":le=ce(Fe.Minutes,1);break;case"mm":le=ce(Fe.Minutes,2);break;case"s":le=ce(Fe.Seconds,1);break;case"ss":le=ce(Fe.Seconds,2);break;case"S":le=ce(Fe.FractionalSeconds,1);break;case"SS":le=ce(Fe.FractionalSeconds,2);break;case"SSS":le=ce(Fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=J(Pe.Short);break;case"ZZZZZ":le=J(Pe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=J(Pe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=J(Pe.Long);break;default:return null}return Ft[N]=le,le}(_i);Bi+=Vi?Vi(bt,G,zi):"''"===_i?"'":_i.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Bi}function Pt(N,le,G){const Ae=new Date(0);return Ae.setFullYear(N,le,G),Ae.setHours(0,0,0),Ae}function gn(N,le){const G=function jt(N){return(0,c.cg1)(N)[c.wAp.LocaleId]}(N);if(mt[G]=mt[G]||{},mt[G][le])return mt[G][le];let Ae="";switch(le){case"shortDate":Ae=Lt(N,Ce.Short);break;case"mediumDate":Ae=Lt(N,Ce.Medium);break;case"longDate":Ae=Lt(N,Ce.Long);break;case"fullDate":Ae=Lt(N,Ce.Full);break;case"shortTime":Ae=Mt(N,Ce.Short);break;case"mediumTime":Ae=Mt(N,Ce.Medium);break;case"longTime":Ae=Mt(N,Ce.Long);break;case"fullTime":Ae=Mt(N,Ce.Full);break;case"short":const bt=gn(N,"shortTime"),Qt=gn(N,"shortDate");Ae=Ln(zt(N,Ce.Short),[bt,Qt]);break;case"medium":const an=gn(N,"mediumTime"),Kn=gn(N,"mediumDate");Ae=Ln(zt(N,Ce.Medium),[an,Kn]);break;case"long":const zi=gn(N,"longTime"),Bi=gn(N,"longDate");Ae=Ln(zt(N,Ce.Long),[zi,Bi]);break;case"full":const _i=gn(N,"fullTime"),Vi=gn(N,"fullDate");Ae=Ln(zt(N,Ce.Full),[_i,Vi])}return Ae&&(mt[G][le]=Ae),Ae}function Ln(N,le){return le&&(N=N.replace(/\{([^}]+)}/g,function(G,Ae){return null!=le&&Ae in le?le[Ae]:G})),N}function at(N,le,G="-",Ae,bt){let Qt="";(N<0||bt&&N<=0)&&(bt?N=1-N:(N=-N,Qt=G));let an=String(N);for(;an.length<le;)an="0"+an;return Ae&&(an=an.slice(an.length-le)),Qt+an}function ce(N,le,G=0,Ae=!1,bt=!1){return function(Qt,an){let Kn=function lt(N,le){switch(N){case Fe.FullYear:return le.getFullYear();case Fe.Month:return le.getMonth();case Fe.Date:return le.getDate();case Fe.Hours:return le.getHours();case Fe.Minutes:return le.getMinutes();case Fe.Seconds:return le.getSeconds();case Fe.FractionalSeconds:return le.getMilliseconds();case Fe.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,Qt);if((G>0||Kn>-G)&&(Kn+=G),N===Fe.Hours)0===Kn&&-12===G&&(Kn=12);else if(N===Fe.FractionalSeconds)return function Vt(N,le){return at(N,3).substring(0,le)}(Kn,le);const zi=Ye(an,Je.MinusSign);return at(Kn,le,zi,Ae,bt)}}function gt(N,le,G=ae.Format,Ae=!1){return function(bt,Qt){return function te(N,le,G,Ae,bt,Qt){switch(G){case xt.Months:return function Bt(N,le,G){const Ae=(0,c.cg1)(N),Qt=Jt([Ae[c.wAp.MonthsFormat],Ae[c.wAp.MonthsStandalone]],le);return Jt(Qt,G)}(le,bt,Ae)[N.getMonth()];case xt.Days:return function on(N,le,G){const Ae=(0,c.cg1)(N),Qt=Jt([Ae[c.wAp.DaysFormat],Ae[c.wAp.DaysStandalone]],le);return Jt(Qt,G)}(le,bt,Ae)[N.getDay()];case xt.DayPeriods:const an=N.getHours(),Kn=N.getMinutes();if(Qt){const Bi=function Fn(N){const le=(0,c.cg1)(N);return Pn(le),(le[c.wAp.ExtraData][2]||[]).map(Ae=>"string"==typeof Ae?ot(Ae):[ot(Ae[0]),ot(Ae[1])])}(le),_i=function Bn(N,le,G){const Ae=(0,c.cg1)(N);Pn(Ae);const Qt=Jt([Ae[c.wAp.ExtraData][0],Ae[c.wAp.ExtraData][1]],le)||[];return Jt(Qt,G)||[]}(le,bt,Ae),Vi=Bi.findIndex(mr=>{if(Array.isArray(mr)){const[ar,Pr]=mr,Vs=an>=ar.hours&&Kn>=ar.minutes,uo=an<Pr.hours||an===Pr.hours&&Kn<Pr.minutes;if(ar.hours<Pr.hours){if(Vs&&uo)return!0}else if(Vs||uo)return!0}else if(mr.hours===an&&mr.minutes===Kn)return!0;return!1});if(-1!==Vi)return _i[Vi]}return function sn(N,le,G){const Ae=(0,c.cg1)(N),Qt=Jt([Ae[c.wAp.DayPeriodsFormat],Ae[c.wAp.DayPeriodsStandalone]],le);return Jt(Qt,G)}(le,bt,Ae)[an<12?0:1];case xt.Eras:return function Te(N,le){return Jt((0,c.cg1)(N)[c.wAp.Eras],le)}(le,Ae)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(bt,Qt,N,le,G,Ae)}}function J(N){return function(le,G,Ae){const bt=-1*Ae,Qt=Ye(G,Je.MinusSign),an=bt>0?Math.floor(bt/60):Math.ceil(bt/60);switch(N){case Pe.Short:return(bt>=0?"+":"")+at(an,2,Qt)+at(Math.abs(bt%60),2,Qt);case Pe.ShortGMT:return"GMT"+(bt>=0?"+":"")+at(an,1,Qt);case Pe.Long:return"GMT"+(bt>=0?"+":"")+at(an,2,Qt)+":"+at(Math.abs(bt%60),2,Qt);case Pe.Extended:return 0===Ae?"Z":(bt>=0?"+":"")+at(an,2,Qt)+":"+at(Math.abs(bt%60),2,Qt);default:throw new Error(`Unknown zone width "${N}"`)}}}function z(N){return Pt(N.getFullYear(),N.getMonth(),N.getDate()+(4-N.getDay()))}function fe(N,le=!1){return function(G,Ae){let bt;if(le){const Qt=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,an=G.getDate();bt=1+Math.floor((an+Qt)/7)}else{const Qt=z(G),an=function K(N){const le=Pt(N,0,1).getDay();return Pt(N,0,1+(le<=4?4:11)-le)}(Qt.getFullYear()),Kn=Qt.getTime()-an.getTime();bt=1+Math.round(Kn/6048e5)}return at(bt,N,Ye(Ae,Je.MinusSign))}}function je(N,le=!1){return function(G,Ae){return at(z(G).getFullYear(),N,Ye(Ae,Je.MinusSign),le)}}const Ft={};function mn(N,le){N=N.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(G)?le:G}function wn(N){return N instanceof Date&&!isNaN(N.valueOf())}const $n=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ct(N){const le=parseInt(N);if(isNaN(le))throw new Error("Invalid integer literal when parsing "+N);return le}function Ci(N,le){le=encodeURIComponent(le);for(const G of N.split(";")){const Ae=G.indexOf("="),[bt,Qt]=-1==Ae?[G,""]:[G.slice(0,Ae),G.slice(Ae+1)];if(bt.trim()===le)return decodeURIComponent(Qt)}return null}let ei=(()=>{class N{constructor(G,Ae,bt,Qt){this._iterableDiffers=G,this._keyValueDiffers=Ae,this._ngEl=bt,this._renderer=Qt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(G){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof G?G.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(G){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof G?G.split(/\s+/):G,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const G=this._iterableDiffer.diff(this._rawClass);G&&this._applyIterableChanges(G)}else if(this._keyValueDiffer){const G=this._keyValueDiffer.diff(this._rawClass);G&&this._applyKeyValueChanges(G)}}_applyKeyValueChanges(G){G.forEachAddedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),G.forEachChangedItem(Ae=>this._toggleClass(Ae.key,Ae.currentValue)),G.forEachRemovedItem(Ae=>{Ae.previousValue&&this._toggleClass(Ae.key,!1)})}_applyIterableChanges(G){G.forEachAddedItem(Ae=>{if("string"!=typeof Ae.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(Ae.item)}`);this._toggleClass(Ae.item,!0)}),G.forEachRemovedItem(Ae=>this._toggleClass(Ae.item,!1))}_applyClasses(G){G&&(Array.isArray(G)||G instanceof Set?G.forEach(Ae=>this._toggleClass(Ae,!0)):Object.keys(G).forEach(Ae=>this._toggleClass(Ae,!!G[Ae])))}_removeClasses(G){G&&(Array.isArray(G)||G instanceof Set?G.forEach(Ae=>this._toggleClass(Ae,!1)):Object.keys(G).forEach(Ae=>this._toggleClass(Ae,!1)))}_toggleClass(G,Ae){(G=G.trim())&&G.split(/\s+/g).forEach(bt=>{Ae?this._renderer.addClass(this._ngEl.nativeElement,bt):this._renderer.removeClass(this._ngEl.nativeElement,bt)})}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class dr{constructor(le,G,Ae,bt){this.$implicit=le,this.ngForOf=G,this.index=Ae,this.count=bt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class N{constructor(G,Ae,bt){this._viewContainer=G,this._template=Ae,this._differs=bt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;!this._differ&&G&&(this._differ=this._differs.find(G).create(this.ngForTrackBy))}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const Ae=this._viewContainer;G.forEachOperation((bt,Qt,an)=>{if(null==bt.previousIndex)Ae.createEmbeddedView(this._template,new dr(bt.item,this._ngForOf,-1,-1),null===an?void 0:an);else if(null==an)Ae.remove(null===Qt?void 0:Qt);else if(null!==Qt){const Kn=Ae.get(Qt);Ae.move(Kn,an),Qi(Kn,bt)}});for(let bt=0,Qt=Ae.length;bt<Qt;bt++){const Kn=Ae.get(bt).context;Kn.index=bt,Kn.count=Qt,Kn.ngForOf=this._ngForOf}G.forEachIdentityChange(bt=>{Qi(Ae.get(bt.currentIndex),bt)})}static ngTemplateContextGuard(G,Ae){return!0}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Qi(N,le){N.context.$implicit=le.item}let wi=(()=>{class N{constructor(G,Ae){this._viewContainer=G,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ae}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){or("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){or("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,Ae){return!0}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.s_b),c.Y36(c.Rgc))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function or(N,le){if(le&&!le.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,c.AaK)(le)}'.`)}class kr{constructor(le,G){this._viewContainerRef=le,this._templateRef=G,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(le){le&&!this._created?this.create():!le&&this._created&&this.destroy()}}let Ds=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(G){this._ngSwitch=G,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(G){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(G)}_matchCase(G){const Ae=G==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ae,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ae}_updateDefaultCases(G){if(this._defaultViews&&G!==this._defaultUsed){this._defaultUsed=G;for(let Ae=0;Ae<this._defaultViews.length;Ae++)this._defaultViews[Ae].enforceState(G)}}}return N.\u0275fac=function(G){return new(G||N)},N.\u0275dir=c.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),ha=(()=>{class N{constructor(G,Ae,bt){this.ngSwitch=bt,bt._addCase(),this._view=new kr(G,Ae)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ds,9))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),Ts=(()=>{class N{constructor(G,Ae,bt){bt._addDefault(new kr(G,Ae))}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ds,9))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngSwitchDefault",""]],standalone:!0}),N})(),ms=(()=>{class N{constructor(G,Ae,bt){this._ngEl=G,this._differs=Ae,this._renderer=bt,this._ngStyle=null,this._differ=null}set ngStyle(G){this._ngStyle=G,!this._differ&&G&&(this._differ=this._differs.find(G).create())}ngDoCheck(){if(this._differ){const G=this._differ.diff(this._ngStyle);G&&this._applyChanges(G)}}_setStyle(G,Ae){const[bt,Qt]=G.split("."),an=-1===bt.indexOf("-")?void 0:c.JOm.DashCase;null!=Ae?this._renderer.setStyle(this._ngEl.nativeElement,bt,Qt?`${Ae}${Qt}`:Ae,an):this._renderer.removeStyle(this._ngEl.nativeElement,bt,an)}_applyChanges(G){G.forEachRemovedItem(Ae=>this._setStyle(Ae.key,null)),G.forEachAddedItem(Ae=>this._setStyle(Ae.key,Ae.currentValue)),G.forEachChangedItem(Ae=>this._setStyle(Ae.key,Ae.currentValue))}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},N.\u0275dir=c.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})();function is(N,le){return new c.vHH(2100,!1)}class Ot{createSubscription(le,G){return le.subscribe({next:G,error:Ae=>{throw Ae}})}dispose(le){le.unsubscribe()}}class Tt{createSubscription(le,G){return le.then(G,Ae=>{throw Ae})}dispose(le){}}const Zt=new Tt,hn=new Ot;let Rn=(()=>{class N{constructor(G){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=G}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(G){return this._obj?G!==this._obj?(this._dispose(),this.transform(G)):this._latestValue:(G&&this._subscribe(G),this._latestValue)}_subscribe(G){this._obj=G,this._strategy=this._selectStrategy(G),this._subscription=this._strategy.createSubscription(G,Ae=>this._updateLatestValue(G,Ae))}_selectStrategy(G){if((0,c.QGY)(G))return Zt;if((0,c.F4k)(G))return hn;throw is()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(G,Ae){G===this._obj&&(this._latestValue=Ae,this._ref.markForCheck())}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.sBO,16))},N.\u0275pipe=c.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})();const Es=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Zr=(()=>{class N{constructor(G,Ae){this.locale=G,this.defaultTimezone=Ae}transform(G,Ae="mediumDate",bt,Qt){if(null==G||""===G||G!=G)return null;try{return St(G,Ae,Qt||this.locale,bt??this.defaultTimezone??void 0)}catch(an){throw is()}}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.soG,16),c.Y36(Es,24))},N.\u0275pipe=c.Yjl({name:"date",type:N,pure:!0,standalone:!0}),N})(),Ls=(()=>{class N{constructor(G){this._locale=G}transform(G,Ae,bt){if(!function io(N){return!(null==N||""===N||N!=N)}(G))return null;bt=bt||this._locale;try{return function pe(N,le,G){return function ii(N,le,G,Ae,bt,Qt,an=!1){let Kn="",zi=!1;if(isFinite(N)){let Bi=function we(N){let Ae,bt,Qt,an,Kn,le=Math.abs(N)+"",G=0;for((bt=le.indexOf("."))>-1&&(le=le.replace(".","")),(Qt=le.search(/e/i))>0?(bt<0&&(bt=Qt),bt+=+le.slice(Qt+1),le=le.substring(0,Qt)):bt<0&&(bt=le.length),Qt=0;"0"===le.charAt(Qt);Qt++);if(Qt===(Kn=le.length))Ae=[0],bt=1;else{for(Kn--;"0"===le.charAt(Kn);)Kn--;for(bt-=Qt,Ae=[],an=0;Qt<=Kn;Qt++,an++)Ae[an]=Number(le.charAt(Qt))}return bt>22&&(Ae=Ae.splice(0,21),G=bt-1,bt=1),{digits:Ae,exponent:G,integerLen:bt}}(N);an&&(Bi=function B(N){if(0===N.digits[0])return N;const le=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===le?N.digits.push(0,0):1===le&&N.digits.push(0),N.integerLen+=2),N}(Bi));let _i=le.minInt,Vi=le.minFrac,mr=le.maxFrac;if(Qt){const Co=Qt.match($n);if(null===Co)throw new Error(`${Qt} is not a valid digit info`);const Fr=Co[1],gr=Co[3],ys=Co[5];null!=Fr&&(_i=Ct(Fr)),null!=gr&&(Vi=Ct(gr)),null!=ys?mr=Ct(ys):null!=gr&&Vi>mr&&(mr=Vi)}!function Ve(N,le,G){if(le>G)throw new Error(`The minimum number of digits after fraction (${le}) is higher than the maximum (${G}).`);let Ae=N.digits,bt=Ae.length-N.integerLen;const Qt=Math.min(Math.max(le,bt),G);let an=Qt+N.integerLen,Kn=Ae[an];if(an>0){Ae.splice(Math.max(N.integerLen,an));for(let Vi=an;Vi<Ae.length;Vi++)Ae[Vi]=0}else{bt=Math.max(0,bt),N.integerLen=1,Ae.length=Math.max(1,an=Qt+1),Ae[0]=0;for(let Vi=1;Vi<an;Vi++)Ae[Vi]=0}if(Kn>=5)if(an-1<0){for(let Vi=0;Vi>an;Vi--)Ae.unshift(0),N.integerLen++;Ae.unshift(1),N.integerLen++}else Ae[an-1]++;for(;bt<Math.max(0,Qt);bt++)Ae.push(0);let zi=0!==Qt;const Bi=le+N.integerLen,_i=Ae.reduceRight(function(Vi,mr,ar,Pr){return Pr[ar]=(mr+=Vi)<10?mr:mr-10,zi&&(0===Pr[ar]&&ar>=Bi?Pr.pop():zi=!1),mr>=10?1:0},0);_i&&(Ae.unshift(_i),N.integerLen++)}(Bi,Vi,mr);let ar=Bi.digits,Pr=Bi.integerLen;const Vs=Bi.exponent;let uo=[];for(zi=ar.every(Co=>!Co);Pr<_i;Pr++)ar.unshift(0);for(;Pr<0;Pr++)ar.unshift(0);Pr>0?uo=ar.splice(Pr,ar.length):(uo=ar,ar=[0]);const Js=[];for(ar.length>=le.lgSize&&Js.unshift(ar.splice(-le.lgSize,ar.length).join(""));ar.length>le.gSize;)Js.unshift(ar.splice(-le.gSize,ar.length).join(""));ar.length&&Js.unshift(ar.join("")),Kn=Js.join(Ye(G,Ae)),uo.length&&(Kn+=Ye(G,bt)+uo.join("")),Vs&&(Kn+=Ye(G,Je.Exponential)+"+"+Vs)}else Kn=Ye(G,Je.Infinity);return Kn=N<0&&!zi?le.negPre+Kn+le.negSuf:le.posPre+Kn+le.posSuf,Kn}(N,function wt(N,le="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ae=N.split(";"),bt=Ae[0],Qt=Ae[1],an=-1!==bt.indexOf(".")?bt.split("."):[bt.substring(0,bt.lastIndexOf("0")+1),bt.substring(bt.lastIndexOf("0")+1)],Kn=an[0],zi=an[1]||"";G.posPre=Kn.substring(0,Kn.indexOf("#"));for(let _i=0;_i<zi.length;_i++){const Vi=zi.charAt(_i);"0"===Vi?G.minFrac=G.maxFrac=_i+1:"#"===Vi?G.maxFrac=_i+1:G.posSuf+=Vi}const Bi=Kn.split(",");if(G.gSize=Bi[1]?Bi[1].length:0,G.lgSize=Bi[2]||Bi[1]?(Bi[2]||Bi[1]).length:0,Qt){const _i=bt.length-G.posPre.length-G.posSuf.length,Vi=Qt.indexOf("#");G.negPre=Qt.substring(0,Vi).replace(/'/g,""),G.negSuf=Qt.slice(Vi+_i).replace(/'/g,"")}else G.negPre=le+G.posPre,G.negSuf=G.posSuf;return G}(function et(N,le){return(0,c.cg1)(N)[c.wAp.NumberFormats][le]}(le,oe.Decimal),Ye(le,Je.MinusSign)),le,Je.Group,Je.Decimal,G)}(function Ys(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}(G),bt,Ae)}catch(Qt){throw is()}}}return N.\u0275fac=function(G){return new(G||N)(c.Y36(c.soG,16))},N.\u0275pipe=c.Yjl({name:"number",type:N,pure:!0,standalone:!0}),N})();let ro=(()=>{class N{}return N.\u0275fac=function(G){return new(G||N)},N.\u0275mod=c.oAB({type:N}),N.\u0275inj=c.cJS({}),N})();const jr="browser";function Qr(N){return N===jr}function oo(N){return"server"===N}let Vo=(()=>{class N{}return N.\u0275prov=(0,c.Yz7)({token:N,providedIn:"root",factory:()=>new Ea((0,c.LFG)(Ke),window)}),N})();class Ea{constructor(le,G){this.document=le,this.window=G,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const G=function Gr(N,le){const G=N.getElementById(le)||N.getElementsByName(le)[0];if(G)return G;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const Ae=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let bt=Ae.currentNode;for(;bt;){const Qt=bt.shadowRoot;if(Qt){const an=Qt.getElementById(le)||Qt.querySelector(`[name="${le}"]`);if(an)return an}bt=Ae.nextNode()}}return null}(this.document,le);G&&(this.scrollToElement(G),G.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=le)}}scrollToElement(le){const G=le.getBoundingClientRect(),Ae=G.left+this.window.pageXOffset,bt=G.top+this.window.pageYOffset,Qt=this.offset();this.window.scrollTo(Ae-Qt[0],bt-Qt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Si(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class xs{}},529:(ln,ht,w)=>{w.d(ht,{JF:()=>$,WM:()=>ne,eN:()=>jt});var c=w(6895),y=w(4650),b=w(9646),F=w(9751),de=w(4351),Be=w(9300),Ke=w(4004);class Re{}class S{}class ne{constructor(Pe){this.normalizedNames=new Map,this.lazyUpdate=null,Pe?this.lazyInit="string"==typeof Pe?()=>{this.headers=new Map,Pe.split("\n").forEach(Fe=>{const xt=Fe.indexOf(":");if(xt>0){const St=Fe.slice(0,xt),Pt=St.toLowerCase(),gn=Fe.slice(xt+1).trim();this.maybeSetNormalizedName(St,Pt),this.headers.has(Pt)?this.headers.get(Pt).push(gn):this.headers.set(Pt,[gn])}})}:()=>{this.headers=new Map,Object.keys(Pe).forEach(Fe=>{let xt=Pe[Fe];const St=Fe.toLowerCase();"string"==typeof xt&&(xt=[xt]),xt.length>0&&(this.headers.set(St,xt),this.maybeSetNormalizedName(Fe,St))})}:this.headers=new Map}has(Pe){return this.init(),this.headers.has(Pe.toLowerCase())}get(Pe){this.init();const Fe=this.headers.get(Pe.toLowerCase());return Fe&&Fe.length>0?Fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pe){return this.init(),this.headers.get(Pe.toLowerCase())||null}append(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"a"})}set(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"s"})}delete(Pe,Fe){return this.clone({name:Pe,value:Fe,op:"d"})}maybeSetNormalizedName(Pe,Fe){this.normalizedNames.has(Fe)||this.normalizedNames.set(Fe,Pe)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pe=>this.applyUpdate(Pe)),this.lazyUpdate=null))}copyFrom(Pe){Pe.init(),Array.from(Pe.headers.keys()).forEach(Fe=>{this.headers.set(Fe,Pe.headers.get(Fe)),this.normalizedNames.set(Fe,Pe.normalizedNames.get(Fe))})}clone(Pe){const Fe=new ne;return Fe.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,Fe.lazyUpdate=(this.lazyUpdate||[]).concat([Pe]),Fe}applyUpdate(Pe){const Fe=Pe.name.toLowerCase();switch(Pe.op){case"a":case"s":let xt=Pe.value;if("string"==typeof xt&&(xt=[xt]),0===xt.length)return;this.maybeSetNormalizedName(Pe.name,Fe);const St=("a"===Pe.op?this.headers.get(Fe):void 0)||[];St.push(...xt),this.headers.set(Fe,St);break;case"d":const Pt=Pe.value;if(Pt){let gn=this.headers.get(Fe);if(!gn)return;gn=gn.filter(Ln=>-1===Pt.indexOf(Ln)),0===gn.length?(this.headers.delete(Fe),this.normalizedNames.delete(Fe)):this.headers.set(Fe,gn)}else this.headers.delete(Fe),this.normalizedNames.delete(Fe)}}forEach(Pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Fe=>Pe(this.normalizedNames.get(Fe),this.headers.get(Fe)))}}class he{encodeKey(Pe){return ze(Pe)}encodeValue(Pe){return ze(Pe)}decodeKey(Pe){return decodeURIComponent(Pe)}decodeValue(Pe){return decodeURIComponent(Pe)}}const We=/%(\d[a-f0-9])/gi,Me={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(Ge){return encodeURIComponent(Ge).replace(We,(Pe,Fe)=>Me[Fe]??Pe)}function Se(Ge){return`${Ge}`}class Ee{constructor(Pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pe.encoder||new he,Pe.fromString){if(Pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function He(Ge,Pe){const Fe=new Map;return Ge.length>0&&Ge.replace(/^\?/,"").split("&").forEach(St=>{const Pt=St.indexOf("="),[gn,Ln]=-1==Pt?[Pe.decodeKey(St),""]:[Pe.decodeKey(St.slice(0,Pt)),Pe.decodeValue(St.slice(Pt+1))],at=Fe.get(gn)||[];at.push(Ln),Fe.set(gn,at)}),Fe}(Pe.fromString,this.encoder)}else Pe.fromObject?(this.map=new Map,Object.keys(Pe.fromObject).forEach(Fe=>{const xt=Pe.fromObject[Fe],St=Array.isArray(xt)?xt.map(Se):[Se(xt)];this.map.set(Fe,St)})):this.map=null}has(Pe){return this.init(),this.map.has(Pe)}get(Pe){this.init();const Fe=this.map.get(Pe);return Fe?Fe[0]:null}getAll(Pe){return this.init(),this.map.get(Pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"a"})}appendAll(Pe){const Fe=[];return Object.keys(Pe).forEach(xt=>{const St=Pe[xt];Array.isArray(St)?St.forEach(Pt=>{Fe.push({param:xt,value:Pt,op:"a"})}):Fe.push({param:xt,value:St,op:"a"})}),this.clone(Fe)}set(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"s"})}delete(Pe,Fe){return this.clone({param:Pe,value:Fe,op:"d"})}toString(){return this.init(),this.keys().map(Pe=>{const Fe=this.encoder.encodeKey(Pe);return this.map.get(Pe).map(xt=>Fe+"="+this.encoder.encodeValue(xt)).join("&")}).filter(Pe=>""!==Pe).join("&")}clone(Pe){const Fe=new Ee({encoder:this.encoder});return Fe.cloneFrom=this.cloneFrom||this,Fe.updates=(this.updates||[]).concat(Pe),Fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pe=>this.map.set(Pe,this.cloneFrom.map.get(Pe))),this.updates.forEach(Pe=>{switch(Pe.op){case"a":case"s":const Fe=("a"===Pe.op?this.map.get(Pe.param):void 0)||[];Fe.push(Se(Pe.value)),this.map.set(Pe.param,Fe);break;case"d":if(void 0===Pe.value){this.map.delete(Pe.param);break}{let xt=this.map.get(Pe.param)||[];const St=xt.indexOf(Se(Pe.value));-1!==St&&xt.splice(St,1),xt.length>0?this.map.set(Pe.param,xt):this.map.delete(Pe.param)}}}),this.cloneFrom=this.updates=null)}}class dt{constructor(){this.map=new Map}set(Pe,Fe){return this.map.set(Pe,Fe),this}get(Pe){return this.map.has(Pe)||this.map.set(Pe,Pe.defaultValue()),this.map.get(Pe)}delete(Pe){return this.map.delete(Pe),this}has(Pe){return this.map.has(Pe)}keys(){return this.map.keys()}}function Le(Ge){return typeof ArrayBuffer<"u"&&Ge instanceof ArrayBuffer}function xe(Ge){return typeof Blob<"u"&&Ge instanceof Blob}function Ne(Ge){return typeof FormData<"u"&&Ge instanceof FormData}class oe{constructor(Pe,Fe,xt,St){let Pt;if(this.url=Fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pe.toUpperCase(),function tt(Ge){switch(Ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==xt?xt:null,Pt=St):Pt=xt,Pt&&(this.reportProgress=!!Pt.reportProgress,this.withCredentials=!!Pt.withCredentials,Pt.responseType&&(this.responseType=Pt.responseType),Pt.headers&&(this.headers=Pt.headers),Pt.context&&(this.context=Pt.context),Pt.params&&(this.params=Pt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new dt),this.params){const gn=this.params.toString();if(0===gn.length)this.urlWithParams=Fe;else{const Ln=Fe.indexOf("?");this.urlWithParams=Fe+(-1===Ln?"?":Ln<Fe.length-1?"&":"")+gn}}else this.params=new Ee,this.urlWithParams=Fe}serializeBody(){return null===this.body?null:Le(this.body)||xe(this.body)||Ne(this.body)||function se(Ge){return typeof URLSearchParams<"u"&&Ge instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ee?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ne(this.body)?null:xe(this.body)?this.body.type||null:Le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ee?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pe={}){const Fe=Pe.method||this.method,xt=Pe.url||this.url,St=Pe.responseType||this.responseType,Pt=void 0!==Pe.body?Pe.body:this.body,gn=void 0!==Pe.withCredentials?Pe.withCredentials:this.withCredentials,Ln=void 0!==Pe.reportProgress?Pe.reportProgress:this.reportProgress;let at=Pe.headers||this.headers,Vt=Pe.params||this.params;const ce=Pe.context??this.context;return void 0!==Pe.setHeaders&&(at=Object.keys(Pe.setHeaders).reduce((lt,gt)=>lt.set(gt,Pe.setHeaders[gt]),at)),Pe.setParams&&(Vt=Object.keys(Pe.setParams).reduce((lt,gt)=>lt.set(gt,Pe.setParams[gt]),Vt)),new oe(Fe,xt,Pt,{params:Vt,headers:at,context:ce,reportProgress:Ln,responseType:St,withCredentials:gn})}}var Qe=(()=>((Qe=Qe||{})[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe))();class ae{constructor(Pe,Fe=200,xt="OK"){this.headers=Pe.headers||new ne,this.status=void 0!==Pe.status?Pe.status:Fe,this.statusText=Pe.statusText||xt,this.url=Pe.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends ae{constructor(Pe={}){super(Pe),this.type=Qe.ResponseHeader}clone(Pe={}){return new ue({headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class Ce extends ae{constructor(Pe={}){super(Pe),this.type=Qe.Response,this.body=void 0!==Pe.body?Pe.body:null}clone(Pe={}){return new Ce({body:void 0!==Pe.body?Pe.body:this.body,headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class Je extends ae{constructor(Pe){super(Pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pe.url||"(unknown url)"}`:`Http failure response for ${Pe.url||"(unknown url)"}: ${Pe.status} ${Pe.statusText}`,this.error=Pe.error||null}}function Ht(Ge,Pe){return{body:Pe,headers:Ge.headers,context:Ge.context,observe:Ge.observe,params:Ge.params,reportProgress:Ge.reportProgress,responseType:Ge.responseType,withCredentials:Ge.withCredentials}}let jt=(()=>{class Ge{constructor(Fe){this.handler=Fe}request(Fe,xt,St={}){let Pt;if(Fe instanceof oe)Pt=Fe;else{let at,Vt;at=St.headers instanceof ne?St.headers:new ne(St.headers),St.params&&(Vt=St.params instanceof Ee?St.params:new Ee({fromObject:St.params})),Pt=new oe(Fe,xt,void 0!==St.body?St.body:null,{headers:at,context:St.context,params:Vt,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials})}const gn=(0,b.of)(Pt).pipe((0,de.b)(at=>this.handler.handle(at)));if(Fe instanceof oe||"events"===St.observe)return gn;const Ln=gn.pipe((0,Be.h)(at=>at instanceof Ce));switch(St.observe||"body"){case"body":switch(Pt.responseType){case"arraybuffer":return Ln.pipe((0,Ke.U)(at=>{if(null!==at.body&&!(at.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return at.body}));case"blob":return Ln.pipe((0,Ke.U)(at=>{if(null!==at.body&&!(at.body instanceof Blob))throw new Error("Response is not a Blob.");return at.body}));case"text":return Ln.pipe((0,Ke.U)(at=>{if(null!==at.body&&"string"!=typeof at.body)throw new Error("Response is not a string.");return at.body}));default:return Ln.pipe((0,Ke.U)(at=>at.body))}case"response":return Ln;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(Fe,xt={}){return this.request("DELETE",Fe,xt)}get(Fe,xt={}){return this.request("GET",Fe,xt)}head(Fe,xt={}){return this.request("HEAD",Fe,xt)}jsonp(Fe,xt){return this.request("JSONP",Fe,{params:(new Ee).append(xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Fe,xt={}){return this.request("OPTIONS",Fe,xt)}patch(Fe,xt,St={}){return this.request("PATCH",Fe,Ht(St,xt))}post(Fe,xt,St={}){return this.request("POST",Fe,Ht(St,xt))}put(Fe,xt,St={}){return this.request("PUT",Fe,Ht(St,xt))}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)(y.LFG(Re))},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class sn{constructor(Pe,Fe){this.next=Pe,this.interceptor=Fe}handle(Pe){return this.interceptor.intercept(Pe,this.next)}}const on=new y.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class Ge{intercept(Fe,xt){return xt.handle(Fe)}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Dt=/^\)\]\}',?\n/;let dn=(()=>{class Ge{constructor(Fe){this.xhrFactory=Fe}handle(Fe){if("JSONP"===Fe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F.y(xt=>{const St=this.xhrFactory.build();if(St.open(Fe.method,Fe.urlWithParams),Fe.withCredentials&&(St.withCredentials=!0),Fe.headers.forEach((te,J)=>St.setRequestHeader(te,J.join(","))),Fe.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Fe.headers.has("Content-Type")){const te=Fe.detectContentTypeHeader();null!==te&&St.setRequestHeader("Content-Type",te)}if(Fe.responseType){const te=Fe.responseType.toLowerCase();St.responseType="json"!==te?te:"text"}const Pt=Fe.serializeBody();let gn=null;const Ln=()=>{if(null!==gn)return gn;const te=St.statusText||"OK",J=new ne(St.getAllResponseHeaders()),ee=function Nt(Ge){return"responseURL"in Ge&&Ge.responseURL?Ge.responseURL:/^X-Request-URL:/m.test(Ge.getAllResponseHeaders())?Ge.getResponseHeader("X-Request-URL"):null}(St)||Fe.url;return gn=new ue({headers:J,status:St.status,statusText:te,url:ee}),gn},at=()=>{let{headers:te,status:J,statusText:ee,url:O}=Ln(),K=null;204!==J&&(K=typeof St.response>"u"?St.responseText:St.response),0===J&&(J=K?200:0);let z=J>=200&&J<300;if("json"===Fe.responseType&&"string"==typeof K){const fe=K;K=K.replace(Dt,"");try{K=""!==K?JSON.parse(K):null}catch(je){K=fe,z&&(z=!1,K={error:je,text:K})}}z?(xt.next(new Ce({body:K,headers:te,status:J,statusText:ee,url:O||void 0})),xt.complete()):xt.error(new Je({error:K,headers:te,status:J,statusText:ee,url:O||void 0}))},Vt=te=>{const{url:J}=Ln(),ee=new Je({error:te,status:St.status||0,statusText:St.statusText||"Unknown Error",url:J||void 0});xt.error(ee)};let ce=!1;const lt=te=>{ce||(xt.next(Ln()),ce=!0);let J={type:Qe.DownloadProgress,loaded:te.loaded};te.lengthComputable&&(J.total=te.total),"text"===Fe.responseType&&!!St.responseText&&(J.partialText=St.responseText),xt.next(J)},gt=te=>{let J={type:Qe.UploadProgress,loaded:te.loaded};te.lengthComputable&&(J.total=te.total),xt.next(J)};return St.addEventListener("load",at),St.addEventListener("error",Vt),St.addEventListener("timeout",Vt),St.addEventListener("abort",Vt),Fe.reportProgress&&(St.addEventListener("progress",lt),null!==Pt&&St.upload&&St.upload.addEventListener("progress",gt)),St.send(Pt),xt.next({type:Qe.Sent}),()=>{St.removeEventListener("error",Vt),St.removeEventListener("abort",Vt),St.removeEventListener("load",at),St.removeEventListener("timeout",Vt),Fe.reportProgress&&(St.removeEventListener("progress",lt),null!==Pt&&St.upload&&St.upload.removeEventListener("progress",gt)),St.readyState!==St.DONE&&St.abort()}})}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)(y.LFG(c.JF))},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Mn=new y.OlP("XSRF_COOKIE_NAME"),Pn=new y.OlP("XSRF_HEADER_NAME");class Fn{}let Bn=(()=>{class Ge{constructor(Fe,xt,St){this.doc=Fe,this.platform=xt,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Fe=this.doc.cookie||"";return Fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Fe,this.cookieName),this.lastCookieString=Fe),this.lastToken}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)(y.LFG(c.K0),y.LFG(y.Lbi),y.LFG(Mn))},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),En=(()=>{class Ge{constructor(Fe,xt){this.tokenService=Fe,this.headerName=xt}intercept(Fe,xt){const St=Fe.url.toLowerCase();if("GET"===Fe.method||"HEAD"===Fe.method||St.startsWith("http://")||St.startsWith("https://"))return xt.handle(Fe);const Pt=this.tokenService.getToken();return null!==Pt&&!Fe.headers.has(this.headerName)&&(Fe=Fe.clone({headers:Fe.headers.set(this.headerName,Pt)})),xt.handle(Fe)}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)(y.LFG(Fn),y.LFG(Pn))},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),Jt=(()=>{class Ge{constructor(Fe,xt){this.backend=Fe,this.injector=xt,this.chain=null}handle(Fe){if(null===this.chain){const xt=this.injector.get(on,[]);this.chain=xt.reduceRight((St,Pt)=>new sn(St,Pt),this.backend)}return this.chain.handle(Fe)}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)(y.LFG(S),y.LFG(y.zs3))},Ge.\u0275prov=y.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),P=(()=>{class Ge{static disable(){return{ngModule:Ge,providers:[{provide:En,useClass:Bt}]}}static withOptions(Fe={}){return{ngModule:Ge,providers:[Fe.cookieName?{provide:Mn,useValue:Fe.cookieName}:[],Fe.headerName?{provide:Pn,useValue:Fe.headerName}:[]]}}}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)},Ge.\u0275mod=y.oAB({type:Ge}),Ge.\u0275inj=y.cJS({providers:[En,{provide:on,useExisting:En,multi:!0},{provide:Fn,useClass:Bn},{provide:Mn,useValue:"XSRF-TOKEN"},{provide:Pn,useValue:"X-XSRF-TOKEN"}]}),Ge})(),$=(()=>{class Ge{}return Ge.\u0275fac=function(Fe){return new(Fe||Ge)},Ge.\u0275mod=y.oAB({type:Ge}),Ge.\u0275inj=y.cJS({providers:[jt,{provide:Re,useClass:Jt},dn,{provide:S,useExisting:dn}],imports:[P.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ge})()},4650:(ln,ht,w)=>{w.d(ht,{$8M:()=>Di,$Z:()=>Sp,AFp:()=>N0,ALo:()=>n0,AaK:()=>Re,B6R:()=>K,BQk:()=>la,CHM:()=>Ma,CRH:()=>p0,CZH:()=>Av,CqO:()=>Yu,D6c:()=>jD,DdM:()=>Yb,EJc:()=>iD,EiD:()=>Cu,EpF:()=>Yl,F$t:()=>Bh,F4k:()=>ca,FYo:()=>Mu,FiY:()=>On,G48:()=>ED,Gf:()=>h0,GfV:()=>dp,GkF:()=>du,Gpc:()=>me,Gre:()=>Kg,Hsn:()=>fu,IIB:()=>QC,Ikx:()=>ip,JOm:()=>sc,JVY:()=>Hn,KtG:()=>Jo,L6k:()=>Ei,LAX:()=>As,LFG:()=>Sr,LSH:()=>lp,Lbi:()=>JC,Lck:()=>Zw,MAs:()=>qp,MMx:()=>Gv,NdJ:()=>kd,O4$:()=>Kn,OlP:()=>yr,Oqu:()=>zg,PXZ:()=>yD,Q6J:()=>zf,QGY:()=>Rd,QP$:()=>wn,QbO:()=>eD,Qsj:()=>c_,R0b:()=>Zu,RDi:()=>Kh,Rgc:()=>lv,SBq:()=>Yc,Sil:()=>sD,Suo:()=>f0,TTD:()=>bo,TgZ:()=>Fc,Tol:()=>Hg,Udp:()=>Jp,VKq:()=>Kb,WFA:()=>Lc,WLB:()=>Zb,X6Q:()=>DD,XFs:()=>Jt,Xpm:()=>O,Xts:()=>wm,Y36:()=>Sc,YKP:()=>Bb,YNc:()=>$f,Yjl:()=>At,Yz7:()=>Mt,Z0I:()=>rt,ZZ4:()=>fb,_Bn:()=>Nb,_UZ:()=>Yf,_Vd:()=>Cc,_c5:()=>UD,_uU:()=>im,aQg:()=>pb,c2e:()=>tD,cJS:()=>Ye,cg1:()=>dm,d8E:()=>um,dDg:()=>pD,dqk:()=>St,eBb:()=>Jr,eFA:()=>q0,ekj:()=>em,eoX:()=>Y0,f3M:()=>j,g9A:()=>V0,h0i:()=>vy,hGG:()=>HD,hij:()=>rm,iGM:()=>d0,ifc:()=>xt,ip1:()=>L0,jDz:()=>Ub,kEZ:()=>qb,kL8:()=>_y,kYT:()=>Ft,kcU:()=>Bi,lG2:()=>mn,lcZ:()=>r0,lqb:()=>Ar,lri:()=>z0,mCW:()=>$t,n5z:()=>vu,n_E:()=>Ev,oAB:()=>je,oxw:()=>qf,pB0:()=>I,q3G:()=>Yi,q4F:()=>sa,qLn:()=>rh,qOj:()=>Br,qZA:()=>Nh,qzn:()=>Ue,rWj:()=>W0,r_U:()=>XC,s9C:()=>kg,sBO:()=>xD,sIi:()=>ts,s_b:()=>Mv,soG:()=>Tv,tb:()=>U0,tp0:()=>pi,uIk:()=>Sg,vHH:()=>Me,vpe:()=>zh,wAp:()=>t,xi3:()=>s0,xp6:()=>Dp,ynx:()=>Td,z2F:()=>Rv,z3N:()=>Q,zSh:()=>Vl,zs3:()=>nu});var c=w(7579),y=w(727),b=w(9751),F=w(6451),de=w(3099);function Be(r){for(let s in r)if(r[s]===Be)return s;throw Error("Could not find renamed property on target object.")}function Ke(r,s){for(const l in s)s.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=s[l])}function Re(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Re).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function S(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const ne=Be({__forward_ref__:Be});function me(r){return r.__forward_ref__=me,r.toString=function(){return Re(this())},r}function he(r){return He(r)?r():r}function He(r){return"function"==typeof r&&r.hasOwnProperty(ne)&&r.__forward_ref__===me}class Me extends Error{constructor(s,l){super(function ze(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,l)),this.code=s}}function Se(r){return"string"==typeof r?r:null==r?"":String(r)}function Le(r,s){throw new Me(-201,!1)}function Bt(r,s){null==r&&function Te(r,s,l,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,r,null,"!=")}function Mt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ye(r){return{providers:r.providers||[],imports:r.imports||[]}}function et(r){return Dt(r,Pn)||Dt(r,Bn)}function rt(r){return null!==et(r)}function Dt(r,s){return r.hasOwnProperty(s)?r[s]:null}function Mn(r){return r&&(r.hasOwnProperty(Fn)||r.hasOwnProperty(En))?r[Fn]:null}const Pn=Be({\u0275prov:Be}),Fn=Be({\u0275inj:Be}),Bn=Be({ngInjectableDef:Be}),En=Be({ngInjectorDef:Be});var Jt=(()=>((Jt=Jt||{})[Jt.Default=0]="Default",Jt[Jt.Host=1]="Host",Jt[Jt.Self=2]="Self",Jt[Jt.SkipSelf=4]="SkipSelf",Jt[Jt.Optional=8]="Optional",Jt))();let ot;function P(r){const s=ot;return ot=r,s}function $(r,s,l){const d=et(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Jt.Optional?null:void 0!==s?s:void Le(Re(r))}function mt(r){return{toString:r}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),xt=(()=>{return(r=xt||(xt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",xt;var r})();const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},at=[],Vt=Be({\u0275cmp:Be}),ce=Be({\u0275dir:Be}),lt=Be({\u0275pipe:Be}),gt=Be({\u0275mod:Be}),te=Be({\u0275fac:Be}),J=Be({__NG_ELEMENT_ID__:Be});let ee=0;function O(r){return mt(()=>{const l=!0===r.standalone,d={},p={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||at,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||xt.Emulated,id:"c"+ee++,styles:r.styles||at,_:null,setInput:null,schemas:r.schemas||null,tView:null},m=r.dependencies,D=r.features;return p.inputs=cn(r.inputs,d),p.outputs=cn(r.outputs),D&&D.forEach(R=>R(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(z).filter(fe):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(Yt).filter(fe):null,p})}function K(r,s,l){const d=r.\u0275cmp;d.directiveDefs=()=>("function"==typeof s?s():s).map(z),d.pipeDefs=()=>("function"==typeof l?l():l).map(Yt)}function z(r){return ut(r)||yt(r)}function fe(r){return null!==r}function je(r){return mt(()=>({type:r.type,bootstrap:r.bootstrap||at,declarations:r.declarations||at,imports:r.imports||at,exports:r.exports||at,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ft(r,s){return mt(()=>{const l=$n(r,!0);l.declarations=s.declarations||at,l.imports=s.imports||at,l.exports=s.exports||at})}function cn(r,s){if(null==r)return Ln;const l={};for(const d in r)if(r.hasOwnProperty(d)){let p=r[d],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),l[p]=d,s&&(s[p]=m)}return l}const mn=O;function At(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ut(r){return r[Vt]||null}function yt(r){return r[ce]||null}function Yt(r){return r[lt]||null}function wn(r){const s=ut(r)||yt(r)||Yt(r);return null!==s&&s.standalone}function $n(r,s){const l=r[gt]||null;if(!l&&!0===s)throw new Error(`Type ${Re(r)} does not have '\u0275mod' property.`);return l}function or(r){return Array.isArray(r)&&"object"==typeof r[1]}function kr(r){return Array.isArray(r)&&!0===r[1]}function Ds(r){return 0!=(8&r.flags)}function ha(r){return 2==(2&r.flags)}function Ts(r){return 1==(1&r.flags)}function ns(r){return null!==r.template}function Bo(r){return 0!=(256&r[2])}function Vr(r,s){return r.hasOwnProperty(te)?r[te]:null}class Ls{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function bo(){return wo}function wo(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ys),io}function io(){const r=gs(this),s=r?.current;if(s){const l=r.previous;if(l===Ln)r.previous=s;else for(let d in s)l[d]=s[d];r.current=null,this.ngOnChanges(s)}}function Ys(r,s,l,d){const p=gs(r)||function ro(r,s){return r[Ao]=s}(r,{previous:Ln,current:null}),m=p.current||(p.current={}),D=p.previous,R=this.declaredInputs[l],L=D[R];m[R]=new Ls(L&&L.currentValue,s,D===Ln),r[d]=s}bo.ngInherit=!0;const Ao="__ngSimpleChanges__";function gs(r){return r[Ao]||null}function Xi(r){for(;Array.isArray(r);)r=r[0];return r}function Si(r,s){return Xi(s[r])}function Gr(r,s){return Xi(s[r.index])}function xs(r,s){return r.data[s]}function qs(r,s){return r[s]}function Ai(r,s){const l=s[r];return or(l)?l:l[0]}function fa(r){return 4==(4&r[2])}function Ns(r){return 64==(64&r[2])}function os(r,s){return null==s?null:r[s]}function _s(r){r[18]=0}function $i(r,s){r[5]+=s;let l=r,d=r[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const di={lFrame:co(null),bindingsEnabled:!0};function Ms(){return di.bindingsEnabled}function fn(){return di.lFrame.lView}function hi(){return di.lFrame.tView}function Ma(r){return di.lFrame.contextLView=r,r[8]}function Jo(r){return di.lFrame.contextLView=null,r}function Ur(){let r=X();for(;null!==r&&64===r.type;)r=r.parent;return r}function X(){return di.lFrame.currentTNode}function V(r,s){const l=di.lFrame;l.currentTNode=r,l.isParent=s}function ke(){return di.lFrame.isParent}function Xt(){di.lFrame.isParent=!1}function Zi(){const r=di.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function pr(){return di.lFrame.bindingIndex++}function To(r){const s=di.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,l}function Ml(r,s){const l=di.lFrame;l.bindingIndex=l.bindingRootIndex=r,Uo(s)}function Uo(r){di.lFrame.currentDirectiveIndex=r}function Ia(r){const s=di.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function Ro(){return di.lFrame.currentQueryIndex}function Sa(r){di.lFrame.currentQueryIndex=r}function as(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Sl(r,s,l){if(l&Jt.SkipSelf){let p=s,m=r;for(;!(p=p.parent,null!==p||l&Jt.Host||(p=as(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;s=p,r=m}const d=di.lFrame=rl();return d.currentTNode=s,d.lView=r,!0}function ea(r){const s=rl(),l=r[1];di.lFrame=s,s.currentTNode=l.firstChild,s.lView=r,s.tView=l,s.contextLView=r,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function rl(){const r=di.lFrame,s=null===r?null:r.child;return null===s?co(r):s}function co(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Aa(){const r=di.lFrame;return di.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const N=Aa;function le(){const r=Aa();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function bt(){return di.lFrame.selectedIndex}function Qt(r){di.lFrame.selectedIndex=r}function an(){const r=di.lFrame;return xs(r.tView,r.selectedIndex)}function Kn(){di.lFrame.currentNamespace="svg"}function Bi(){!function _i(){di.lFrame.currentNamespace=null}()}function ar(r,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const m=r.data[l].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:R,ngAfterViewInit:L,ngAfterViewChecked:ie,ngOnDestroy:Oe}=m;D&&(r.contentHooks||(r.contentHooks=[])).push(-l,D),R&&((r.contentHooks||(r.contentHooks=[])).push(l,R),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(l,R)),L&&(r.viewHooks||(r.viewHooks=[])).push(-l,L),ie&&((r.viewHooks||(r.viewHooks=[])).push(l,ie),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(l,ie)),null!=Oe&&(r.destroyHooks||(r.destroyHooks=[])).push(l,Oe)}}function Pr(r,s,l){Js(r,s,3,l)}function Vs(r,s,l,d){(3&r[2])===l&&Js(r,s,l,d)}function uo(r,s){let l=r[2];(3&l)===s&&(l&=2047,l+=1,r[2]=l)}function Js(r,s,l,d){const m=d??-1,D=s.length-1;let R=0;for(let L=void 0!==d?65535&r[18]:0;L<D;L++)if("number"==typeof s[L+1]){if(R=s[L],null!=d&&R>=d)break}else s[L]<0&&(r[18]+=65536),(R<m||-1==m)&&(Co(r,l,s,L),r[18]=(4294901760&r[18])+L+2),L++}function Co(r,s,l,d){const p=l[d]<0,m=l[d+1],R=r[p?-l[d]:l[d]];if(p){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{m.call(R)}finally{}}}else try{m.call(R)}finally{}}class gr{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ho(r,s,l){let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const m=l[d++],D=l[d++],R=l[d++];r.setAttribute(s,D,R,m)}else{const m=p,D=l[++d];nt(m)?r.setProperty(s,m,D):r.setAttribute(s,m,D),d++}}return d}function Do(r){return 3===r||4===r||6===r}function nt(r){return 64===r.charCodeAt(0)}function ho(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const p=s[d];"number"==typeof p?l=p:0===l||Al(r,l,p,null,-1===l||2===l?s[++d]:null)}}return r}function Al(r,s,l,d,p){let m=0,D=r.length;if(-1===s)D=-1;else for(;m<r.length;){const R=r[m++];if("number"==typeof R){if(R===s){D=-1;break}if(R>s){D=m-1;break}}}for(;m<r.length;){const R=r[m];if("number"==typeof R)break;if(R===l){if(null===d)return void(null!==p&&(r[m+1]=p));if(d===r[m+1])return void(r[m+2]=p)}m++,null!==d&&m++,null!==p&&m++}-1!==D&&(r.splice(D,0,s),m=D+1),r.splice(m++,0,l),null!==d&&r.splice(m++,0,d),null!==p&&r.splice(m++,0,p)}function Tl(r){return-1!==r}function Ui(r){return 32767&r}function Wi(r,s){let l=function al(r){return r>>16}(r),d=s;for(;l>0;)d=d[15],l--;return d}let Ra=!0;function Ba(r){const s=Ra;return Ra=r,s}let ql=0;const Un={};function na(r,s){const l=nn(r,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(r.injectorIndex=s.length,jn(d.data,r),jn(s,null),jn(d.blueprint,null));const p=Cn(r,s),m=r.injectorIndex;if(Tl(p)){const D=Ui(p),R=Wi(p,s),L=R[1].data;for(let ie=0;ie<8;ie++)s[m+ie]=R[D+ie]|L[D+ie]}return s[m+8]=p,m}function jn(r,s){r.push(0,0,0,0,0,0,0,0,s)}function nn(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Cn(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,d=null,p=s;for(;null!==p;){if(d=$o(p),null===d)return-1;if(l++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Lr(r,s,l){!function fi(r,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(J)&&(d=l[J]),null==d&&(d=l[J]=ql++);const p=255&d;s.data[r+(p>>5)]|=1<<p}(r,s,l)}function kl(r,s,l){if(l&Jt.Optional)return r;Le()}function jo(r,s,l,d){if(l&Jt.Optional&&void 0===d&&(d=null),0==(l&(Jt.Self|Jt.Host))){const p=r[9],m=P(void 0);try{return p?p.get(s,d,l&Jt.Optional):$(s,d,l&Jt.Optional)}finally{P(m)}}return kl(d,0,l)}function _a(r,s,l,d=Jt.Default,p){if(null!==r){if(1024&s[2]){const D=function ai(r,s,l,d,p){let m=r,D=s;for(;null!==m&&null!==D&&1024&D[2]&&!(256&D[2]);){const R=ls(m,D,l,d|Jt.Self,Un);if(R!==Un)return R;let L=m.parent;if(!L){const ie=D[21];if(ie){const Oe=ie.get(l,Un,d);if(Oe!==Un)return Oe}L=$o(D),D=D[15]}m=L}return p}(r,s,l,d,Un);if(D!==Un)return D}const m=ls(r,s,l,d,Un);if(m!==Un)return m}return jo(s,l,d,p)}function ls(r,s,l,d,p){const m=function _c(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(J)?r[J]:void 0;return"number"==typeof s?s>=0?255&s:cl:s}(l);if("function"==typeof m){if(!Sl(s,r,d))return d&Jt.Host?kl(p,0,d):jo(s,l,d,p);try{const D=m(d);if(null!=D||d&Jt.Optional)return D;Le()}finally{N()}}else if("number"==typeof m){let D=null,R=nn(r,s),L=-1,ie=d&Jt.Host?s[16][6]:null;for((-1===R||d&Jt.SkipSelf)&&(L=-1===R?Cn(r,s):s[R+8],-1!==L&&ll(d,!1)?(D=s[1],R=Ui(L),s=Wi(L,s)):R=-1);-1!==R;){const Oe=s[1];if(Va(m,R,Oe.data)){const ct=ya(R,s,l,D,d,ie);if(ct!==Un)return ct}L=s[R+8],-1!==L&&ll(d,s[1].data[R+8]===ie)&&Va(m,R,s)?(D=Oe,R=Ui(L),s=Wi(L,s)):R=-1}}return p}function ya(r,s,l,d,p,m){const D=s[1],R=D.data[r+8],Oe=Go(R,D,l,null==d?ha(R)&&Ra:d!=D&&0!=(3&R.type),p&Jt.Host&&m===R);return null!==Oe?_r(s,D,Oe,R):Un}function Go(r,s,l,d,p){const m=r.providerIndexes,D=s.data,R=1048575&m,L=r.directiveStart,Oe=m>>20,Rt=p?R+Oe:r.directiveEnd;for(let Kt=d?R:R+Oe;Kt<Rt;Kt++){const bn=D[Kt];if(Kt<L&&l===bn||Kt>=L&&bn.type===l)return Kt}if(p){const Kt=D[L];if(Kt&&ns(Kt)&&Kt.type===l)return L}return null}function _r(r,s,l,d){let p=r[l];const m=s.data;if(function ys(r){return r instanceof gr}(p)){const D=p;D.resolving&&function be(r,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Me(-200,`Circular dependency in DI detected for ${r}${l}`)}(function Ee(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Se(r)}(m[l]));const R=Ba(D.canSeeViewProviders);D.resolving=!0;const L=D.injectImpl?P(D.injectImpl):null;Sl(r,d,Jt.Default);try{p=r[l]=D.factory(void 0,m,r,d),s.firstCreatePass&&l>=d.directiveStart&&function mr(r,s,l){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:m}=s.type.prototype;if(d){const D=wo(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(r,D),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,D)}p&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-r,p),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(r,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(r,m))}(l,m[l],s)}finally{null!==L&&P(L),Ba(R),D.resolving=!1,N()}}return p}function Va(r,s,l){return!!(l[s+(r>>5)]&1<<r)}function ll(r,s){return!(r&Jt.Self||r&Jt.Host&&s)}class ci{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return _a(this._tNode,this._lView,s,d,l)}}function cl(){return new ci(Ur(),fn())}function vu(r){return mt(()=>{const s=r.prototype.constructor,l=s[te]||er(s),d=Object.prototype;let p=Object.getPrototypeOf(r.prototype).constructor;for(;p&&p!==d;){const m=p[te]||er(p);if(m&&m!==l)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function er(r){return He(r)?()=>{const s=er(he(r));return s&&s()}:Vr(r)}function $o(r){const s=r[1],l=s.type;return 2===l?s.declTNode:1===l?r[6]:null}function Di(r){return function Rl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const l=r.attrs;if(l){const d=l.length;let p=0;for(;p<d;){const m=l[p];if(Do(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<d&&"string"==typeof l[p];)p++;else{if(m===s)return l[p+1];p+=2}}}return null}(Ur(),r)}const lr="__parameters__",Sn="__prop__metadata__";function ka(r){return function(...l){if(r){const d=r(...l);for(const p in d)this[p]=d[p]}}}function Us(r,s,l){return mt(()=>{const d=ka(s);function p(...m){if(this instanceof p)return d.apply(this,m),this;const D=new p(...m);return R.annotation=D,R;function R(L,ie,Oe){const ct=L.hasOwnProperty(lr)?L[lr]:Object.defineProperty(L,lr,{value:[]})[lr];for(;ct.length<=Oe;)ct.push(null);return(ct[Oe]=ct[Oe]||[]).push(D),L}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=r,p.annotationCls=p,p})}function Hs(r,s,l,d){return mt(()=>{const p=ka(s);function m(...D){if(this instanceof m)return p.apply(this,D),this;const R=new m(...D);return function L(ie,Oe){const ct=ie.constructor,Rt=ct.hasOwnProperty(Sn)?ct[Sn]:Object.defineProperty(ct,Sn,{value:{}})[Sn];Rt[Oe]=Rt.hasOwnProperty(Oe)&&Rt[Oe]||[],Rt[Oe].unshift(R),d&&d(ie,Oe,...D)}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=r,m.annotationCls=m,m})}class yr{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Mt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(r,s){void 0===s&&(s=r);for(let l=0;l<r.length;l++){let d=r[l];Array.isArray(d)?(s===r&&(s=r.slice(0,l)),xr(d,s)):s!==r&&s.push(d)}return s}function cs(r,s){r.forEach(l=>Array.isArray(l)?cs(l,s):s(l))}function Ha(r,s,l){s>=r.length?r.push(l):r.splice(s,0,l)}function Oa(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function M(r,s){const l=[];for(let d=0;d<r;d++)l.push(s);return l}function _t(r,s,l){let d=_n(r,s);return d>=0?r[1|d]=l:(d=~d,function U(r,s,l,d){let p=r.length;if(p==s)r.push(l,d);else if(1===p)r.push(d,r[0]),r[0]=l;else{for(p--,r.push(r[p-1],r[p]);p>s;)r[p]=r[p-2],p--;r[s]=l,r[s+1]=d}}(r,d,s,l)),d}function qt(r,s){const l=_n(r,s);if(l>=0)return r[1|l]}function _n(r,s){return function Wn(r,s,l){let d=0,p=r.length>>l;for(;p!==d;){const m=d+(p-d>>1),D=r[m<<l];if(s===D)return m<<l;D>s?p=m:d=m+1}return~(p<<l)}(r,s,1)}const ko={},Hc="__NG_DI_FLAG__",Wo="ngTempTokenPath",Pl=/\n/gm,fo="__source";let Ga;function po(r){const s=Ga;return Ga=r,s}function ra(r,s=Jt.Default){if(void 0===Ga)throw new Me(-203,!1);return null===Ga?$(r,void 0,s):Ga.get(r,s&Jt.Optional?null:void 0,s)}function Sr(r,s=Jt.Default){return(function ge(){return ot}()||ra)(he(r),s)}function j(r,s=Jt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Sr(r,s)}function q(r){const s=[];for(let l=0;l<r.length;l++){const d=he(r[l]);if(Array.isArray(d)){if(0===d.length)throw new Me(900,!1);let p,m=Jt.Default;for(let D=0;D<d.length;D++){const R=d[D],L=ft(R);"number"==typeof L?-1===L?p=R.token:m|=L:p=R}s.push(Sr(p,m))}else s.push(Sr(d))}return s}function ye(r,s){return r[Hc]=s,r.prototype[Hc]=s,r}function ft(r){return r[Hc]}const On=ye(Us("Optional"),8),pi=ye(Us("SkipSelf"),4);let Gd,ul;function Kh(r){Gd=r}function Nl(r){return function $d(){if(void 0===ul&&(ul=null,St.trustedTypes))try{ul=St.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ul}()?.createHTML(r)||r}class wa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mo extends wa{getTypeName(){return"HTML"}}class H extends wa{getTypeName(){return"Style"}}class W extends wa{getTypeName(){return"Script"}}class h extends wa{getTypeName(){return"URL"}}class x extends wa{getTypeName(){return"ResourceURL"}}function Q(r){return r instanceof wa?r.changingThisBreaksApplicationSecurity:r}function Ue(r,s){const l=function pn(r){return r instanceof wa&&r.getTypeName()||null}(r);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function Hn(r){return new Mo(r)}function Ei(r){return new H(r)}function Jr(r){return new W(r)}function As(r){return new h(r)}function I(r){return new x(r)}class v{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Nl(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class k{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Nl(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Nl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let p=l.length-1;0<p;p--){const D=l.item(p).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&s.removeAttribute(D)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ze=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function $t(r){return(r=String(r)).match(Ze)?r:"unsafe:"+r}function zn(r){const s={};for(const l of r.split(","))s[l]=!0;return s}function ni(...r){const s={};for(const l of r)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const Hi=zn("area,br,col,hr,img,wbr"),Wr=zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zo=zn("rp,rt"),yc=ni(Hi,ni(Wr,zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ni(Zo,zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni(Zo,Wr)),$c=zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ju=zn("srcset"),ap=ni($c,Ju,zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qd=zn("script,style,template");class zc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!yc.hasOwnProperty(l))return this.sanitizedSomething=!0,!qd.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let p=0;p<d.length;p++){const m=d.item(p),D=m.name,R=D.toLowerCase();if(!ap.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let L=m.value;$c[R]&&(L=$t(L)),Ju[R]&&(r=L,L=(r=String(r)).split(",").map(s=>$t(s.trim())).join(", ")),this.buf.push(" ",D,'="',Xd(L),'"')}var r;return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();yc.hasOwnProperty(l)&&!Hi.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(Xd(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qd=/([^\#-~ |!])/g;function Xd(r){return r.replace(/&/g,"&amp;").replace(nc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Qd,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zh;function Cu(r,s){let l=null;try{Zh=Zh||function g(r){const s=new k(r);return function _e(){try{return!!(new window.DOMParser).parseFromString(Nl(""),"text/html")}catch{return!1}}()?new v(s):s}(r);let d=s?String(s):"";l=Zh.getInertBodyElement(d);let p=5,m=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=m,m=l.innerHTML,l=Zh.getInertBodyElement(d)}while(d!==m);return Nl((new zc).sanitizeChildren(qh(l)||l))}finally{if(l){const d=qh(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qh(r){return"content"in r&&function i_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function lp(r){const s=function bc(){const r=fn();return r&&r[12]}();return s?s.sanitize(Yi.URL,r)||"":Ue(r,"URL")?Q(r):$t(Se(r))}const wm=new yr("ENVIRONMENT_INITIALIZER"),s_=new yr("INJECTOR",-1),ji=new yr("INJECTOR_DEF_TYPES");class Du{get(s,l=ko){if(l===ko){const d=new Error(`NullInjectorError: No provider for ${Re(s)}!`);throw d.name="NullInjectorError",d}return l}}function Jd(...r){return{\u0275providers:ic(0,r)}}function ic(r,...s){const l=[],d=new Set;let p;return cs(s,m=>{const D=m;id(D,l,[],d)&&(p||(p=[]),p.push(D))}),void 0!==p&&nd(p,l),l}function nd(r,s){for(let l=0;l<r.length;l++){const{providers:p}=r[l];cs(p,m=>{s.push(m)})}}function id(r,s,l,d){if(!(r=he(r)))return!1;let p=null,m=Mn(r);const D=!m&&ut(r);if(m||D){if(D&&!D.standalone)return!1;p=r}else{const L=r.ngModule;if(m=Mn(L),!m)return!1;p=L}const R=d.has(p);if(D){if(R)return!1;if(d.add(p),D.dependencies){const L="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const ie of L)id(ie,s,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!R){let ie;d.add(p);try{cs(m.imports,Oe=>{id(Oe,s,l,d)&&(ie||(ie=[]),ie.push(Oe))})}finally{}void 0!==ie&&nd(ie,s)}if(!R){const ie=Vr(p)||(()=>new p);s.push({provide:p,useFactory:ie,deps:at},{provide:ji,useValue:p,multi:!0},{provide:wm,useValue:()=>Sr(p),multi:!0})}const L=m.providers;null==L||R||cs(L,Oe=>{s.push(Oe)})}}return p!==r&&void 0!==r.providers}const Eu=Be({provide:String,useValue:Be});function Xh(r){return null!==r&&"object"==typeof r&&Eu in r}function Bl(r){return"function"==typeof r}const Vl=new yr("Set Injector scope."),Po={},Jh={};let rd;function cp(){return void 0===rd&&(rd=new Du),rd}class Ar{}class hl extends Ar{constructor(s,l,d,p){super(),this.parent=l,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xm(s,D=>this.processProvider(D)),this.records.set(s_,xu(void 0,this)),p.has("environment")&&this.records.set(Ar,xu(void 0,this));const m=this.records.get(Vl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(ji.multi,at,Jt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=po(this),d=P(void 0);try{return s()}finally{po(l),P(d)}}get(s,l=ko,d=Jt.Default){this.assertNotDestroyed();const p=po(this),m=P(void 0);try{if(!(d&Jt.SkipSelf)){let R=this.records.get(s);if(void 0===R){const L=function o_(r){return"function"==typeof r||"object"==typeof r&&r instanceof yr}(s)&&et(s);R=L&&this.injectableDefInScope(L)?xu(wc(s),Po):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&Jt.Self?cp():this.parent).get(s,l=d&Jt.Optional&&l===ko?null:l)}catch(D){if("NullInjectorError"===D.name){if((D[Wo]=D[Wo]||[]).unshift(Re(s)),p)throw D;return function Ut(r,s,l,d){const p=r[Wo];throw s[fo]&&p.unshift(s[fo]),r.message=function Wt(r,s,l,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let p=Re(s);if(Array.isArray(s))p=s.map(Re).join(" -> ");else if("object"==typeof s){let m=[];for(let D in s)if(s.hasOwnProperty(D)){let R=s[D];m.push(D+":"+("string"==typeof R?JSON.stringify(R):Re(R)))}p=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${p}]: ${r.replace(Pl,"\n  ")}`}("\n"+r.message,p,l,d),r.ngTokenPath=p,r[Wo]=null,r}(D,s,"R3InjectorError",this.source)}throw D}finally{P(m),po(p)}}resolveInjectorInitializers(){const s=po(this),l=P(void 0);try{const d=this.get(wm.multi,at,Jt.Self);for(const p of d)p()}finally{po(s),P(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(Re(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(s){let l=Bl(s=he(s))?s:he(s&&s.provide);const d=function Ka(r){return Xh(r)?xu(void 0,r.useValue):xu(eh(r),Po)}(s);if(Bl(s)||!0!==s.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=xu(void 0,Po,!0),p.factory=()=>q(p.multi),this.records.set(l,p)),l=s,p.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Po&&(l.value=Jh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Em(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=he(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wc(r){const s=et(r),l=null!==s?s.factory:Vr(r);if(null!==l)return l;if(r instanceof yr)throw new Me(204,!1);if(r instanceof Function)return function ef(r){const s=r.length;if(s>0)throw M(s,"?"),new Me(204,!1);const l=function Nt(r){const s=r&&(r[Pn]||r[Bn]);if(s){const l=function dn(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new Me(204,!1)}function eh(r,s,l){let d;if(Bl(r)){const p=he(r);return Vr(p)||wc(p)}if(Xh(r))d=()=>he(r.useValue);else if(function Io(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(...q(r.deps||[]));else if(function Cm(r){return!(!r||!r.useExisting)}(r))d=()=>Sr(he(r.useExisting));else{const p=he(r&&(r.useClass||r.provide));if(!function no(r){return!!r.deps}(r))return Vr(p)||wc(p);d=()=>new p(...q(r.deps))}return d}function xu(r,s,l=!1){return{factory:r,value:s,multi:l?[]:void 0}}function a_(r){return!!r.\u0275providers}function xm(r,s){for(const l of r)Array.isArray(l)?xm(l,s):a_(l)?xm(l.\u0275providers,s):s(l)}class sd{}class l_{resolveComponentFactory(s){throw function tf(r){const s=Error(`No component factory found for ${Re(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let Cc=(()=>{class r{}return r.NULL=new l_,r})();function xy(){return od(Ur(),fn())}function od(r,s){return new Yc(Gr(r,s))}let Yc=(()=>{class r{constructor(l){this.nativeElement=l}}return r.__NG_ELEMENT_ID__=xy,r})();function up(r){return r instanceof Yc?r.nativeElement:r}class Mu{}let c_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function u_(){const r=fn(),l=Ai(Ur().index,r);return(or(l)?l:r)[11]}(),r})(),d_=(()=>{class r{}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:()=>null}),r})();class dp{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const sa=new dp("14.2.0"),rf={};function km(r){return r.ngOriginalError}class rh{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&km(s);for(;l&&km(l);)l=km(l);return l||null}}const ad=new Map;let Iu=0;const oh="__ngContext__";function Fo(r,s){or(s)?(r[oh]=s[20],function fp(r){ad.set(r[20],r)}(s)):r[oh]=s}function cd(r){const s=r[oh];return"number"==typeof s?function Su(r){return ad.get(r)||null}(s):s||null}function af(r){const s=cd(r);return s?or(s)?s:s.lView:null}function Ri(r){return r instanceof Function?r():r}var sc=(()=>((sc=sc||{})[sc.Important=1]="Important",sc[sc.DashCase=2]="DashCase",sc))();function Pi(r,s){return undefined(r,s)}function oa(r){const s=r[3];return kr(s)?s[3]:s}function ch(r){return Qc(r[13])}function dd(r){return Qc(r[4])}function Qc(r){for(;null!==r&&!kr(r);)r=r[4];return r}function Pa(r,s,l,d,p){if(null!=d){let m,D=!1;kr(d)?m=d:or(d)&&(D=!0,d=d[0]);const R=Xi(d);0===r&&null!==l?null==p?Hm(s,l,R):pl(s,l,R,p||null,!0):1===r&&null!==l?pl(s,l,R,p||null,!0):2===r?function hd(r,s,l){const d=tu(r,s);d&&function T_(r,s,l,d){r.removeChild(s,l,d)}(r,d,s,l)}(s,R,D):3===r&&s.destroyNode(R),null!=m&&function ku(r,s,l,d,p){const m=l[7];m!==Xi(l)&&Pa(s,r,d,m,p);for(let R=10;R<l.length;R++){const L=l[R];oc(L[1],L,r,s,d,m)}}(s,r,m,l,p)}}function Au(r,s,l){return r.createElement(s,l)}function Vm(r,s){const l=r[9],d=l.indexOf(s),p=s[3];512&s[2]&&(s[2]&=-513,$i(p,-1)),l.splice(d,1)}function Fa(r,s){if(r.length<=10)return;const l=10+s,d=r[l];if(d){const p=d[17];null!==p&&p!==r&&Vm(p,d),s>0&&(r[l-1][4]=d[4]);const m=Oa(r,10+s);!function S_(r,s){oc(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const D=m[19];null!==D&&D.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function uh(r,s){if(!(128&s[2])){const l=s[11];l.destroyNode&&oc(r,s,l,3,null,null),function sr(r){let s=r[13];if(!s)return fl(r[1],r);for(;s;){let l=null;if(or(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==r;)or(s)&&fl(s[1],s),s=s[3];null===s&&(s=r),or(s)&&fl(s[1],s),l=s&&s[4]}s=l}}(s)}}function fl(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function qa(r,s){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let d=0;d<l.length;d+=2){const p=s[l[d]];if(!(p instanceof gr)){const m=l[d+1];if(Array.isArray(m))for(let D=0;D<m.length;D+=2){const R=p[m[D]],L=m[D+1];try{L.call(R)}finally{}}else try{m.call(p)}finally{}}}}(r,s),function A_(r,s){const l=r.cleanup,d=s[7];let p=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const D=l[m+1],R="function"==typeof D?D(s):Xi(s[D]),L=d[p=l[m+2]],ie=l[m+3];"boolean"==typeof ie?R.removeEventListener(l[m],L,ie):ie>=0?d[p=ie]():d[p=-ie].unsubscribe(),m+=2}else{const D=d[p=l[m+1]];l[m].call(D)}if(null!==d){for(let m=p+1;m<d.length;m++)(0,d[m])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const l=s[17];if(null!==l&&kr(s[3])){l!==s[3]&&Vm(l,s);const d=s[19];null!==d&&d.detachView(r)}!function sf(r){ad.delete(r[20])}(s)}}function Um(r,s,l){return function Ec(r,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];if(2&d.flags){const p=r.data[d.directiveStart].encapsulation;if(p===xt.None||p===xt.Emulated)return null}return Gr(d,l)}(r,s.parent,l)}function pl(r,s,l,d,p){r.insertBefore(s,l,d,p)}function Hm(r,s,l){r.appendChild(s,l)}function wp(r,s,l,d,p){null!==d?pl(r,s,l,d,p):Hm(r,s,l)}function tu(r,s){return r.parentNode(s)}function cf(r,s,l){return O_(r,s,l)}let O_=function Lo(r,s,l){return 40&r.type?Gr(r,l):null};function Cp(r,s,l,d){const p=Um(r,d,s),m=s[11],R=cf(d.parent||s[6],d,s);if(null!=p)if(Array.isArray(l))for(let L=0;L<l.length;L++)wp(m,p,l[L],R,!1);else wp(m,p,l,R,!1)}function uf(r,s){if(null!==s){const l=s.type;if(3&l)return Gr(s,r);if(4&l)return Ru(-1,r[s.index]);if(8&l){const d=s.child;if(null!==d)return uf(r,d);{const p=r[s.index];return kr(p)?Ru(-1,p):Xi(p)}}if(32&l)return Pi(s,r)()||Xi(r[s.index]);{const d=df(r,s);return null!==d?Array.isArray(d)?d[0]:uf(oa(r[16]),d):uf(r,s.next)}}return null}function df(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Ru(r,s){const l=10+r+1;if(l<s.length){const d=s[l],p=d[1].firstChild;if(null!==p)return uf(d,p)}return s[7]}function Ul(r,s,l,d,p,m,D){for(;null!=l;){const R=d[l.index],L=l.type;if(D&&0===s&&(R&&Fo(Xi(R),d),l.flags|=4),64!=(64&l.flags))if(8&L)Ul(r,s,l.child,d,p,m,!1),Pa(s,r,p,R,m);else if(32&L){const ie=Pi(l,d);let Oe;for(;Oe=ie();)Pa(s,r,p,Oe,m);Pa(s,r,p,R,m)}else 16&L?dh(r,s,d,l,p,m):Pa(s,r,p,R,m);l=D?l.projectionNext:l.next}}function oc(r,s,l,d,p,m){Ul(l,d,r.firstChild,s,p,m,!1)}function dh(r,s,l,d,p,m){const D=l[16],L=D[6].projection[d.projection];if(Array.isArray(L))for(let ie=0;ie<L.length;ie++)Pa(s,r,p,L[ie],m);else Ul(r,s,L,D[3],p,m,!0)}function ws(r,s,l){r.setAttribute(s,"style",l)}function hh(r,s,l){""===l?r.removeAttribute(s,"class"):r.setAttribute(s,"class",l)}function P_(r,s,l){let d=r.length;for(;;){const p=r.indexOf(s,l);if(-1===p)return p;if(0===p||r.charCodeAt(p-1)<=32){const m=s.length;if(p+m===d||r.charCodeAt(p+m)<=32)return p}l=p+1}}const Ou="ng-template";function hf(r,s,l){let d=0;for(;d<r.length;){let p=r[d++];if(l&&"class"===p){if(p=r[d],-1!==P_(p.toLowerCase(),s,0))return!0}else if(1===p){for(;d<r.length&&"string"==typeof(p=r[d++]);)if(p.toLowerCase()===s)return!0;return!1}}return!1}function zm(r){return 4===r.type&&r.value!==Ou}function Wm(r,s,l){return s===(4!==r.type||l?r.value:Ou)}function Ay(r,s,l){let d=4;const p=r.attrs||[],m=function fd(r){for(let s=0;s<r.length;s++)if(Do(r[s]))return s;return r.length}(p);let D=!1;for(let R=0;R<s.length;R++){const L=s[R];if("number"!=typeof L){if(!D)if(4&d){if(d=2|1&d,""!==L&&!Wm(r,L,l)||""===L&&1===s.length){if(ml(d))return!1;D=!0}}else{const ie=8&d?L:s[++R];if(8&d&&null!==r.attrs){if(!hf(r.attrs,ie,l)){if(ml(d))return!1;D=!0}continue}const ct=F_(8&d?"class":L,p,zm(r),l);if(-1===ct){if(ml(d))return!1;D=!0;continue}if(""!==ie){let Rt;Rt=ct>m?"":p[ct+1].toLowerCase();const Kt=8&d?Rt:null;if(Kt&&-1!==P_(Kt,ie,0)||2&d&&ie!==Rt){if(ml(d))return!1;D=!0}}}}else{if(!D&&!ml(d)&&!ml(L))return!1;if(D&&ml(L))continue;D=!1,d=L|1&d}}return ml(d)||D}function ml(r){return 0==(1&r)}function F_(r,s,l,d){if(null===s)return-1;let p=0;if(d||!l){let m=!1;for(;p<s.length;){const D=s[p];if(D===r)return p;if(3===D||6===D)m=!0;else{if(1===D||2===D){let R=s[++p];for(;"string"==typeof R;)R=s[++p];continue}if(4===D)break;if(0===D){p+=4;continue}}p+=m?1:2}return-1}return function Fu(r,s){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const d=r[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,r)}function Pu(r,s,l=!1){for(let d=0;d<s.length;d++)if(Ay(r,s[d],l))return!0;return!1}function L_(r,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(r.length===d.length){for(let p=0;p<r.length;p++)if(r[p]!==d[p])continue e;return!0}}return!1}function ff(r,s){return r?":not("+s.trim()+")":s}function fh(r){let s=r[0],l=1,d=2,p="",m=!1;for(;l<r.length;){let D=r[l];if("string"==typeof D)if(2&d){const R=r[++l];p+="["+D+(R.length>0?'="'+R+'"':"")+"]"}else 8&d?p+="."+D:4&d&&(p+=" "+D);else""!==p&&!ml(D)&&(s+=ff(m,p),p=""),d=D,m=m||!ml(d);l++}return""!==p&&(s+=ff(m,p)),s}const Gi={};function Dp(r){Ym(hi(),fn(),bt()+r,!1)}function Ym(r,s,l,d){if(!d)if(3==(3&s[2])){const m=r.preOrderCheckHooks;null!==m&&Pr(s,m,l)}else{const m=r.preOrderHooks;null!==m&&Vs(s,m,0,l)}Qt(l)}function gf(r,s=null,l=null,d){const p=Lu(r,s,l,d);return p.resolveInjectorInitializers(),p}function Lu(r,s=null,l=null,d,p=new Set){const m=[l||at,Jd(r)];return d=d||("object"==typeof r?void 0:Re(r)),new hl(m,s||cp(),d||null,p)}let nu=(()=>{class r{static create(l,d){if(Array.isArray(l))return gf({name:""},d,l,"");{const p=l.name??"";return gf({name:p},l.parent,l.providers,p)}}}return r.THROW_IF_NOT_FOUND=ko,r.NULL=new Du,r.\u0275prov=Mt({token:r,providedIn:"any",factory:()=>Sr(s_)}),r.__NG_ELEMENT_ID__=-1,r})();function Sc(r,s=Jt.Default){const l=fn();return null===l?Sr(r,s):_a(Ur(),l,he(r),s)}function Sp(){throw new Error("invalid")}function jl(r,s){return r<<17|s<<2}function Gl(r){return r>>17&32767}function au(r){return 2|r}function Ac(r){return(131068&r)>>2}function Nu(r,s){return-131069&r|s<<2}function Cf(r){return 1|r}function Bp(r,s){const l=r.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const p=l[d],m=l[d+1];if(-1!==m){const D=r.data[m];Sa(p),D.contentQueries(2,s[m],m)}}}function Sf(r,s,l,d,p,m,D,R,L,ie,Oe){const ct=s.blueprint.slice();return ct[0]=p,ct[2]=76|d,(null!==Oe||r&&1024&r[2])&&(ct[2]|=1024),_s(ct),ct[3]=ct[15]=r,ct[8]=l,ct[10]=D||r&&r[10],ct[11]=R||r&&r[11],ct[12]=L||r&&r[12]||null,ct[9]=ie||r&&r[9]||null,ct[6]=m,ct[20]=function b_(){return Iu++}(),ct[21]=Oe,ct[16]=2==s.type?r[16]:ct,ct}function Uu(r,s,l,d,p){let m=r.data[s];if(null===m)m=function Vp(r,s,l,d,p){const m=X(),D=ke(),L=r.data[s]=function Hp(r,s,l,d,p,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?m:m&&m.parent,l,s,d,p);return null===r.firstChild&&(r.firstChild=L),null!==m&&(D?null==m.child&&null!==L.parent&&(m.child=L):null===m.next&&(m.next=L)),L}(r,s,l,d,p),function xl(){return di.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=p;const D=function Y(){const r=di.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();m.injectorIndex=null===D?-1:D.injectorIndex}return V(m,!0),m}function cc(r,s,l,d){if(0===l)return-1;const p=s.length;for(let m=0;m<l;m++)s.push(d),r.blueprint.push(d),r.data.push(null);return p}function Af(r,s,l){ea(s);try{const d=r.viewQuery;null!==d&&$u(1,d,l);const p=r.template;null!==p&&Up(r,s,p,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Bp(r,s),r.staticViewQueries&&$u(2,r.viewQuery,l);const m=r.components;null!==m&&function ag(r,s){for(let l=0;l<s.length;l++)Y_(r,s[l])}(s,m)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{s[2]&=-5,le()}}function yd(r,s,l,d){const p=s[2];if(128!=(128&p)){ea(s);try{_s(s),function ma(r){return di.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&Up(r,s,l,2,d);const D=3==(3&p);if(D){const ie=r.preOrderCheckHooks;null!==ie&&Pr(s,ie,null)}else{const ie=r.preOrderHooks;null!==ie&&Vs(s,ie,0,null),uo(s,0)}if(function Pf(r){for(let s=ch(r);null!==s;s=dd(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const p=l[d],m=p[3];0==(512&p[2])&&$i(m,1),p[2]|=512}}}(s),function Uy(r){for(let s=ch(r);null!==s;s=dd(s))for(let l=10;l<s.length;l++){const d=s[l],p=d[1];Ns(d)&&yd(p,d,p.template,d[8])}}(s),null!==r.contentQueries&&Bp(r,s),D){const ie=r.contentCheckHooks;null!==ie&&Pr(s,ie)}else{const ie=r.contentHooks;null!==ie&&Vs(s,ie,1),uo(s,1)}!function sg(r,s){const l=r.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const p=l[d];if(p<0)Qt(~p);else{const m=p,D=l[++d],R=l[++d];Ml(D,m),R(2,s[m])}}}finally{Qt(-1)}}(r,s);const R=r.components;null!==R&&function og(r,s){for(let l=0;l<s.length;l++)Hy(r,s[l])}(s,R);const L=r.viewQuery;if(null!==L&&$u(2,L,d),D){const ie=r.viewCheckHooks;null!==ie&&Pr(s,ie)}else{const ie=r.viewHooks;null!==ie&&Vs(s,ie,2),uo(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,$i(s[3],-1))}finally{le()}}}function Ny(r,s,l,d){const p=s[10],D=fa(s);try{!D&&p.begin&&p.begin(),D&&Af(r,s,d),yd(r,s,l,d)}finally{!D&&p.end&&p.end()}}function Up(r,s,l,d,p){const m=bt(),D=2&d;try{Qt(-1),D&&s.length>22&&Ym(r,s,22,!1),l(d,p)}finally{Qt(m)}}function Ih(r,s,l){if(Ds(s)){const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const D=r.data[m];D.contentQueries&&D.contentQueries(1,l[m],m)}}}function Sh(r,s,l){!Ms()||(function dg(r,s,l,d){const p=l.directiveStart,m=l.directiveEnd;r.firstCreatePass||na(l,s),Fo(d,s);const D=l.initialInputs;for(let R=p;R<m;R++){const L=r.data[R],ie=ns(L);ie&&W_(s,l,L);const Oe=_r(s,r,R,l);Fo(Oe,s),null!==D&&$p(0,R-p,Oe,L,0,D),ie&&(Ai(l.index,s)[8]=Oe)}}(r,s,l,Gr(l,s)),128==(128&l.flags)&&function Rf(r,s,l){const d=l.directiveStart,p=l.directiveEnd,m=l.index,D=function Il(){return di.lFrame.currentDirectiveIndex}();try{Qt(m);for(let R=d;R<p;R++){const L=r.data[R],ie=s[R];Uo(R),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&hg(L,ie)}}finally{Qt(-1),Uo(D)}}(r,s,l))}function Hu(r,s,l=Gr){const d=s.localNames;if(null!==d){let p=s.index+1;for(let m=0;m<d.length;m+=2){const D=d[m+1],R=-1===D?l(s,r):r[D];r[p++]=R}}}function lg(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Ah(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Ah(r,s,l,d,p,m,D,R,L,ie){const Oe=22+d,ct=Oe+p,Rt=function ju(r,s){const l=[];for(let d=0;d<s;d++)l.push(d<r?null:Gi);return l}(Oe,ct),Kt="function"==typeof ie?ie():ie;return Rt[1]={type:r,blueprint:Rt,template:l,queries:null,viewQuery:R,declTNode:s,data:Rt.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:L,consts:Kt,incompleteFirstPass:!1}}function uc(r,s,l,d){const p=Dd(s);null===l?p.push(d):(p.push(l),r.firstCreatePass&&yl(r).push(d,p.length-1))}function vd(r,s,l){for(let d in r)if(r.hasOwnProperty(d)){const p=r[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(s,p):l[d]=[s,p]}return l}function $_(r,s){const d=s.directiveEnd,p=r.data,m=s.attrs,D=[];let R=null,L=null;for(let ie=s.directiveStart;ie<d;ie++){const Oe=p[ie],ct=Oe.inputs,Rt=null===m||zm(s)?null:Of(ct,m);D.push(Rt),R=vd(ct,ie,R),L=vd(Oe.outputs,ie,L)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=16),R.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=D,s.inputs=R,s.outputs=L}function La(r,s,l,d,p,m,D,R){const L=Gr(s,l);let Oe,ie=s.inputs;!R&&null!=ie&&(Oe=ie[d])?(bg(r,l,Oe,d,p),ha(s)&&ug(l,s.index)):3&s.type&&(d=function By(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),p=null!=D?D(p,s.value||"",d):p,m.setProperty(L,d,p))}function ug(r,s){const l=Ai(s,r);16&l[2]||(l[2]|=32)}function bd(r,s,l,d){let p=!1;if(Ms()){const m=function Vy(r,s,l){const d=r.directiveRegistry;let p=null;if(d)for(let m=0;m<d.length;m++){const D=d[m];Pu(l,D.selectors,!1)&&(p||(p=[]),Lr(na(l,s),r,D.type),ns(D)?(Th(r,l),p.unshift(D)):p.push(D))}return p}(r,s,l),D=null===d?null:{"":-1};if(null!==m){p=!0,lu(l,r.data.length,m.length);for(let Oe=0;Oe<m.length;Oe++){const ct=m[Oe];ct.providersResolver&&ct.providersResolver(ct)}let R=!1,L=!1,ie=cc(r,s,m.length,null);for(let Oe=0;Oe<m.length;Oe++){const ct=m[Oe];l.mergedAttrs=ho(l.mergedAttrs,ct.hostAttrs),kf(r,l,s,ie,ct),fg(ie,ct,D),null!==ct.contentQueries&&(l.flags|=8),(null!==ct.hostBindings||null!==ct.hostAttrs||0!==ct.hostVars)&&(l.flags|=128);const Rt=ct.type.prototype;!R&&(Rt.ngOnChanges||Rt.ngOnInit||Rt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(l.index),R=!0),!L&&(Rt.ngOnChanges||Rt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(l.index),L=!0),ie++}$_(r,l)}D&&function Gp(r,s,l){if(s){const d=r.localNames=[];for(let p=0;p<s.length;p+=2){const m=l[s[p+1]];if(null==m)throw new Me(-301,!1);d.push(s[p],m)}}}(l,d,D)}return l.mergedAttrs=ho(l.mergedAttrs,l.attrs),p}function jp(r,s,l,d,p,m){const D=m.hostBindings;if(D){let R=r.hostBindingOpCodes;null===R&&(R=r.hostBindingOpCodes=[]);const L=~s.index;(function z_(r){let s=r.length;for(;s>0;){const l=r[--s];if("number"==typeof l&&l<0)return l}return 0})(R)!=L&&R.push(L),R.push(d,p,D)}}function hg(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Th(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function fg(r,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=r;ns(s)&&(l[""]=r)}}function lu(r,s,l){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+l,r.providerIndexes=s}function kf(r,s,l,d,p){r.data[d]=p;const m=p.factory||(p.factory=Vr(p.type)),D=new gr(m,ns(p),Sc);r.blueprint[d]=D,l[d]=D,jp(r,s,0,d,cc(r,l,p.hostVars,Gi),p)}function W_(r,s,l){const d=Gr(s,r),p=lg(l),m=r[10],D=Cd(r,Sf(r,p,null,l.onPush?32:16,d,s,m,m.createRenderer(d,l),null,null,null));r[s.index]=D}function $l(r,s,l,d,p,m){const D=Gr(r,s);!function Gu(r,s,l,d,p,m,D){if(null==m)r.removeAttribute(s,p,l);else{const R=null==D?Se(m):D(m,d||"",p);r.setAttribute(s,p,R,l)}}(s[11],D,m,r.value,l,d,p)}function $p(r,s,l,d,p,m){const D=m[s];if(null!==D){const R=d.setInput;for(let L=0;L<D.length;){const ie=D[L++],Oe=D[L++],ct=D[L++];null!==R?d.setInput(l,ct,ie,Oe):l[Oe]=ct}}}function Of(r,s){let l=null,d=0;for(;d<s.length;){const p=s[d];if(0!==p)if(5!==p){if("number"==typeof p)break;r.hasOwnProperty(p)&&(null===l&&(l=[]),l.push(p,r[p],s[d+1])),d+=2}else d+=2;else d+=4}return l}function wd(r,s,l,d){return new Array(r,!0,!1,s,null,0,d,l,null,null)}function Hy(r,s){const l=Ai(s,r);if(Ns(l)){const d=l[1];48&l[2]?yd(d,l,d.template,l[8]):l[5]>0&&mg(l)}}function mg(r){for(let d=ch(r);null!==d;d=dd(d))for(let p=10;p<d.length;p++){const m=d[p];if(Ns(m))if(512&m[2]){const D=m[1];yd(D,m,D.template,m[8])}else m[5]>0&&mg(m)}const l=r[1].components;if(null!==l)for(let d=0;d<l.length;d++){const p=Ai(l[d],r);Ns(p)&&p[5]>0&&mg(p)}}function Y_(r,s){const l=Ai(s,r),d=l[1];(function Ff(r,s){for(let l=s.length;l<r.blueprint.length;l++)s.push(r.blueprint[l])})(d,l),Af(d,l,l[8])}function Cd(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Lf(r){for(;r;){r[2]|=32;const s=oa(r);if(Bo(r)&&!s)return r;r=s}return null}function $u(r,s,l){Sa(0),s(r,l)}function Dd(r){return r[7]||(r[7]=[])}function yl(r){return r.cleanup||(r.cleanup=[])}function Rh(r,s,l){return(null===r||ns(r))&&(l=function Vo(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(l[s.index])),l[11]}function vg(r,s){const l=r[9],d=l?l.get(rh,null):null;d&&d.handleError(s)}function bg(r,s,l,d,p){for(let m=0;m<l.length;){const D=l[m++],R=l[m++],L=s[D],ie=r.data[D];null!==ie.setInput?ie.setInput(L,p,d,R):L[R]=p}}function kh(r,s,l){let d=l?r.styles:null,p=l?r.classes:null,m=0;if(null!==s)for(let D=0;D<s.length;D++){const R=s[D];"number"==typeof R?m=R:1==m?p=S(p,R):2==m&&(d=S(d,R+": "+s[++D]+";"))}l?r.styles=d:r.stylesWithoutHost=d,l?r.classes=p:r.classesWithoutHost=p}function Wp(r,s,l,d,p=!1){for(;null!==l;){const m=s[l.index];if(null!==m&&d.push(Xi(m)),kr(m))for(let R=10;R<m.length;R++){const L=m[R],ie=L[1].firstChild;null!==ie&&Wp(L[1],L,ie,d)}const D=l.type;if(8&D)Wp(r,s,l.child,d);else if(32&D){const R=Pi(l,s);let L;for(;L=R();)d.push(L)}else if(16&D){const R=df(s,l);if(Array.isArray(R))d.push(...R);else{const L=oa(s[16]);Wp(L[1],L,R,d,!0)}}l=p?l.projectionNext:l.next}return d}class kc{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return Wp(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(kr(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(Fa(s,d),Oa(l,d))}this._attachedToViewContainer=!1}uh(this._lView[1],this._lView)}onDestroy(s){uc(this._lView[1],this._lView,null,s)}markForCheck(){Lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Nf(r,s,l){const d=s[10];d.begin&&d.begin();try{yd(r,s,r.template,l)}catch(p){throw vg(s,p),p}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tu(r,s){oc(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=s}}class wg extends kc{constructor(s){super(s),this._view=s}detectChanges(){!function Bf(r){!function zp(r){for(let s=0;s<r.components.length;s++){const l=r.components[s],d=af(l);if(null!==d){const p=d[1];Ny(p,d,p.template,l)}}}(r[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Cg extends Cc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=ut(s);return new Oc(l,this.ngModule)}}function K_(r){const s=[];for(let l in r)r.hasOwnProperty(l)&&s.push({propName:r[l],templateName:l});return s}class Yp{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){const p=this.injector.get(s,rf,d);return p!==rf||l===rf?p:this.parentInjector.get(s,l,d)}}class Oc extends sd{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function Ty(r){return r.map(fh).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return K_(this.componentDef.inputs)}get outputs(){return K_(this.componentDef.outputs)}create(s,l,d,p){let m=(p=p||this.ngModule)instanceof Ar?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const D=m?new Yp(s,m):s,R=D.get(Mu,null);if(null===R)throw new Me(407,!1);const L=D.get(d_,null),ie=R.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",ct=d?function Tc(r,s,l){return r.selectRootElement(s,l===xt.ShadowDom)}(ie,d,this.componentDef.encapsulation):Au(R.createRenderer(null,this.componentDef),Oe,function jy(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Oe)),Rt=this.componentDef.onPush?288:272,Kt={components:[]},bn=Ah(0,null,null,1,0,null,null,null,null,null),kn=Sf(null,bn,Kt,Rt,null,null,R,ie,L,D,null);let qn,si;ea(kn);try{const Mi=function nr(r,s,l,d,p,m){const D=l[1];l[22]=r;const L=Uu(D,22,2,"#host",null),ie=L.mergedAttrs=s.hostAttrs;null!==ie&&(kh(L,ie,!0),null!==r&&(Ho(p,r,ie),null!==L.classes&&hh(p,r,L.classes),null!==L.styles&&ws(p,r,L.styles)));const Oe=d.createRenderer(r,s),ct=Sf(l,lg(s),null,s.onPush?32:16,l[22],L,d,Oe,m||null,null,null);return D.firstCreatePass&&(Lr(na(L,l),D,s.type),Th(D,L),lu(L,l.length,1)),Cd(l,ct),l[22]=ct}(ct,this.componentDef,kn,R,ie);if(ct)if(d)Ho(ie,ct,["ng-version",sa.full]);else{const{attrs:Tn,classes:bi}=function ph(r){const s=[],l=[];let d=1,p=2;for(;d<r.length;){let m=r[d];if("string"==typeof m)2===p?""!==m&&s.push(m,r[++d]):8===p&&l.push(m);else{if(!ml(p))break;p=m}d++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);Tn&&Ho(ie,ct,Tn),bi&&bi.length>0&&hh(ie,ct,bi.join(" "))}if(si=xs(bn,22),void 0!==l){const Tn=si.projection=[];for(let bi=0;bi<this.ngContentSelectors.length;bi++){const Rr=l[bi];Tn.push(null!=Rr?Array.from(Rr):null)}}qn=function Z_(r,s,l,d,p){const m=l[1],D=function Rc(r,s,l){const d=Ur();r.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),kf(r,d,s,cc(r,s,1,null),l),$_(r,d));const p=_r(s,r,d.directiveStart,d);Fo(p,s);const m=Gr(d,s);return m&&Fo(m,s),p}(m,l,s);if(d.components.push(D),r[8]=D,null!==p)for(const L of p)L(D,s);if(s.contentQueries){const L=Ur();s.contentQueries(1,D,L.directiveStart)}const R=Ur();return!m.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Qt(R.index),jp(l[1],R,0,R.directiveStart,R.directiveEnd,s),hg(s,D)),D}(Mi,this.componentDef,kn,Kt,[Ed]),Af(bn,kn,null)}finally{le()}return new Oh(this.componentType,qn,od(si,kn),kn,si)}}class Oh extends class Ey{}{constructor(s,l,d,p,m){super(),this.location=d,this._rootLView=p,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new wg(p),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[s])){const m=this._rootLView;bg(m[1],m,p,s,l),ug(m,this._tNode.index)}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ed(){const r=Ur();ar(fn()[1],r)}function Br(r){let s=function Ph(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const d=[r];for(;s;){let p;if(ns(r))p=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,!1);p=s.\u0275dir}if(p){if(l){d.push(p);const D=r;D.inputs=Gs(r.inputs),D.declaredInputs=Gs(r.declaredInputs),D.outputs=Gs(r.outputs);const R=p.hostBindings;R&&xd(r,R);const L=p.viewQuery,ie=p.contentQueries;if(L&&xg(r,L),ie&&$y(r,ie),Ke(r.inputs,p.inputs),Ke(r.declaredInputs,p.declaredInputs),Ke(r.outputs,p.outputs),ns(p)&&p.data.animation){const Oe=r.data;Oe.animation=(Oe.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let D=0;D<m.length;D++){const R=m[D];R&&R.ngInherit&&R(r),R===Br&&(l=!1)}}s=Object.getPrototypeOf(s)}!function Ca(r){let s=0,l=null;for(let d=r.length-1;d>=0;d--){const p=r[d];p.hostVars=s+=p.hostVars,p.hostAttrs=ho(p.hostAttrs,l=ho(l,p.hostAttrs))}}(d)}function Gs(r){return r===Ln?{}:r===at?[]:r}function xg(r,s){const l=r.viewQuery;r.viewQuery=l?(d,p)=>{s(d,p),l(d,p)}:s}function $y(r,s){const l=r.contentQueries;r.contentQueries=l?(d,p,m)=>{s(d,p,m),l(d,p,m)}:s}function xd(r,s){const l=r.hostBindings;r.hostBindings=l?(d,p)=>{s(d,p),l(d,p)}:s}let Fh=null;function zu(){if(!Fh){const r=St.Symbol;if(r&&r.iterator)Fh=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Fh=d)}}}return Fh}function ts(r){return!!Cs(r)&&(Array.isArray(r)||!(r instanceof Map)&&zu()in r)}function Cs(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function dc(r,s,l){return r[s]=l}function No(r,s,l){return!Object.is(r[s],l)&&(r[s]=l,!0)}function Pc(r,s,l,d){const p=No(r,s,l);return No(r,s+1,d)||p}function Sg(r,s,l,d){const p=fn();return No(p,pr(),s)&&(hi(),$l(an(),p,r,s,l,d)),Sg}function Lh(r,s,l,d){return No(r,pr(),l)?s+Se(l)+d:Gi}function $f(r,s,l,d,p,m,D,R){const L=fn(),ie=hi(),Oe=r+22,ct=ie.firstCreatePass?function Zp(r,s,l,d,p,m,D,R,L){const ie=s.consts,Oe=Uu(s,r,4,D||null,os(ie,R));bd(s,l,Oe,os(ie,L)),ar(s,Oe);const ct=Oe.tViews=Ah(2,Oe,d,p,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,ie);return null!==s.queries&&(s.queries.template(s,Oe),ct.queries=s.queries.embeddedTView(Oe)),Oe}(Oe,ie,L,s,l,d,p,m,D):ie.data[Oe];V(ct,!1);const Rt=L[11].createComment("");Cp(ie,L,Rt,ct),Fo(Rt,L),Cd(L,L[Oe]=wd(Rt,L,Rt,ct)),Ts(ct)&&Sh(ie,L,ct),null!=D&&Hu(L,ct,R)}function qp(r){return qs(function Ji(){return di.lFrame.contextLView}(),22+r)}function zf(r,s,l){const d=fn();return No(d,pr(),s)&&La(hi(),an(),d,r,s,d[11],l,!1),zf}function Wf(r,s,l,d,p){const D=p?"class":"style";bg(r,l,s.inputs[D],D,d)}function Fc(r,s,l,d){const p=fn(),m=hi(),D=22+r,R=p[11],L=p[D]=Au(R,s,function Vi(){return di.lFrame.currentNamespace}()),ie=m.firstCreatePass?function Qp(r,s,l,d,p,m,D){const R=s.consts,ie=Uu(s,r,2,p,os(R,m));return bd(s,l,ie,os(R,D)),null!==ie.attrs&&kh(ie,ie.attrs,!1),null!==ie.mergedAttrs&&kh(ie,ie.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,ie),ie}(D,m,p,0,s,l,d):m.data[D];V(ie,!0);const Oe=ie.mergedAttrs;null!==Oe&&Ho(R,L,Oe);const ct=ie.classes;null!==ct&&hh(R,L,ct);const Rt=ie.styles;return null!==Rt&&ws(R,L,Rt),64!=(64&ie.flags)&&Cp(m,p,L,ie),0===function Qs(){return di.lFrame.elementDepthCount}()&&Fo(L,p),function il(){di.lFrame.elementDepthCount++}(),Ts(ie)&&(Sh(m,p,ie),Ih(m,ie,p)),null!==d&&Hu(p,ie),Fc}function Nh(){let r=Ur();ke()?Xt():(r=r.parent,V(r,!1));const s=r;!function Xs(){di.lFrame.elementDepthCount--}();const l=hi();return l.firstCreatePass&&(ar(l,r),Ds(r)&&l.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Ta(r){return 0!=(16&r.flags)}(s)&&Wf(l,s,fn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ol(r){return 0!=(32&r.flags)}(s)&&Wf(l,s,fn(),s.stylesWithoutHost,!1),Nh}function Yf(r,s,l,d){return Fc(r,s,l,d),Nh(),Yf}function Td(r,s,l){const d=fn(),p=hi(),m=r+22,D=p.firstCreatePass?function Kf(r,s,l,d,p){const m=s.consts,D=os(m,d),R=Uu(s,r,8,"ng-container",D);return null!==D&&kh(R,D,!0),bd(s,l,R,os(m,p)),null!==s.queries&&s.queries.elementStart(s,R),R}(m,p,d,s,l):p.data[m];V(D,!0);const R=d[m]=d[11].createComment("");return Cp(p,d,R,D),Fo(R,d),Ts(D)&&(Sh(p,d,D),Ih(p,D,d)),null!=l&&Hu(d,D),Td}function la(){let r=Ur();const s=hi();return ke()?Xt():(r=r.parent,V(r,!1)),s.firstCreatePass&&(ar(s,r),Ds(r)&&s.queries.elementEnd(r)),la}function du(r,s,l){return Td(r,s,l),la(),du}function Yl(){return fn()}function Rd(r){return!!r&&"function"==typeof r.then}function ca(r){return!!r&&"function"==typeof r.subscribe}const Yu=ca;function kd(r,s,l,d){const p=fn(),m=hi(),D=Ur();return Zf(m,p,p[11],D,r,s,0,d),kd}function Lc(r,s){const l=Ur(),d=fn(),p=hi();return Zf(p,d,Rh(Ia(p.data),l,d),l,r,s),Lc}function Zf(r,s,l,d,p,m,D,R){const L=Ts(d),Oe=r.firstCreatePass&&yl(r),ct=s[8],Rt=Dd(s);let Kt=!0;if(3&d.type||R){const qn=Gr(d,s),si=R?R(qn):qn,Mi=Rt.length,Tn=R?Rr=>R(Xi(Rr[d.index])):d.index;let bi=null;if(!R&&L&&(bi=function Na(r,s,l,d){const p=r.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const D=p[m];if(D===l&&p[m+1]===d){const R=s[7],L=p[m+2];return R.length>L?R[L]:null}"string"==typeof D&&(m+=2)}return null}(r,s,p,d.index)),null!==bi)(bi.__ngLastListenerFn__||bi).__ngNextListenerFn__=m,bi.__ngLastListenerFn__=m,Kt=!1;else{m=X_(d,s,ct,m,!1);const Rr=l.listen(si,p,m);Rt.push(m,Rr),Oe&&Oe.push(p,Tn,Mi,Mi+1)}}else m=X_(d,s,ct,m,!1);const bn=d.outputs;let kn;if(Kt&&null!==bn&&(kn=bn[p])){const qn=kn.length;if(qn)for(let si=0;si<qn;si+=2){const vo=s[kn[si]][kn[si+1]].subscribe(m),n_=Rt.length;Rt.push(m,vo),Oe&&Oe.push(p,d.index,n_,-(n_+1))}}}function hu(r,s,l,d){try{return!1!==l(d)}catch(p){return vg(r,p),!1}}function X_(r,s,l,d,p){return function m(D){if(D===Function)return d;Lf(2&r.flags?Ai(r.index,s):s);let L=hu(s,0,d,D),ie=m.__ngNextListenerFn__;for(;ie;)L=hu(s,0,ie,D)&&L,ie=ie.__ngNextListenerFn__;return p&&!1===L&&(D.preventDefault(),D.returnValue=!1),L}}function qf(r=1){return function G(r){return(di.lFrame.contextLView=function Ae(r,s){for(;r>0;)s=s[15],r--;return s}(r,di.lFrame.contextLView))[8]}(r)}function J_(r,s){let l=null;const d=function ac(r){const s=r.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(r);for(let p=0;p<s.length;p++){const m=s[p];if("*"!==m){if(null===d?Pu(r,m,!0):L_(d,m))return p}else l=p}return l}function Bh(r){const s=fn()[16][6];if(!s.projection){const d=s.projection=M(r?r.length:1,null),p=d.slice();let m=s.child;for(;null!==m;){const D=r?J_(m,r):0;null!==D&&(p[D]?p[D].projectionNext=m:d[D]=m,p[D]=m),m=m.next}}}function fu(r,s=0,l){const d=fn(),p=hi(),m=Uu(p,22+r,16,null,l||null);null===m.projection&&(m.projection=s),Xt(),64!=(64&m.flags)&&function Fi(r,s,l){dh(s[11],0,s,l,Um(r,l,s),cf(l.parent||s[6],l,s))}(p,d,m)}function kg(r,s,l){return Od(r,"",s,"",l),kg}function Od(r,s,l,d,p){const m=fn(),D=Lh(m,s,l,d);return D!==Gi&&La(hi(),an(),m,r,D,m[11],p,!1),Od}function Ng(r,s,l,d,p){const m=r[l+1],D=null===s;let R=d?Gl(m):Ac(m),L=!1;for(;0!==R&&(!1===L||D);){const Oe=r[R+1];ty(r[R],s)&&(L=!0,r[R+1]=d?Cf(Oe):au(Oe)),R=d?Gl(Oe):Ac(Oe)}L&&(r[l+1]=d?au(m):Cf(m))}function ty(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&_n(r,s)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bg(r){return r.substring(go.key,go.keyEnd)}function Jf(r,s){const l=go.textEnd;return l===s?-1:(s=go.keyEnd=function Pd(r,s,l){for(;s<l&&r.charCodeAt(s)>32;)s++;return s}(r,go.key=s,l),Uh(r,s,l))}function Uh(r,s,l){for(;s<l&&r.charCodeAt(s)<=32;)s++;return s}function Jp(r,s,l){return ua(r,s,l,!1),Jp}function em(r,s){return ua(r,s,null,!0),em}function Hg(r){wl(_t,Kl,r,!0)}function Kl(r,s){for(let l=function Vg(r){return function pu(r){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=r.length}(r),Jf(r,Uh(r,0,go.textEnd))}(s);l>=0;l=Jf(s,l))_t(r,Bg(s),!0)}function ua(r,s,l,d){const p=fn(),m=hi(),D=To(2);m.firstUpdatePass&&ry(m,r,D,d),s!==Gi&&No(p,D,s)&&oy(m,m.data[bt()],p,p[11],r,p[D+1]=function ay(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Re(Q(r)))),r}(s,l),d,D)}function wl(r,s,l,d){const p=hi(),m=To(2);p.firstUpdatePass&&ry(p,null,m,d);const D=fn();if(l!==Gi&&No(D,m,l)){const R=p.data[bt()];if(Hh(R,d)&&!jg(p,m)){let L=d?R.classesWithoutHost:R.stylesWithoutHost;null!==L&&(l=S(L,l||"")),Wf(p,R,D,l,d)}else!function ev(r,s,l,d,p,m,D,R){p===Gi&&(p=at);let L=0,ie=0,Oe=0<p.length?p[0]:null,ct=0<m.length?m[0]:null;for(;null!==Oe||null!==ct;){const Rt=L<p.length?p[L+1]:void 0,Kt=ie<m.length?m[ie+1]:void 0;let kn,bn=null;Oe===ct?(L+=2,ie+=2,Rt!==Kt&&(bn=ct,kn=Kt)):null===ct||null!==Oe&&Oe<ct?(L+=2,bn=Oe):(ie+=2,bn=ct,kn=Kt),null!==bn&&oy(r,s,l,d,bn,kn,D,R),Oe=L<p.length?p[L]:null,ct=ie<m.length?m[ie]:null}}(p,R,D,D[11],D[m+1],D[m+1]=function Fv(r,s,l){if(null==l||""===l)return at;const d=[],p=Q(l);if(Array.isArray(p))for(let m=0;m<p.length;m++)r(d,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&r(d,m,p[m]);else"string"==typeof p&&s(d,p);return d}(r,s,l),d,m)}}function jg(r,s){return s>=r.expandoStartIndex}function ry(r,s,l,d){const p=r.data;if(null===p[l+1]){const m=p[bt()],D=jg(r,l);Hh(m,d)&&null===s&&!D&&(s=!1),s=function Qy(r,s,l,d){const p=Ia(r);let m=d?s.residualClasses:s.residualStyles;if(null===p)0===(d?s.classBindings:s.styleBindings)&&(l=tm(l=Gg(null,r,s,l,d),s.attrs,d),m=null);else{const D=s.directiveStylingLast;if(-1===D||r[D]!==p)if(l=Gg(p,r,s,l,d),null===m){let L=function Xy(r,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==Ac(d))return r[Gl(d)]}(r,s,d);void 0!==L&&Array.isArray(L)&&(L=Gg(null,r,s,L[1],d),L=tm(L,s.attrs,d),function Jy(r,s,l,d){r[Gl(l?s.classBindings:s.styleBindings)]=d}(r,s,d,L))}else m=function sy(r,s,l){let d;const p=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<p;m++)d=tm(d,r[m].hostAttrs,l);return tm(d,s.attrs,l)}(r,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),l}(p,m,s,d),function ey(r,s,l,d,p,m){let D=m?s.classBindings:s.styleBindings,R=Gl(D),L=Ac(D);r[d]=l;let Oe,ie=!1;if(Array.isArray(l)){const ct=l;Oe=ct[1],(null===Oe||_n(ct,Oe)>0)&&(ie=!0)}else Oe=l;if(p)if(0!==L){const Rt=Gl(r[R+1]);r[d+1]=jl(Rt,R),0!==Rt&&(r[Rt+1]=Nu(r[Rt+1],d)),r[R+1]=function Ap(r,s){return 131071&r|s<<17}(r[R+1],d)}else r[d+1]=jl(R,0),0!==R&&(r[R+1]=Nu(r[R+1],d)),R=d;else r[d+1]=jl(L,0),0===R?R=d:r[L+1]=Nu(r[L+1],d),L=d;ie&&(r[d+1]=au(r[d+1])),Ng(r,Oe,d,!0),Ng(r,Oe,d,!1),function Wy(r,s,l,d,p){const m=p?r.residualClasses:r.residualStyles;null!=m&&"string"==typeof s&&_n(m,s)>=0&&(l[d+1]=Cf(l[d+1]))}(s,Oe,r,d,m),D=jl(R,L),m?s.classBindings=D:s.styleBindings=D}(p,m,s,l,D,d)}}function Gg(r,s,l,d,p){let m=null;const D=l.directiveEnd;let R=l.directiveStylingLast;for(-1===R?R=l.directiveStart:R++;R<D&&(m=s[R],d=tm(d,m.hostAttrs,p),m!==r);)R++;return null!==r&&(l.directiveStylingLast=R),d}function tm(r,s,l){const d=l?1:2;let p=-1;if(null!==s)for(let m=0;m<s.length;m++){const D=s[m];"number"==typeof D?p=D:p===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),_t(r,D,!!l||s[++m]))}return void 0===r?null:r}function oy(r,s,l,d,p,m,D,R){if(!(3&s.type))return;const L=r.data,ie=L[R+1];ep(function H_(r){return 1==(1&r)}(ie)?nm(L,s,l,p,Ac(ie),D):void 0)||(ep(m)||function ou(r){return 2==(2&r)}(ie)&&(m=nm(L,null,l,p,R,D)),function Gm(r,s,l,d,p){if(s)p?r.addClass(l,d):r.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:sc.DashCase;null==p?r.removeStyle(l,d,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=sc.Important),r.setStyle(l,d,p,m))}}(d,D,Si(bt(),l),p,m))}function nm(r,s,l,d,p,m){const D=null===s;let R;for(;p>0;){const L=r[p],ie=Array.isArray(L),Oe=ie?L[1]:L,ct=null===Oe;let Rt=l[p+1];Rt===Gi&&(Rt=ct?at:void 0);let Kt=ct?qt(Rt,d):Oe===d?Rt:void 0;if(ie&&!ep(Kt)&&(Kt=qt(L,d)),ep(Kt)&&(R=Kt,D))return R;const bn=r[p+1];p=D?Gl(bn):Ac(bn)}if(null!==s){let L=m?s.residualClasses:s.residualStyles;null!=L&&(R=qt(L,d))}return R}function ep(r){return void 0!==r}function Hh(r,s){return 0!=(r.flags&(s?16:32))}function im(r,s=""){const l=fn(),d=hi(),p=r+22,m=d.firstCreatePass?Uu(d,p,1,s,null):d.data[p],D=l[p]=function yp(r,s){return r.createText(s)}(l[11],s);Cp(d,l,D,m),V(m,!1)}function zg(r){return rm("",r,""),zg}function rm(r,s,l){const d=fn(),p=Lh(d,r,s,l);return p!==Gi&&function zl(r,s,l){const d=Si(s,r);!function Jc(r,s,l){r.setValue(s,l)}(r[11],d,l)}(d,bt(),p),rm}function Kg(r,s,l){wl(_t,Kl,Lh(fn(),r,s,l),!0)}function ip(r,s,l){const d=fn();return No(d,pr(),s)&&La(hi(),an(),d,r,s,d[11],l,!0),ip}function um(r,s,l){const d=fn();if(No(d,pr(),s)){const m=hi(),D=an();La(m,D,d,r,s,Rh(Ia(m.data),D,d),l,!0)}return um}const Nd=void 0;var gy=["en",[["a","p"],["AM","PM"],Nd],[["AM","PM"],Nd,Nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nd,"{1} 'at' {0}",Nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jg(r){const l=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let $h={};function dm(r){const s=function n(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=o(s);if(l)return l;const d=s.split("-")[0];if(l=o(d),l)return l;if("en"===d)return gy;throw new Me(701,!1)}function _y(r){return dm(r)[t.PluralCase]}function o(r){return r in $h||($h[r]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[r]),$h[r]}var t=(()=>((t=t||{})[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t))();const u="en-US";let ve=u;function Bv(r,s,l,d,p){if(r=he(r),Array.isArray(r))for(let m=0;m<r.length;m++)Bv(r[m],s,l,d,p);else{const m=hi(),D=fn();let R=Bl(r)?r:he(r.provide),L=eh(r);const ie=Ur(),Oe=1048575&ie.providerIndexes,ct=ie.directiveStart,Rt=ie.providerIndexes>>20;if(Bl(r)||!r.multi){const Kt=new gr(L,p,Sc),bn=Uv(R,s,p?Oe:Oe+Rt,ct);-1===bn?(Lr(na(ie,D),m,R),Vv(m,r,s.length),s.push(R),ie.directiveStart++,ie.directiveEnd++,p&&(ie.providerIndexes+=1048576),l.push(Kt),D.push(Kt)):(l[bn]=Kt,D[bn]=Kt)}else{const Kt=Uv(R,s,Oe+Rt,ct),bn=Uv(R,s,Oe,Oe+Rt),kn=Kt>=0&&l[Kt],qn=bn>=0&&l[bn];if(p&&!qn||!p&&!kn){Lr(na(ie,D),m,R);const si=function Kw(r,s,l,d,p){const m=new gr(r,l,Sc);return m.multi=[],m.index=s,m.componentProviders=0,Lb(m,p,d&&!l),m}(p?Yw:Ww,l.length,p,d,L);!p&&qn&&(l[bn].providerFactory=si),Vv(m,r,s.length,0),s.push(R),ie.directiveStart++,ie.directiveEnd++,p&&(ie.providerIndexes+=1048576),l.push(si),D.push(si)}else Vv(m,r,Kt>-1?Kt:bn,Lb(l[p?bn:Kt],L,!p&&d));!p&&d&&qn&&l[bn].componentProviders++}}}function Vv(r,s,l,d){const p=Bl(s),m=function Dm(r){return!!r.useClass}(s);if(p||m){const L=(m?he(s.useClass):s).prototype.ngOnDestroy;if(L){const ie=r.destroyHooks||(r.destroyHooks=[]);if(!p&&s.multi){const Oe=ie.indexOf(l);-1===Oe?ie.push(l,[d,L]):ie[Oe+1].push(d,L)}else ie.push(l,L)}}}function Lb(r,s,l){return l&&r.componentProviders++,r.multi.push(s)-1}function Uv(r,s,l,d){for(let p=l;p<d;p++)if(s[p]===r)return p;return-1}function Ww(r,s,l,d){return Hv(this.multi,[])}function Yw(r,s,l,d){const p=this.multi;let m;if(this.providerFactory){const D=this.providerFactory.componentProviders,R=_r(l,l[1],this.providerFactory.index,d);m=R.slice(0,D),Hv(p,m);for(let L=D;L<R.length;L++)m.push(R[L])}else m=[],Hv(p,m);return m}function Hv(r,s){for(let l=0;l<r.length;l++)s.push((0,r[l])());return s}function Nb(r,s=[]){return l=>{l.providersResolver=(d,p)=>function zw(r,s,l){const d=hi();if(d.firstCreatePass){const p=ns(r);Bv(l,d.data,d.blueprint,p,!0),Bv(s,d.data,d.blueprint,p,!1)}}(d,p?p(r):r,s)}}class vy{}class Bb{}function Zw(r,s){return new Vb(r,s??null)}class Vb extends vy{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cg(this);const d=$n(s);this._bootstrapComponents=Ri(d.bootstrap),this._r3Injector=Lu(s,l,[{provide:vy,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],Re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class jv extends Bb{constructor(s){super(),this.moduleType=s}create(s){return new Vb(this.moduleType,s)}}class qw extends vy{constructor(s,l,d){super(),this.componentFactoryResolver=new Cg(this),this.instance=null;const p=new hl([...s,{provide:vy,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],l||cp(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Gv(r,s,l=null){return new qw(r,s,l).injector}let Qw=(()=>{class r{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=ic(0,l.type),p=d.length>0?Gv([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Mt({token:r,providedIn:"environment",factory:()=>new r(Sr(Ar))}),r})();function Ub(r){r.getStandaloneInjector=s=>s.get(Qw).getOrCreateStandaloneInjector(r)}function Yb(r,s,l){const d=Zi()+r,p=fn();return p[d]===Gi?dc(p,d,l?s.call(l):s()):function Vf(r,s){return r[s]}(p,d)}function Kb(r,s,l,d){return Qb(fn(),Zi(),r,s,l,d)}function Zb(r,s,l,d,p){return Xb(fn(),Zi(),r,s,l,d,p)}function qb(r,s,l,d,p,m){return function Jb(r,s,l,d,p,m,D,R){const L=s+l;return function Kp(r,s,l,d,p){const m=Pc(r,s,l,d);return No(r,s+2,p)||m}(r,L,p,m,D)?dc(r,L+3,R?d.call(R,p,m,D):d(p,m,D)):ov(r,L+3)}(fn(),Zi(),r,s,l,d,p,m)}function ov(r,s){const l=r[s];return l===Gi?void 0:l}function Qb(r,s,l,d,p,m){const D=s+l;return No(r,D,p)?dc(r,D+1,m?d.call(m,p):d(p)):ov(r,D+1)}function Xb(r,s,l,d,p,m,D){const R=s+l;return Pc(r,R,p,m)?dc(r,R+2,D?d.call(D,p,m):d(p,m)):ov(r,R+2)}function n0(r,s){const l=hi();let d;const p=r+22;l.firstCreatePass?(d=function hC(r,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(r===d.name)return d}}(s,l.pipeRegistry),l.data[p]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(p,d.onDestroy)):d=l.data[p];const m=d.factory||(d.factory=Vr(d.type)),D=P(Sc);try{const R=Ba(!1),L=m();return Ba(R),function Rg(r,s,l,d){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),s[l]=d}(l,fn(),p,L),L}finally{P(D)}}function r0(r,s,l){const d=r+22,p=fn(),m=qs(p,d);return av(p,d)?Qb(p,Zi(),s,m.transform,l,m):m.transform(l)}function s0(r,s,l,d){const p=r+22,m=fn(),D=qs(m,p);return av(m,p)?Xb(m,Zi(),s,D.transform,l,d,D):D.transform(l,d)}function av(r,s){return r[1].data[s].pure}function zv(r){return s=>{setTimeout(r,void 0,s)}}const zh=class gC extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let p=s,m=l||(()=>null),D=d;if(s&&"object"==typeof s){const L=s;p=L.next?.bind(L),m=L.error?.bind(L),D=L.complete?.bind(L)}this.__isAsync&&(m=zv(m),p&&(p=zv(p)),D&&(D=zv(D)));const R=super.subscribe({next:p,error:m,complete:D});return s instanceof y.w0&&s.add(R),R}};function _C(){return this._results[zu()]()}class Ev{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=zu(),d=Ev.prototype;d[l]||(d[l]=_C)}get changes(){return this._changes||(this._changes=new zh)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const p=xr(s);(this._changesDetected=!function ba(r,s,l){if(r.length!==s.length)return!1;for(let d=0;d<r.length;d++){let p=r[d],m=s[d];if(l&&(p=l(p),m=l(m)),m!==p)return!1}return!0}(d._results,p,l))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lv=(()=>{class r{}return r.__NG_ELEMENT_ID__=bC,r})();const yC=lv,vC=class extends yC{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tViews,p=Sf(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);p[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(p[19]=D.createEmbeddedView(d)),Af(d,p,s),new kc(p)}};function bC(){return xv(Ur(),fn())}function xv(r,s){return 4&r.type?new vC(s,r,od(r,s)):null}let Mv=(()=>{class r{}return r.__NG_ELEMENT_ID__=wC,r})();function wC(){return l0(Ur(),fn())}const CC=Mv,o0=class extends CC{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const s=Cn(this._hostTNode,this._hostLView);if(Tl(s)){const l=Wi(s,this._hostLView),d=Ui(s);return new ci(l[1].data[d+8],l)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=a0(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){let p,m;"number"==typeof d?p=d:null!=d&&(p=d.index,m=d.injector);const D=s.createEmbeddedView(l||{},m);return this.insert(D,p),D}createComponent(s,l,d,p,m){const D=s&&!function Xl(r){return"function"==typeof r}(s);let R;if(D)R=l;else{const ct=l||{};R=ct.index,d=ct.injector,p=ct.projectableNodes,m=ct.environmentInjector||ct.ngModuleRef}const L=D?s:new Oc(ut(s)),ie=d||this.parentInjector;if(!m&&null==L.ngModule){const Rt=(D?ie:this.parentInjector).get(Ar,null);Rt&&(m=Rt)}const Oe=L.create(ie,p,void 0,m);return this.insert(Oe.hostView,R),Oe}insert(s,l){const d=s._lView,p=d[1];if(function ss(r){return kr(r[3])}(d)){const Oe=this.indexOf(s);if(-1!==Oe)this.detach(Oe);else{const ct=d[3],Rt=new o0(ct,ct[6],ct[3]);Rt.detach(Rt.indexOf(s))}}const m=this._adjustIndex(l),D=this._lContainer;!function vp(r,s,l,d){const p=10+d,m=l.length;d>0&&(l[p-1][4]=s),d<m-10?(s[4]=l[p],Ha(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const D=s[17];null!==D&&l!==D&&function bp(r,s){const l=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===l?r[9]=[s]:l.push(s)}(D,s);const R=s[19];null!==R&&R.insertView(r),s[2]|=64}(p,d,D,m);const R=Ru(m,D),L=d[11],ie=tu(L,D[7]);return null!==ie&&function eu(r,s,l,d,p,m){d[0]=p,d[6]=s,oc(r,d,l,1,p,m)}(p,D[6],L,d,ie,R),s.attachToViewContainerRef(),Ha(Wv(D),m,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=a0(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=Fa(this._lContainer,l);d&&(Oa(Wv(this._lContainer),l),uh(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=Fa(this._lContainer,l);return d&&null!=Oa(Wv(this._lContainer),l)?new kc(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function a0(r){return r[8]}function Wv(r){return r[8]||(r[8]=[])}function l0(r,s){let l;const d=s[r.index];if(kr(d))l=d;else{let p;if(8&r.type)p=Xi(d);else{const m=s[11];p=m.createComment("");const D=Gr(r,s);pl(m,tu(m,D),p,function k_(r,s){return r.nextSibling(s)}(m,D),!1)}s[r.index]=l=wd(d,s,p,r),Cd(s,l)}return new o0(l,r,s)}class Yv{constructor(s){this.queryList=s,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,p=[];for(let m=0;m<d;m++){const D=l.getByIndex(m);p.push(this.queries[D.indexInDeclarationView].clone())}return new Kv(p)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==_0(s,l).matches&&this.queries[l].setDirty()}}class c0{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Zv{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const p=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(s,p);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Zv(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class qv{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new qv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const m=d[p];this.matchTNodeWithReadOption(s,l,xC(l,m)),this.matchTNodeWithReadOption(s,l,Go(l,s,m,!1,!1))}else d===lv?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Go(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Yc||p===Mv||p===lv&&4&l.type)this.addMatch(l.index,-2);else{const m=Go(l,s,p,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function xC(r,s){const l=r.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function IC(r,s,l,d){return-1===l?function MC(r,s){return 11&r.type?od(r,s):4&r.type?xv(r,s):null}(s,r):-2===l?function SC(r,s,l){return l===Yc?od(s,r):l===lv?xv(s,r):l===Mv?l0(s,r):void 0}(r,s,d):_r(r,r[1],l,s)}function u0(r,s,l,d){const p=s[19].queries[d];if(null===p.matches){const m=r.data,D=l.matches,R=[];for(let L=0;L<D.length;L+=2){const ie=D[L];R.push(ie<0?null:IC(s,m[ie],D[L+1],l.metadata.read))}p.matches=R}return p.matches}function Qv(r,s,l,d){const p=r.queries.getByIndex(l),m=p.matches;if(null!==m){const D=u0(r,s,p,l);for(let R=0;R<m.length;R+=2){const L=m[R];if(L>0)d.push(D[R/2]);else{const ie=m[R+1],Oe=s[-L];for(let ct=10;ct<Oe.length;ct++){const Rt=Oe[ct];Rt[17]===Rt[3]&&Qv(Rt[1],Rt,ie,d)}if(null!==Oe[9]){const ct=Oe[9];for(let Rt=0;Rt<ct.length;Rt++){const Kt=ct[Rt];Qv(Kt[1],Kt,ie,d)}}}}}return d}function d0(r){const s=fn(),l=hi(),d=Ro();Sa(d+1);const p=_0(l,d);if(r.dirty&&fa(s)===(2==(2&p.metadata.flags))){if(null===p.matches)r.reset([]);else{const m=p.crossesNgTemplate?Qv(l,s,d,[]):u0(l,s,p,d);r.reset(m,up),r.notifyOnChanges()}return!0}return!1}function h0(r,s,l){const d=hi();d.firstCreatePass&&(g0(d,new c0(r,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),m0(d,fn(),s)}function f0(r,s,l,d){const p=hi();if(p.firstCreatePass){const m=Ur();g0(p,new c0(s,l,d),m.index),function TC(r,s){const l=r.contentQueries||(r.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,s)}(p,r),2==(2&l)&&(p.staticContentQueries=!0)}m0(p,fn(),l)}function p0(){return function AC(r,s){return r[19].queries[s].queryList}(fn(),Ro())}function m0(r,s,l){const d=new Ev(4==(4&l));uc(r,s,d,d.destroy),null===s[19]&&(s[19]=new Kv),s[19].queries.push(new Yv(d))}function g0(r,s,l){null===r.queries&&(r.queries=new Zv),r.queries.track(new qv(s,l))}function _0(r,s){return r.queries.getByIndex(s)}const QC=Hs("Input",r=>({bindingPropertyName:r})),XC=Hs("Output",r=>({bindingPropertyName:r}));function Sv(...r){}const L0=new yr("Application Initializer");let Av=(()=>{class r{constructor(l){this.appInits=l,this.resolve=Sv,this.reject=Sv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Rd(m))l.push(m);else if(Yu(m)){const D=new Promise((R,L)=>{m.subscribe({complete:R,error:L})});l.push(D)}}Promise.all(l).then(()=>{d()}).catch(p=>{this.reject(p)}),0===l.length&&d(),this.initialized=!0}}return r.\u0275fac=function(l){return new(l||r)(Sr(L0,8))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const N0=new yr("AppId",{providedIn:"root",factory:function B0(){return`${nb()}${nb()}${nb()}`}});function nb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const V0=new yr("Platform Initializer"),JC=new yr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U0=new yr("appBootstrapListener"),eD=new yr("AnimationModuleType");let tD=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Tv=new yr("LocaleId",{providedIn:"root",factory:()=>j(Tv,Jt.Optional|Jt.SkipSelf)||function nD(){return typeof $localize<"u"&&$localize.locale||u}()}),iD=new yr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rD{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let sD=(()=>{class r{compileModuleSync(l){return new jv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=Ri($n(l).declarations).reduce((D,R)=>{const L=ut(R);return L&&D.push(new Oc(L)),D},[]);return new rD(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const lD=(()=>Promise.resolve(0))();function ib(r){typeof Zone>"u"?lD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Zu{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zh(!1),this.onMicrotaskEmpty=new zh(!1),this.onStable=new zh(!1),this.onError=new zh(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&l,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function cD(){let r=St.requestAnimationFrame,s=St.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function hD(r){const s=()=>{!function dD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(St,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,sb(r),r.isCheckStableRunning=!0,rb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),sb(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,p,m,D,R)=>{try{return G0(r),l.invokeTask(p,m,D,R)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||r.shouldCoalesceRunChangeDetection)&&s(),$0(r)}},onInvoke:(l,d,p,m,D,R,L)=>{try{return G0(r),l.invoke(p,m,D,R,L)}finally{r.shouldCoalesceRunChangeDetection&&s(),$0(r)}},onHasTask:(l,d,p,m)=>{l.hasTask(p,m),d===p&&("microTask"==m.change?(r._hasPendingMicrotasks=m.microTask,sb(r),rb(r)):"macroTask"==m.change&&(r.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,p,m)=>(l.handleError(p,m),r.runOutsideAngular(()=>r.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new Me(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,p){const m=this._inner,D=m.scheduleEventTask("NgZoneEvent: "+p,s,uD,Sv,Sv);try{return m.runTask(D,l,d)}finally{m.cancelTask(D)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const uD={};function rb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function sb(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function G0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function $0(r){r._nesting--,rb(r)}class fD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zh,this.onMicrotaskEmpty=new zh,this.onStable=new zh,this.onError=new zh}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,p){return s.apply(l,d)}}const z0=new yr(""),W0=new yr("");let ob,pD=(()=>{class r{constructor(l,d,p){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ob||(function mD(r){ob=r}(p),p.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),ib(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ib(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,p){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:p})}whenStable(l,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,p){return[]}}return r.\u0275fac=function(l){return new(l||r)(Sr(Zu),Sr(Y0),Sr(W0))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac}),r})(),Y0=(()=>{class r{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ob?.findTestabilityInTree(this,l,d)??null}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),_m=null;const K0=new yr("AllowMultipleToken"),ab=new yr("PlatformDestroyListeners");class yD{constructor(s,l){this.name=s,this.token=l}}function q0(r,s,l=[]){const d=`Platform: ${s}`,p=new yr(d);return(m=[])=>{let D=lb();if(!D||D.injector.get(K0,!1)){const R=[...l,...m,{provide:p,useValue:!0}];r?r(R):function vD(r){if(_m&&!_m.get(K0,!1))throw new Me(400,!1);_m=r;const s=r.get(X0);(function Z0(r){const s=r.get(V0,null);s&&s.forEach(l=>l())})(r)}(function Q0(r=[],s){return nu.create({name:s,providers:[{provide:Vl,useValue:"platform"},{provide:ab,useValue:new Set([()=>_m=null])},...r]})}(R,d))}return function wD(r){const s=lb();if(!s)throw new Me(401,!1);return s}()}}function lb(){return _m?.get(X0)??null}let X0=(()=>{class r{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const p=function ew(r,s){let l;return l="noop"===r?new fD:("zone.js"===r?void 0:r)||new Zu(s),l}(d?.ngZone,function J0(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Zu,useValue:p}];return p.run(()=>{const D=nu.create({providers:m,parent:this.injector,name:l.moduleType.name}),R=l.create(D),L=R.injector.get(rh,null);if(!L)throw new Me(402,!1);return p.runOutsideAngular(()=>{const ie=p.onError.subscribe({next:Oe=>{L.handleError(Oe)}});R.onDestroy(()=>{kv(this._modules,R),ie.unsubscribe()})}),function tw(r,s,l){try{const d=l();return Rd(d)?d.catch(p=>{throw s.runOutsideAngular(()=>r.handleError(p)),p}):d}catch(d){throw s.runOutsideAngular(()=>r.handleError(d)),d}}(L,p,()=>{const ie=R.injector.get(Av);return ie.runInitializers(),ie.donePromise.then(()=>(function qe(r){Bt(r,"Expected localeId to be defined"),"string"==typeof r&&(ve=r.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Tv,u)||u),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,d=[]){const p=nw({},d);return function gD(r,s,l){const d=new jv(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(l){const d=l.injector.get(Rv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new Me(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(ab,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(l){return new(l||r)(Sr(nu))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function nw(r,s){return Array.isArray(s)?s.reduce(nw,r):{...r,...s}}let Rv=(()=>{class r{constructor(l,d,p){this._zone=l,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new b.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),D=new b.y(R=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),ib(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{L.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,F.T)(m,D.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const p=l instanceof sd;if(!this._injector.get(Av).done)throw!p&&wn(l),new Me(405,false);let D;D=p?l:this._injector.get(Cc).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const R=function _D(r){return r.isBoundToModule}(D)?void 0:this._injector.get(vy),ie=D.create(nu.NULL,[],d||D.selector,R),Oe=ie.location.nativeElement,ct=ie.injector.get(z0,null);return ct?.registerApplication(Oe),ie.onDestroy(()=>{this.detachView(ie.hostView),kv(this.components,ie),ct?.unregisterApplication(Oe)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;kv(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(U0,[]).concat(this._bootstrapListeners).forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>kv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(l){return new(l||r)(Sr(Zu),Sr(Ar),Sr(rh))},r.\u0275prov=Mt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function kv(r,s){const l=r.indexOf(s);l>-1&&r.splice(l,1)}let rw=!0,sw=!1;function DD(){return sw=!0,rw}function ED(){if(sw)throw new Error("Cannot enable prod mode after platform setup.");rw=!1}let xD=(()=>{class r{}return r.__NG_ELEMENT_ID__=MD,r})();function MD(r){return function ID(r,s,l){if(ha(r)&&!l){const d=Ai(r.index,s);return new kc(d,d)}return 47&r.type?new kc(s[16],s):null}(Ur(),fn(),16==(16&r))}class cw{constructor(){}supports(s){return ts(s)}create(s){return new OD(s)}}const kD=(r,s)=>s;class OD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||kD}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,p=0,m=null;for(;l||d;){const D=!d||l&&l.currentIndex<dw(d,p,m)?l:d,R=dw(D,p,m),L=D.currentIndex;if(D===d)p--,d=d._nextRemoved;else if(l=l._next,null==D.previousIndex)p++;else{m||(m=[]);const ie=R-p,Oe=L-p;if(ie!=Oe){for(let Rt=0;Rt<ie;Rt++){const Kt=Rt<m.length?m[Rt]:m[Rt]=0,bn=Kt+Rt;Oe<=bn&&bn<ie&&(m[Rt]=Kt+1)}m[D.previousIndex]=Oe-ie}}R!==L&&s(D,R,L)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!ts(s))throw new Me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let p,m,D,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let R=0;R<this.length;R++)m=s[R],D=this._trackByFn(R,m),null!==l&&Object.is(l.trackById,D)?(d&&(l=this._verifyReinsertion(l,m,D,R)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,D,R),d=!0),l=l._next}else p=0,function zy(r,s){if(Array.isArray(r))for(let l=0;l<r.length;l++)s(r[l]);else{const l=r[zu()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,R=>{D=this._trackByFn(p,R),null!==l&&Object.is(l.trackById,D)?(d&&(l=this._verifyReinsertion(l,R,D,p)),Object.is(l.item,R)||this._addIdentityChange(l,R)):(l=this._mismatch(l,R,D,p),d=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,p){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,p)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,p)):s=this._addAfter(new PD(l,d),m,p),s}_verifyReinsertion(s,l,d,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,p):s.currentIndex!=p&&(s.currentIndex=p,this._addToMoves(s,p)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const p=s._prevRemoved,m=s._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const p=null===l?this._itHead:l._next;return s._next=p,s._prev=l,null===p?this._itTail=s:p._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new uw),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class PD{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class uw{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new FD,this.map.set(l,d)),d.add(s)}get(s,l){const p=this.map.get(s);return p?p.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(r,s,l){const d=r.previousIndex;if(null===d)return d;let p=0;return l&&d<l.length&&(p=l[d]),d+s+p}class hw{constructor(){}supports(s){return s instanceof Map||Cs(s)}create(){return new LD}}class LD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||Cs(s)))throw new Me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(p,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const p=this._records.get(s);this._maybeAddToChanges(p,l);const m=p._prev,D=p._next;return m&&(m._next=D),D&&(D._prev=m),p._next=null,p._prev=null,p}const d=new ND(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class ND{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fw(){return new fb([new cw])}let fb=(()=>{class r{constructor(l){this.factories=l}static create(l,d){if(null!=d){const p=d.factories.slice();l=l.concat(p)}return new r(l)}static extend(l){return{provide:r,useFactory:d=>r.create(l,d||fw()),deps:[[r,new pi,new On]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(null!=d)return d;throw new Me(901,!1)}}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:fw}),r})();function pw(){return new pb([new hw])}let pb=(()=>{class r{constructor(l){this.factories=l}static create(l,d){if(d){const p=d.factories.slice();l=l.concat(p)}return new r(l)}static extend(l){return{provide:r,useFactory:d=>r.create(l,d||pw()),deps:[[r,new pi,new On]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new Me(901,!1)}}return r.\u0275prov=Mt({token:r,providedIn:"root",factory:pw}),r})();const UD=q0(null,"core",[]);let HD=(()=>{class r{constructor(l){}}return r.\u0275fac=function(l){return new(l||r)(Sr(Rv))},r.\u0275mod=je({type:r}),r.\u0275inj=Ye({}),r})();function jD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},5863:(ln,ht,w)=>{function c(ne){for(let me in ne){let he=ne[me]??"";switch(me){case"display":ne.display="flex"===he?["-webkit-flex","flex"]:"inline-flex"===he?["-webkit-inline-flex","inline-flex"]:he;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":ne["-webkit-"+me]=he;break;case"flex-direction":ne["-webkit-flex-direction"]=he,ne["flex-direction"]=he;break;case"order":ne.order=ne["-webkit-"+me]=isNaN(+he)?"0":he}}return ne}w.d(ht,{Ar:()=>F,GK:()=>c,iQ:()=>b,kt:()=>S,tj:()=>Be});const y="inline",b=["row","column","row-reverse","column-reverse"];function F(ne){let[me,he,He]=de(ne);return function Re(ne,me=null,he=!1){return{display:he?"inline-flex":"flex","box-sizing":"border-box","flex-direction":ne,"flex-wrap":me||null}}(me,he,He)}function de(ne){ne=ne?.toLowerCase()??"";let[me,he,He]=ne.split(" ");return b.find(We=>We===me)||(me=b[0]),he===y&&(he=He!==y?He:"",He=y),[me,Ke(he),!!He]}function Be(ne){let[me]=de(ne);return me.indexOf("row")>-1}function Ke(ne){if(ne)switch(ne.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":ne="wrap-reverse";break;case"no":case"none":case"nowrap":ne="nowrap";break;default:ne="wrap"}return ne}function S(ne,...me){if(null==ne)throw TypeError("Cannot convert undefined or null to object");for(let he of me)if(null!=he)for(let He in he)he.hasOwnProperty(He)&&(ne[He]=he[He]);return ne}},2233:(ln,ht,w)=>{w.d(ht,{Bs:()=>be,FL:()=>Ln,IR:()=>He,Ot:()=>St,QI:()=>tt,RK:()=>Le,WU:()=>Se,g5:()=>ze,iR:()=>ge,wY:()=>Ee,yB:()=>Jt});var c=w(4650),y=w(6895),b=w(1135),F=w(9751),de=w(6451),Be=w(7579),Ke=w(5863),Re=w(9300),S=w(8505);const me={provide:c.tb,useFactory:function ne(at,Vt){return()=>{if((0,y.NF)(Vt)){const ce=Array.from(at.querySelectorAll(`[class*=${he}]`)),lt=/\bflex-layout-.+?\b/g;ce.forEach(gt=>{gt.classList.contains(`${he}ssr`)&&gt.parentNode?gt.parentNode.removeChild(gt):gt.className.replace(lt,"")})}}},deps:[y.K0,c.Lbi],multi:!0},he="flex-layout-";let He=(()=>{class at{}return at.\u0275fac=function(ce){return new(ce||at)},at.\u0275mod=c.oAB({type:at}),at.\u0275inj=c.cJS({providers:[me]}),at})();class We{constructor(Vt=!1,ce="all",lt="",gt="",te=0){this.matches=Vt,this.mediaQuery=ce,this.mqAlias=lt,this.suffix=gt,this.priority=te,this.property=""}clone(){return new We(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Me=(()=>{class at{constructor(){this.stylesheet=new Map}addStyleToElement(ce,lt,gt){const te=this.stylesheet.get(ce);te?te.set(lt,gt):this.stylesheet.set(ce,new Map([[lt,gt]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(ce,lt){const gt=this.stylesheet.get(ce);let te="";if(gt){const J=gt.get(lt);("number"==typeof J||"string"==typeof J)&&(te=J+"")}return te}}return at.\u0275fac=function(ce){return new(ce||at)},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const ze={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Se=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>ze}),Ee=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),be=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function dt(at,Vt){return at=at?.clone()??new We,Vt&&(at.mqAlias=Vt.alias,at.mediaQuery=Vt.mediaQuery,at.suffix=Vt.suffix,at.priority=Vt.priority),at}class tt{constructor(){this.shouldCache=!0}sideEffect(Vt,ce,lt){}}let Le=(()=>{class at{constructor(ce,lt,gt,te){this._serverStylesheet=ce,this._serverModuleLoaded=lt,this._platformId=gt,this.layoutConfig=te}applyStyleToElement(ce,lt,gt=null){let te={};"string"==typeof lt&&(te[lt]=gt,lt=te),te=this.layoutConfig.disableVendorPrefixes?lt:(0,Ke.GK)(lt),this._applyMultiValueStyleToElement(te,ce)}applyStyleToElements(ce,lt=[]){const gt=this.layoutConfig.disableVendorPrefixes?ce:(0,Ke.GK)(ce);lt.forEach(te=>{this._applyMultiValueStyleToElement(gt,te)})}getFlowDirection(ce){const lt="flex-direction";let gt=this.lookupStyle(ce,lt);return[gt||"row",this.lookupInlineStyle(ce,lt)||(0,y.PM)(this._platformId)&&this._serverModuleLoaded?gt:""]}hasWrap(ce){return"wrap"===this.lookupStyle(ce,"flex-wrap")}lookupAttributeValue(ce,lt){return ce.getAttribute(lt)??""}lookupInlineStyle(ce,lt){return(0,y.NF)(this._platformId)?ce.style.getPropertyValue(lt):function xe(at,Vt){return oe(at)[Vt]??""}(ce,lt)}lookupStyle(ce,lt,gt=!1){let te="";return ce&&((te=this.lookupInlineStyle(ce,lt))||((0,y.NF)(this._platformId)?gt||(te=getComputedStyle(ce).getPropertyValue(lt)):this._serverModuleLoaded&&(te=this._serverStylesheet.getStyleForElement(ce,lt)))),te?te.trim():""}_applyMultiValueStyleToElement(ce,lt){Object.keys(ce).sort().forEach(gt=>{const te=ce[gt],J=Array.isArray(te)?te:[te];J.sort();for(let ee of J)ee=ee?ee+"":"",(0,y.NF)(this._platformId)||!this._serverModuleLoaded?(0,y.NF)(this._platformId)?lt.style.setProperty(gt,ee):Ne(lt,gt,ee):this._serverStylesheet.addStyleToElement(lt,gt,ee)})}}return at.\u0275fac=function(ce){return new(ce||at)(c.LFG(Me),c.LFG(Ee),c.LFG(c.Lbi),c.LFG(Se))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();function Ne(at,Vt,ce){Vt=Vt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const lt=oe(at);lt[Vt]=ce??"",function se(at,Vt){let ce="";for(const lt in Vt)Vt[lt]&&(ce+=`${lt}:${Vt[lt]};`);at.setAttribute("style",ce)}(at,lt)}function oe(at){const Vt={},ce=at.getAttribute("style");if(ce){const lt=ce.split(/;+/g);for(let gt=0;gt<lt.length;gt++){const te=lt[gt].trim();if(te.length>0){const J=te.indexOf(":");if(-1===J)throw new Error(`Invalid CSS style: ${te}`);Vt[te.substr(0,J).trim()]=te.substr(J+1).trim()}}}return Vt}function Qe(at,Vt){return(Vt&&Vt.priority||0)-(at&&at.priority||0)}function ae(at,Vt){return(at.priority||0)-(Vt.priority||0)}let ue=(()=>{class at{constructor(ce,lt,gt){this._zone=ce,this._platformId=lt,this._document=gt,this.source=new b.X(new We(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const ce=[];return this.registry.forEach((lt,gt)=>{lt.matches&&ce.push(gt)}),ce}isActive(ce){return this.registry.get(ce)?.matches??this.registerQuery(ce).some(gt=>gt.matches)}observe(ce,lt=!1){if(ce&&ce.length){const gt=this._observable$.pipe((0,Re.h)(J=>!lt||ce.indexOf(J.mediaQuery)>-1)),te=new F.y(J=>{const ee=this.registerQuery(ce);if(ee.length){const O=ee.pop();ee.forEach(K=>{J.next(K)}),this.source.next(O)}J.complete()});return(0,de.T)(te,gt)}return this._observable$}registerQuery(ce){const lt=Array.isArray(ce)?ce:[ce],gt=[];return function Je(at,Vt){const ce=at.filter(lt=>!Ce[lt]);if(ce.length>0){const lt=ce.join(", ");try{const gt=Vt.createElement("style");gt.setAttribute("type","text/css"),gt.styleSheet||gt.appendChild(Vt.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${lt} {.fx-query-test{ }}\n`)),Vt.head.appendChild(gt),ce.forEach(te=>Ce[te]=gt)}catch(gt){console.error(gt)}}}(lt,this._document),lt.forEach(te=>{const J=O=>{this._zone.run(()=>this.source.next(new We(O.matches,te)))};let ee=this.registry.get(te);ee||(ee=this.buildMQL(te),ee.addListener(J),this.pendingRemoveListenerFns.push(()=>ee.removeListener(J)),this.registry.set(te,ee)),ee.matches&&gt.push(new We(!0,te))}),gt}ngOnDestroy(){let ce;for(;ce=this.pendingRemoveListenerFns.pop();)ce()}buildMQL(ce){return function Ht(at,Vt){return Vt&&window.matchMedia("all").addListener?window.matchMedia(at):{matches:"all"===at||""===at,media:at,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(ce,(0,y.NF)(this._platformId))}}return at.\u0275fac=function(ce){return new(ce||at)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(y.K0))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const Ce={},jt=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],sn="(orientation: portrait) and (max-width: 599.98px)",on="(orientation: landscape) and (max-width: 959.98px)",Bt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Te="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Et="(orientation: portrait) and (min-width: 840px)",pt="(orientation: landscape) and (min-width: 1280px)",Lt={HANDSET:`${sn}, ${on}`,TABLET:`${Bt} , ${Te}`,WEB:`${Et}, ${pt} `,HANDSET_PORTRAIT:`${sn}`,TABLET_PORTRAIT:`${Bt} `,WEB_PORTRAIT:`${Et}`,HANDSET_LANDSCAPE:`${on}`,TABLET_LANDSCAPE:`${Te}`,WEB_LANDSCAPE:`${pt}`},Mt=[{alias:"handset",priority:2e3,mediaQuery:Lt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Lt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Lt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Lt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Lt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Lt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Lt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Lt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Lt.WEB_PORTRAIT,overlapping:!0}],zt=/(\.|-|_)/g;function Ye(at){let Vt=at.length>0?at.charAt(0):"",ce=at.length>1?at.slice(1):"";return Vt.toUpperCase()+ce}const Nt=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const at=(0,c.f3M)(be),Vt=(0,c.f3M)(Se),ce=[].concat.apply([],(at||[]).map(gt=>Array.isArray(gt)?gt:[gt]));return function Dt(at,Vt=[]){const ce={};return at.forEach(lt=>{ce[lt.alias]=lt}),Vt.forEach(lt=>{ce[lt.alias]?(0,Ke.kt)(ce[lt.alias],lt):ce[lt.alias]=lt}),function rt(at){return at.forEach(Vt=>{Vt.suffix||(Vt.suffix=function et(at){return at.replace(zt,"|").split("|").map(Ye).join("")}(Vt.alias),Vt.overlapping=!!Vt.overlapping)}),at}(Object.keys(ce).map(lt=>ce[lt]))}((Vt.disableDefaultBps?[]:jt).concat(Vt.addOrientationBps?Mt:[]),ce)}});let dn=(()=>{class at{constructor(ce){this.findByMap=new Map,this.items=[...ce].sort(ae)}findByAlias(ce){return ce?this.findWithPredicate(ce,lt=>lt.alias===ce):null}findByQuery(ce){return this.findWithPredicate(ce,lt=>lt.mediaQuery===ce)}get overlappings(){return this.items.filter(ce=>ce.overlapping)}get aliases(){return this.items.map(ce=>ce.alias)}get suffixes(){return this.items.map(ce=>ce?.suffix??"")}findWithPredicate(ce,lt){let gt=this.findByMap.get(ce);return gt||(gt=this.items.find(lt)??null,this.findByMap.set(ce,gt)),gt??null}}return at.\u0275fac=function(ce){return new(ce||at)(c.LFG(Nt))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const Mn="print",Pn={alias:Mn,mediaQuery:Mn,priority:1e3};let Fn=(()=>{class at{constructor(ce,lt,gt){this.breakpoints=ce,this.layoutConfig=lt,this._document=gt,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Bn,this.deactivations=[]}withPrintQuery(ce){return[...ce,Mn]}isPrintEvent(ce){return ce.mediaQuery.startsWith(Mn)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(ce=>this.breakpoints.findByAlias(ce)).filter(ce=>null!==ce)}getEventBreakpoints({mediaQuery:ce}){const lt=this.breakpoints.findByQuery(ce);return(lt?[...this.printBreakPoints,lt]:this.printBreakPoints).sort(Qe)}updateEvent(ce){let lt=this.breakpoints.findByQuery(ce.mediaQuery);return this.isPrintEvent(ce)&&(lt=this.getEventBreakpoints(ce)[0],ce.mediaQuery=lt?.mediaQuery??""),dt(ce,lt)}registerBeforeAfterPrintHooks(ce){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const lt=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(ce,this.getEventBreakpoints(new We(!0,Mn))),ce.updateStyles())},gt=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(ce),ce.updateStyles())};this._document.defaultView.addEventListener("beforeprint",lt),this._document.defaultView.addEventListener("afterprint",gt),this.beforePrintEventListeners.push(lt),this.afterPrintEventListeners.push(gt)}interceptEvents(ce){return lt=>{this.isPrintEvent(lt)?lt.matches&&!this.isPrinting?(this.startPrinting(ce,this.getEventBreakpoints(lt)),ce.updateStyles()):!lt.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(ce),ce.updateStyles()):this.collectActivations(ce,lt)}}blockPropagation(){return ce=>!(this.isPrinting||this.isPrintEvent(ce))}startPrinting(ce,lt){this.isPrinting=!0,this.formerActivations=ce.activatedBreakpoints,ce.activatedBreakpoints=this.queue.addPrintBreakpoints(lt)}stopPrinting(ce){ce.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(ce,lt){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!lt.matches){const gt=this.breakpoints.findByQuery(lt.mediaQuery);if(gt){const te=this.formerActivations&&this.formerActivations.includes(gt),J=!this.formerActivations&&ce.activatedBreakpoints.includes(gt);(te||J)&&(this.deactivations.push(gt),this.deactivations.sort(Qe))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(ce=>this._document.defaultView.removeEventListener("beforeprint",ce)),this.afterPrintEventListeners.forEach(ce=>this._document.defaultView.removeEventListener("afterprint",ce)))}}return at.\u0275fac=function(ce){return new(ce||at)(c.LFG(dn),c.LFG(Se),c.LFG(y.K0))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();class Bn{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Vt){return Vt.push(Pn),Vt.sort(Qe),Vt.forEach(ce=>this.addBreakpoint(ce)),this.printBreakpoints}addBreakpoint(Vt){Vt&&void 0===this.printBreakpoints.find(lt=>lt.mediaQuery===Vt.mediaQuery)&&(this.printBreakpoints=function En(at){return at?.mediaQuery.startsWith(Mn)??!1}(Vt)?[Vt,...this.printBreakpoints]:[...this.printBreakpoints,Vt])}clear(){this.printBreakpoints=[]}}let Jt=(()=>{class at{constructor(ce,lt,gt){this.matchMedia=ce,this.breakpoints=lt,this.hook=gt,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Be.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(ce){this._activatedBreakpoints=[...ce]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(ce){this._useFallbacks=ce}onMediaChange(ce){const lt=this.findByQuery(ce.mediaQuery);if(lt){ce=dt(ce,lt);const gt=this.activatedBreakpoints.indexOf(lt);ce.matches&&-1===gt?(this._activatedBreakpoints.push(lt),this._activatedBreakpoints.sort(Qe),this.updateStyles()):!ce.matches&&-1!==gt&&(this._activatedBreakpoints.splice(gt,1),this._activatedBreakpoints.sort(Qe),this.updateStyles())}}init(ce,lt,gt,te,J=[]){ot(this.updateMap,ce,lt,gt),ot(this.clearMap,ce,lt,te),this.buildElementKeyMap(ce,lt),this.watchExtraTriggers(ce,lt,J)}getValue(ce,lt,gt){const te=this.elementMap.get(ce);if(te){const J=void 0!==gt?te.get(gt):this.getActivatedValues(te,lt);if(J)return J.get(lt)}}hasValue(ce,lt){const gt=this.elementMap.get(ce);if(gt){const te=this.getActivatedValues(gt,lt);if(te)return void 0!==te.get(lt)||!1}return!1}setValue(ce,lt,gt,te){let J=this.elementMap.get(ce);if(J){const O=(J.get(te)??new Map).set(lt,gt);J.set(te,O),this.elementMap.set(ce,J)}else J=(new Map).set(te,(new Map).set(lt,gt)),this.elementMap.set(ce,J);const ee=this.getValue(ce,lt);void 0!==ee&&this.updateElement(ce,lt,ee)}trackValue(ce,lt){return this.subject.asObservable().pipe((0,Re.h)(gt=>gt.element===ce&&gt.key===lt))}updateStyles(){this.elementMap.forEach((ce,lt)=>{const gt=new Set(this.elementKeyMap.get(lt));let te=this.getActivatedValues(ce);te&&te.forEach((J,ee)=>{this.updateElement(lt,ee,J),gt.delete(ee)}),gt.forEach(J=>{if(te=this.getActivatedValues(ce,J),te){const ee=te.get(J);this.updateElement(lt,J,ee)}else this.clearElement(lt,J)})})}clearElement(ce,lt){const gt=this.clearMap.get(ce);if(gt){const te=gt.get(lt);te&&(te(),this.subject.next({element:ce,key:lt,value:""}))}}updateElement(ce,lt,gt){const te=this.updateMap.get(ce);if(te){const J=te.get(lt);J&&(J(gt),this.subject.next({element:ce,key:lt,value:gt}))}}releaseElement(ce){const lt=this.watcherMap.get(ce);lt&&(lt.forEach(te=>te.unsubscribe()),this.watcherMap.delete(ce));const gt=this.elementMap.get(ce);gt&&(gt.forEach((te,J)=>gt.delete(J)),this.elementMap.delete(ce))}triggerUpdate(ce,lt){const gt=this.elementMap.get(ce);if(gt){const te=this.getActivatedValues(gt,lt);te&&(lt?this.updateElement(ce,lt,te.get(lt)):te.forEach((J,ee)=>this.updateElement(ce,ee,J)))}}buildElementKeyMap(ce,lt){let gt=this.elementKeyMap.get(ce);gt||(gt=new Set,this.elementKeyMap.set(ce,gt)),gt.add(lt)}watchExtraTriggers(ce,lt,gt){if(gt&&gt.length){let te=this.watcherMap.get(ce);if(te||(te=new Map,this.watcherMap.set(ce,te)),!te.get(lt)){const ee=(0,de.T)(...gt).subscribe(()=>{const O=this.getValue(ce,lt);this.updateElement(ce,lt,O)});te.set(lt,ee)}}}findByQuery(ce){return this.breakpoints.findByQuery(ce)}getActivatedValues(ce,lt){for(let te=0;te<this.activatedBreakpoints.length;te++){const ee=ce.get(this.activatedBreakpoints[te].alias);if(ee&&(void 0===lt||ee.has(lt)&&null!=ee.get(lt)))return ee}if(!this._useFallbacks)return;const gt=ce.get("");return void 0===lt||gt&&gt.has(lt)?gt:void 0}observeActivations(){const ce=this.breakpoints.items.map(lt=>lt.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(ce)).pipe((0,S.b)(this.hook.interceptEvents(this)),(0,Re.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return at.\u0275fac=function(ce){return new(ce||at)(c.LFG(ue),c.LFG(dn),c.LFG(Fn))},at.\u0275prov=c.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();function ot(at,Vt,ce,lt){if(void 0!==lt){const gt=at.get(Vt)??new Map;gt.set(ce,lt),at.set(Vt,gt)}}let ge=(()=>{class at{constructor(ce,lt,gt,te){this.elementRef=ce,this.styleBuilder=lt,this.styler=gt,this.marshal=te,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Be.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(ce){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,ce,this.marshal.activatedAlias)}ngOnChanges(ce){Object.keys(ce).forEach(lt=>{if(-1!==this.inputs.indexOf(lt)){const gt=lt.split(".").slice(1).join(".");this.setValue(ce[lt].currentValue,gt)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(ce=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),ce)}addStyles(ce,lt){const gt=this.styleBuilder,te=gt.shouldCache;let J=this.styleCache.get(ce);(!J||!te)&&(J=gt.buildStyles(ce,lt),te&&this.styleCache.set(ce,J)),this.mru={...J},this.applyStyleToElement(J),gt.sideEffect(ce,J,lt)}clearStyles(){Object.keys(this.mru).forEach(ce=>{this.mru[ce]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(ce,lt=!1){if(ce){const[gt,te]=this.styler.getFlowDirection(ce);if(!te&&lt){const J=(0,Ke.Ar)(gt);this.styler.applyStyleToElements(J,[ce])}return gt.trim()}return"row"}hasWrap(ce){return this.styler.hasWrap(ce)}applyStyleToElement(ce,lt,gt=this.nativeElement){this.styler.applyStyleToElement(gt,ce,lt)}setValue(ce,lt){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,ce,lt)}updateWithValue(ce){this.currentValue!==ce&&(this.addStyles(ce),this.currentValue=ce)}}return at.\u0275fac=function(ce){return new(ce||at)(c.Y36(c.SBq),c.Y36(tt),c.Y36(Le),c.Y36(Jt))},at.\u0275dir=c.lG2({type:at,features:[c.TTD]}),at})();function St(at,Vt="1",ce="1"){let lt=[Vt,ce,at],gt=at.indexOf("calc");if(gt>0){lt[2]=Pt(at.substring(gt).trim());let te=at.substr(0,gt).trim().split(" ");2==te.length&&(lt[0]=te[0],lt[1]=te[1])}else if(0==gt)lt[2]=Pt(at.trim());else{let te=at.split(" ");lt=3===te.length?te:[Vt,ce,at]}return lt}function Pt(at){return at.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Ln(at,Vt){if(void 0===Vt)return at;const ce=lt=>{const gt=+lt.slice(0,-"x".length);return at.endsWith("x")&&!isNaN(gt)?`${gt*Vt.value}${Vt.unit}`:at};return at.includes(" ")?at.split(" ").map(ce).join(" "):ce(at)}},5829:(ln,ht,w)=>{w.d(ht,{aT:()=>Bt,oO:()=>ze});var c=w(4650),y=w(2233),b=w(6895);w(1281),w(2722),w(1481);let He=(()=>{class Te extends y.iR{constructor(pt,Lt,Mt,zt,Ye,et,rt){super(pt,null,Lt,Mt),this.ngClassInstance=rt,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new b.mk(zt,Ye,pt,et)),this.init(),this.setValue("","")}set klass(pt){this.ngClassInstance.klass=pt,this.setValue(pt,"")}updateWithValue(pt){this.ngClassInstance.ngClass=pt,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return Te.\u0275fac=function(pt){return new(pt||Te)(c.Y36(c.SBq),c.Y36(y.RK),c.Y36(y.yB),c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.Qsj),c.Y36(b.mk,10))},Te.\u0275dir=c.lG2({type:Te,inputs:{klass:["class","klass"]},features:[c.qOj]}),Te})();const We=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let ze=(()=>{class Te extends He{constructor(){super(...arguments),this.inputs=We}}return Te.\u0275fac=function(){let Et;return function(Lt){return(Et||(Et=c.n5z(Te)))(Lt||Te)}}(),Te.\u0275dir=c.lG2({type:Te,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[c.qOj]}),Te})(),Bt=(()=>{class Te{}return Te.\u0275fac=function(pt){return new(pt||Te)},Te.\u0275mod=c.oAB({type:Te}),Te.\u0275inj=c.cJS({imports:[y.IR]}),Te})()},1576:(ln,ht,w)=>{w.d(ht,{Wh:()=>Pt,ae:()=>ee,xw:()=>me});var c=w(4650),y=w(445),b=w(2233),F=w(5863),Be=(w(7579),w(2722));let Ke=(()=>{class O extends b.QI{buildStyles(z,{display:fe}){const je=(0,F.Ar)(z);return{...je,display:"none"===fe?fe:je.display}}}return O.\u0275fac=function(){let K;return function(fe){return(K||(K=c.n5z(O)))(fe||O)}}(),O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Re=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ne=(()=>{class O extends b.iR{constructor(z,fe,je,Ft,cn){super(z,je,fe,Ft),this._config=cn,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(z){const je=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=he.get(je)??new Map,he.set(je,this.styleCache),this.currentValue!==z&&(this.addStyles(z,{display:je}),this.currentValue=z)}}return O.\u0275fac=function(z){return new(z||O)(c.Y36(c.SBq),c.Y36(b.RK),c.Y36(Ke),c.Y36(b.yB),c.Y36(b.WU))},O.\u0275dir=c.lG2({type:O,features:[c.qOj]}),O})(),me=(()=>{class O extends ne{constructor(){super(...arguments),this.inputs=Re}}return O.\u0275fac=function(){let K;return function(fe){return(K||(K=c.n5z(O)))(fe||O)}}(),O.\u0275dir=c.lG2({type:O,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),O})();const he=new Map;let Pe=(()=>{class O extends b.QI{buildStyles(z,fe){const je={},[Ft,cn]=z.split(" ");switch(Ft){case"center":je["justify-content"]="center";break;case"space-around":je["justify-content"]="space-around";break;case"space-between":je["justify-content"]="space-between";break;case"space-evenly":je["justify-content"]="space-evenly";break;case"end":case"flex-end":je["justify-content"]="flex-end";break;default:je["justify-content"]="flex-start"}switch(cn){case"start":case"flex-start":je["align-items"]=je["align-content"]="flex-start";break;case"center":je["align-items"]=je["align-content"]="center";break;case"end":case"flex-end":je["align-items"]=je["align-content"]="flex-end";break;case"space-between":je["align-content"]="space-between",je["align-items"]="stretch";break;case"space-around":je["align-content"]="space-around",je["align-items"]="stretch";break;case"baseline":je["align-content"]="stretch",je["align-items"]="baseline";break;default:je["align-items"]=je["align-content"]="stretch"}return(0,F.kt)(je,{display:fe.inline?"inline-flex":"flex","flex-direction":fe.layout,"box-sizing":"border-box","max-width":"stretch"===cn?(0,F.tj)(fe.layout)?null:"100%":null,"max-height":"stretch"===cn&&(0,F.tj)(fe.layout)?"100%":null})}}return O.\u0275fac=function(){let K;return function(fe){return(K||(K=c.n5z(O)))(fe||O)}}(),O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Fe=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let St=(()=>{class O extends b.iR{constructor(z,fe,je,Ft){super(z,je,fe,Ft),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Be.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(z){const fe=this.layout||"row",je=this.inline;"row"===fe&&je?this.styleCache=ce:"row"!==fe||je?"row-reverse"===fe&&je?this.styleCache=gt:"row-reverse"!==fe||je?"column"===fe&&je?this.styleCache=lt:"column"!==fe||je?"column-reverse"===fe&&je?this.styleCache=te:"column-reverse"===fe&&!je&&(this.styleCache=Vt):this.styleCache=Ln:this.styleCache=at:this.styleCache=gn,this.addStyles(z,{layout:fe,inline:je})}onLayoutChange(z){const fe=z.value.split(" ");this.layout=fe[0],this.inline=z.value.includes("inline"),F.iQ.find(je=>je===this.layout)||(this.layout="row"),this.triggerUpdate()}}return O.\u0275fac=function(z){return new(z||O)(c.Y36(c.SBq),c.Y36(b.RK),c.Y36(Pe),c.Y36(b.yB))},O.\u0275dir=c.lG2({type:O,features:[c.qOj]}),O})(),Pt=(()=>{class O extends St{constructor(){super(...arguments),this.inputs=Fe}}return O.\u0275fac=function(){let K;return function(fe){return(K||(K=c.n5z(O)))(fe||O)}}(),O.\u0275dir=c.lG2({type:O,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),O})();const gn=new Map,Ln=new Map,at=new Map,Vt=new Map,ce=new Map,lt=new Map,gt=new Map,te=new Map;let ee=(()=>{class O{}return O.\u0275fac=function(z){return new(z||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({imports:[b.IR,y.vT]}),O})()},9814:(ln,ht,w)=>{w.d(ht,{o9:()=>wt});var c=w(4650),y=w(2233),b=w(5829),F=w(1576);w(1281);let Ii=(()=>{class B{}return B.\u0275fac=function(Ve){return new(Ve||B)},B.\u0275mod=c.oAB({type:B}),B.\u0275inj=c.cJS({imports:[y.IR]}),B})();var wr=w(6895);let wt=(()=>{class B{constructor(Ve,Ct){(0,wr.PM)(Ct)&&!Ve&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(Ve,Ct=[]){return{ngModule:B,providers:Ve.serverLoaded?[{provide:y.WU,useValue:{...y.g5,...Ve}},{provide:y.Bs,useValue:Ct,multi:!0},{provide:y.wY,useValue:!0}]:[{provide:y.WU,useValue:{...y.g5,...Ve}},{provide:y.Bs,useValue:Ct,multi:!0}]}}}return B.\u0275fac=function(Ve){return new(Ve||B)(c.LFG(y.wY),c.LFG(c.Lbi))},B.\u0275mod=c.oAB({type:B}),B.\u0275inj=c.cJS({imports:[F.ae,b.aT,Ii,F.ae,b.aT,Ii]}),B})()},4006:(ln,ht,w)=>{w.d(ht,{Cf:()=>Ee,F:()=>Kr,Fj:()=>We,JJ:()=>Jt,JL:()=>ot,JU:()=>Re,On:()=>ms,Q7:()=>ao,UX:()=>Xs,Zs:()=>xs,_Y:()=>rn,a5:()=>Pn,kI:()=>tt,qu:()=>hi,sg:()=>rs,u:()=>Ls,u5:()=>il,wV:()=>is});var c=w(4650),y=w(6895),b=w(8996),F=w(4128),de=w(4004);let Be=(()=>{class X{constructor(V,ke){this._renderer=V,this._elementRef=ke,this.onChange=Xt=>{},this.onTouched=()=>{}}setProperty(V,ke){this._renderer.setProperty(this._elementRef.nativeElement,V,ke)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(c.Qsj),c.Y36(c.SBq))},X.\u0275dir=c.lG2({type:X}),X})(),Ke=(()=>{class X extends Be{}return X.\u0275fac=function(){let Y;return function(ke){return(Y||(Y=c.n5z(X)))(ke||X)}}(),X.\u0275dir=c.lG2({type:X,features:[c.qOj]}),X})();const Re=new c.OlP("NgValueAccessor"),me={provide:Re,useExisting:(0,c.Gpc)(()=>We),multi:!0},He=new c.OlP("CompositionEventMode");let We=(()=>{class X extends Be{constructor(V,ke,Xt){super(V,ke),this._compositionMode=Xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function he(){const X=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(X.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(He,8))},X.\u0275dir=c.lG2({type:X,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,ke){1&V&&c.NdJ("input",function(Yn){return ke._handleInput(Yn.target.value)})("blur",function(){return ke.onTouched()})("compositionstart",function(){return ke._compositionStart()})("compositionend",function(Yn){return ke._compositionEnd(Yn.target.value)})},features:[c._Bn([me]),c.qOj]}),X})();function ze(X){return null==X||("string"==typeof X||Array.isArray(X))&&0===X.length}function Se(X){return null!=X&&"number"==typeof X.length}const Ee=new c.OlP("NgValidators"),be=new c.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(Y){return function Le(X){return Y=>{if(ze(Y.value)||ze(X))return null;const V=parseFloat(Y.value);return!isNaN(V)&&V<X?{min:{min:X,actual:Y.value}}:null}}(Y)}static max(Y){return function xe(X){return Y=>{if(ze(Y.value)||ze(X))return null;const V=parseFloat(Y.value);return!isNaN(V)&&V>X?{max:{max:X,actual:Y.value}}:null}}(Y)}static required(Y){return Ne(Y)}static requiredTrue(Y){return se(Y)}static email(Y){return function oe(X){return ze(X.value)||dt.test(X.value)?null:{email:!0}}(Y)}static minLength(Y){return function Qe(X){return Y=>ze(Y.value)||!Se(Y.value)?null:Y.value.length<X?{minlength:{requiredLength:X,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function ae(X){return Y=>Se(Y.value)&&Y.value.length>X?{maxlength:{requiredLength:X,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function ue(X){if(!X)return Ce;let Y,V;return"string"==typeof X?(V="","^"!==X.charAt(0)&&(V+="^"),V+=X,"$"!==X.charAt(X.length-1)&&(V+="$"),Y=new RegExp(V)):(V=X.toString(),Y=X),ke=>{if(ze(ke.value))return null;const Xt=ke.value;return Y.test(Xt)?null:{pattern:{requiredPattern:V,actualValue:Xt}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return Te(Y)}static composeAsync(Y){return pt(Y)}}function Ne(X){return ze(X.value)?{required:!0}:null}function se(X){return!0===X.value?null:{required:!0}}function Ce(X){return null}function Je(X){return null!=X}function Ht(X){return(0,c.QGY)(X)?(0,b.D)(X):X}function jt(X){let Y={};return X.forEach(V=>{Y=null!=V?{...Y,...V}:Y}),0===Object.keys(Y).length?null:Y}function sn(X,Y){return Y.map(V=>V(X))}function Bt(X){return X.map(Y=>function on(X){return!X.validate}(Y)?Y:V=>Y.validate(V))}function Te(X){if(!X)return null;const Y=X.filter(Je);return 0==Y.length?null:function(V){return jt(sn(V,Y))}}function Et(X){return null!=X?Te(Bt(X)):null}function pt(X){if(!X)return null;const Y=X.filter(Je);return 0==Y.length?null:function(V){const ke=sn(V,Y).map(Ht);return(0,F.D)(ke).pipe((0,de.U)(jt))}}function Lt(X){return null!=X?pt(Bt(X)):null}function Mt(X,Y){return null===X?[Y]:Array.isArray(X)?[...X,Y]:[X,Y]}function zt(X){return X._rawValidators}function Ye(X){return X._rawAsyncValidators}function et(X){return X?Array.isArray(X)?X:[X]:[]}function rt(X,Y){return Array.isArray(X)?X.includes(Y):X===Y}function Dt(X,Y){const V=et(Y);return et(X).forEach(Xt=>{rt(V,Xt)||V.push(Xt)}),V}function Nt(X,Y){return et(Y).filter(V=>!rt(X,V))}class dn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y){this.control&&this.control.reset(Y)}hasError(Y,V){return!!this.control&&this.control.hasError(Y,V)}getError(Y,V){return this.control?this.control.getError(Y,V):null}}class Mn extends dn{get formDirective(){return null}get path(){return null}}class Pn extends dn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jt=(()=>{class X extends Fn{constructor(V){super(V)}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(Pn,2))},X.\u0275dir=c.lG2({type:X,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,ke){2&V&&c.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)},features:[c.qOj]}),X})(),ot=(()=>{class X extends Fn{constructor(V){super(V)}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(Mn,10))},X.\u0275dir=c.lG2({type:X,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,ke){2&V&&c.ekj("ng-untouched",ke.isUntouched)("ng-touched",ke.isTouched)("ng-pristine",ke.isPristine)("ng-dirty",ke.isDirty)("ng-valid",ke.isValid)("ng-invalid",ke.isInvalid)("ng-pending",ke.isPending)("ng-submitted",ke.isSubmitted)},features:[c.qOj]}),X})();const te="VALID",J="INVALID",ee="PENDING",O="DISABLED";function K(X){return(Ft(X)?X.validators:X)||null}function z(X){return Array.isArray(X)?Et(X):X||null}function fe(X,Y){return(Ft(Y)?Y.asyncValidators:X)||null}function je(X){return Array.isArray(X)?Lt(X):X||null}function Ft(X){return null!=X&&!Array.isArray(X)&&"object"==typeof X}function cn(X,Y,V){const ke=X.controls;if(!(Y?Object.keys(ke):ke).length)throw new c.vHH(1e3,"");if(!ke[V])throw new c.vHH(1001,"")}function mn(X,Y,V){X._forEachChild((ke,Xt)=>{if(void 0===V[Xt])throw new c.vHH(1002,"")})}class At{constructor(Y,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Y,this._rawAsyncValidators=V,this._composedValidatorFn=z(this._rawValidators),this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===te}get invalid(){return this.status===J}get pending(){return this.status==ee}get disabled(){return this.status===O}get enabled(){return this.status!==O}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._rawValidators=Y,this._composedValidatorFn=z(Y)}setAsyncValidators(Y){this._rawAsyncValidators=Y,this._composedAsyncValidatorFn=je(Y)}addValidators(Y){this.setValidators(Dt(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Dt(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(Nt(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(Nt(Y,this._rawAsyncValidators))}hasValidator(Y){return rt(this._rawValidators,Y)}hasAsyncValidator(Y){return rt(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=ee,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const V=this._parentMarkedDirty(Y.onlySelf);this.status=O,this.errors=null,this._forEachChild(ke=>{ke.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:V}),this._onDisabledChange.forEach(ke=>ke(!0))}enable(Y={}){const V=this._parentMarkedDirty(Y.onlySelf);this.status=te,this._forEachChild(ke=>{ke.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:V}),this._onDisabledChange.forEach(ke=>ke(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===te||this.status===ee)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O:te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator=!0;const V=Ht(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ke=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ke,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,V={}){this.errors=Y,this._updateControlsErrors(!1!==V.emitEvent)}get(Y){let V=Y;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ke,Xt)=>ke&&ke._find(Xt),this)}getError(Y,V){const ke=V?this.get(V):this;return ke&&ke.errors?ke.errors[Y]:null}hasError(Y,V){return!!this.getError(Y,V)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?O:this.errors?J:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(J)?J:te}_anyControlsHaveStatus(Y){return this._anyControls(V=>V.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){Ft(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}}class ut extends At{constructor(Y,V,ke){super(K(V),fe(ke,V)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,V){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(Y,V,ke={}){this.registerControl(Y,V),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}removeControl(Y,V={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(Y,V,ke={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],V&&this.registerControl(Y,V),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,V={}){mn(this,0,Y),Object.keys(Y).forEach(ke=>{cn(this,!0,ke),this.controls[ke].setValue(Y[ke],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(Y,V={}){null!=Y&&(Object.keys(Y).forEach(ke=>{const Xt=this.controls[ke];Xt&&Xt.patchValue(Y[ke],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(Y={},V={}){this._forEachChild((ke,Xt)=>{ke.reset(Y[Xt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(Y,V,ke)=>(Y[ke]=V.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(V,ke)=>!!ke._syncPendingControls()||V);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(V=>{const ke=this.controls[V];ke&&Y(ke,V)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[V,ke]of Object.entries(this.controls))if(this.contains(V)&&Y(ke))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ke,Xt)=>((ke.enabled||this.disabled)&&(V[Xt]=ke.value),V))}_reduceChildren(Y,V){let ke=Y;return this._forEachChild((Xt,Yn)=>{ke=V(ke,Xt,Yn)}),ke}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class wn extends ut{}function Gn(X,Y){return[...Y.path,X]}function Xe(X,Y){Gt(X,Y),Y.valueAccessor.writeValue(X.value),X.disabled&&Y.valueAccessor.setDisabledState?.(!0),function Vn(X,Y){Y.valueAccessor.registerOnChange(V=>{X._pendingValue=V,X._pendingChange=!0,X._pendingDirty=!0,"change"===X.updateOn&&Ii(X,Y)})}(X,Y),function wr(X,Y){const V=(ke,Xt)=>{Y.valueAccessor.writeValue(ke),Xt&&Y.viewToModelUpdate(ke)};X.registerOnChange(V),Y._registerOnDestroy(()=>{X._unregisterOnChange(V)})}(X,Y),function ii(X,Y){Y.valueAccessor.registerOnTouched(()=>{X._pendingTouched=!0,"blur"===X.updateOn&&X._pendingChange&&Ii(X,Y),"submit"!==X.updateOn&&X.markAsTouched()})}(X,Y),function It(X,Y){if(Y.valueAccessor.setDisabledState){const V=ke=>{Y.valueAccessor.setDisabledState(ke)};X.registerOnDisabledChange(V),Y._registerOnDestroy(()=>{X._unregisterOnDisabledChange(V)})}}(X,Y)}function it(X,Y,V=!0){const ke=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(ke),Y.valueAccessor.registerOnTouched(ke)),xn(X,Y),X&&(Y._invokeOnDestroyCallbacks(),X._registerOnCollectionChange(()=>{}))}function $e(X,Y){X.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(Y)})}function Gt(X,Y){const V=zt(X);null!==Y.validator?X.setValidators(Mt(V,Y.validator)):"function"==typeof V&&X.setValidators([V]);const ke=Ye(X);null!==Y.asyncValidator?X.setAsyncValidators(Mt(ke,Y.asyncValidator)):"function"==typeof ke&&X.setAsyncValidators([ke]);const Xt=()=>X.updateValueAndValidity();$e(Y._rawValidators,Xt),$e(Y._rawAsyncValidators,Xt)}function xn(X,Y){let V=!1;if(null!==X){if(null!==Y.validator){const Xt=zt(X);if(Array.isArray(Xt)&&Xt.length>0){const Yn=Xt.filter(Ji=>Ji!==Y.validator);Yn.length!==Xt.length&&(V=!0,X.setValidators(Yn))}}if(null!==Y.asyncValidator){const Xt=Ye(X);if(Array.isArray(Xt)&&Xt.length>0){const Yn=Xt.filter(Ji=>Ji!==Y.asyncValidator);Yn.length!==Xt.length&&(V=!0,X.setAsyncValidators(Yn))}}}const ke=()=>{};return $e(Y._rawValidators,ke),$e(Y._rawAsyncValidators,ke),V}function Ii(X,Y){X._pendingDirty&&X.markAsDirty(),X.setValue(X._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(X._pendingValue),X._pendingChange=!1}function pe(X,Y){Gt(X,Y)}function un(X,Y){if(!X.hasOwnProperty("model"))return!1;const V=X.model;return!!V.isFirstChange()||!Object.is(Y,V.currentValue)}function Qn(X,Y){X._syncPendingControls(),Y.forEach(V=>{const ke=V.control;"submit"===ke.updateOn&&ke._pendingChange&&(V.viewToModelUpdate(ke._pendingValue),ke._pendingChange=!1)})}function mi(X,Y){if(!Y)return null;let V,ke,Xt;return Array.isArray(Y),Y.forEach(Yn=>{Yn.constructor===We?V=Yn:function vn(X){return Object.getPrototypeOf(X.constructor)===Ke}(Yn)?ke=Yn:Xt=Yn}),Xt||ke||V||null}const qi={provide:Mn,useExisting:(0,c.Gpc)(()=>Kr)},Ki=(()=>Promise.resolve(null))();let Kr=(()=>{class X extends Mn{constructor(V,ke){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ut({},Et(V),Lt(ke))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Ki.then(()=>{const ke=this._findContainer(V.path);V.control=ke.registerControl(V.name,V.control),Xe(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Ki.then(()=>{const ke=this._findContainer(V.path);ke&&ke.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Ki.then(()=>{const ke=this._findContainer(V.path),Xt=new ut({});pe(Xt,V),ke.registerControl(V.name,Xt),Xt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Ki.then(()=>{const ke=this._findContainer(V.path);ke&&ke.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ke){Ki.then(()=>{this.form.get(V.path).setValue(ke)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,Qn(this.form,this._directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(Ee,10),c.Y36(be,10))},X.\u0275dir=c.lG2({type:X,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,ke){1&V&&c.NdJ("submit",function(Yn){return ke.onSubmit(Yn)})("reset",function(){return ke.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([qi]),c.qOj]}),X})();function dr(X,Y){const V=X.indexOf(Y);V>-1&&X.splice(V,1)}function Li(X){return"object"==typeof X&&null!==X&&2===Object.keys(X).length&&"value"in X&&"disabled"in X}const Qi=class extends At{constructor(Y=null,V,ke){super(K(V),fe(ke,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Li(Y)?Y.value:Y)}setValue(Y,V={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ke=>ke(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(Y,V={}){this.setValue(Y,V)}reset(Y=this.defaultValue,V={}){this._applyFormState(Y),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){dr(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){dr(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){Li(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}},Bo={provide:Pn,useExisting:(0,c.Gpc)(()=>ms)},nl=(()=>Promise.resolve(null))();let ms=(()=>{class X extends Pn{constructor(V,ke,Xt,Yn,Ji){super(),this._changeDetectorRef=Ji,this.control=new Qi,this._registered=!1,this.update=new c.vpe,this._parent=V,this._setValidators(ke),this._setAsyncValidators(Xt),this.valueAccessor=mi(0,Yn)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ke=V.name.previousValue;this.formDirective.removeControl({name:ke,path:this._getPath(ke)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),un(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){nl.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ke=V.isDisabled.currentValue,Xt=0!==ke&&(0,c.D6c)(ke);nl.then(()=>{Xt&&!this.control.disabled?this.control.disable():!Xt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Gn(V,this._parent):[V]}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(Mn,9),c.Y36(Ee,10),c.Y36(be,10),c.Y36(Re,10),c.Y36(c.sBO,8))},X.\u0275dir=c.lG2({type:X,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Bo]),c.qOj,c.TTD]}),X})(),rn=(()=>{class X{}return X.\u0275fac=function(V){return new(V||X)},X.\u0275dir=c.lG2({type:X,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),X})();const Cr={provide:Re,useExisting:(0,c.Gpc)(()=>is),multi:!0};let is=(()=>{class X extends Ke{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=ke=>{V(""==ke?null:parseFloat(ke))}}}return X.\u0275fac=function(){let Y;return function(ke){return(Y||(Y=c.n5z(X)))(ke||X)}}(),X.\u0275dir=c.lG2({type:X,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,ke){1&V&&c.NdJ("input",function(Yn){return ke.onChange(Yn.target.value)})("blur",function(){return ke.onTouched()})},features:[c._Bn([Cr]),c.qOj]}),X})(),Zt=(()=>{class X{}return X.\u0275fac=function(V){return new(V||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({}),X})();const Dr=new c.OlP("NgModelWithFormControlWarning"),Zr={provide:Mn,useExisting:(0,c.Gpc)(()=>rs)};let rs=(()=>{class X extends Mn{constructor(V,ke){super(),this.validators=V,this.asyncValidators=ke,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(V),this._setAsyncValidators(ke)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ke=this.form.get(V.path);return Xe(ke,V),ke.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ke}getControl(V){return this.form.get(V.path)}removeControl(V){it(V.control||null,V,!1),function Ci(X,Y){const V=X.indexOf(Y);V>-1&&X.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ke){this.form.get(V.path).setValue(ke)}onSubmit(V){return this.submitted=!0,Qn(this.form,this.directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ke=V.control,Xt=this.form.get(V.path);ke!==Xt&&(it(ke||null,V),(X=>X instanceof Qi)(Xt)&&(Xe(Xt,V),V.control=Xt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ke=this.form.get(V.path);pe(ke,V),ke.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ke=this.form.get(V.path);ke&&function wt(X,Y){return xn(X,Y)}(ke,V)&&ke.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gt(this.form,this),this._oldForm&&xn(this._oldForm,this)}_checkFormPresent(){}}return X.\u0275fac=function(V){return new(V||X)(c.Y36(Ee,10),c.Y36(be,10))},X.\u0275dir=c.lG2({type:X,selectors:[["","formGroup",""]],hostBindings:function(V,ke){1&V&&c.NdJ("submit",function(Yn){return ke.onSubmit(Yn)})("reset",function(){return ke.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Zr]),c.qOj,c.TTD]}),X})();const Vr={provide:Pn,useExisting:(0,c.Gpc)(()=>Ls)};let Ls=(()=>{class X extends Pn{constructor(V,ke,Xt,Yn,Ji){super(),this._ngModelWarningConfig=Ji,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ke),this._setAsyncValidators(Xt),this.valueAccessor=mi(0,Yn)}set isDisabled(V){}ngOnChanges(V){this._added||this._setUpControl(),un(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Gn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return X._ngModelWarningSentOnce=!1,X.\u0275fac=function(V){return new(V||X)(c.Y36(Mn,13),c.Y36(Ee,10),c.Y36(be,10),c.Y36(Re,10),c.Y36(Dr,8))},X.\u0275dir=c.lG2({type:X,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Vr]),c.qOj,c.TTD]}),X})(),Ks=(()=>{class X{constructor(){this._validator=Ce}ngOnChanges(V){if(this.inputName in V){const ke=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ke),this._validator=this._enabled?this.createValidator(ke):Ce,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return X.\u0275fac=function(V){return new(V||X)},X.\u0275dir=c.lG2({type:X,features:[c.TTD]}),X})();const Si={provide:Ee,useExisting:(0,c.Gpc)(()=>ao),multi:!0},Gr={provide:Ee,useExisting:(0,c.Gpc)(()=>xs),multi:!0};let ao=(()=>{class X extends Ks{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=V=>Ne}enabled(V){return V}}return X.\u0275fac=function(){let Y;return function(ke){return(Y||(Y=c.n5z(X)))(ke||X)}}(),X.\u0275dir=c.lG2({type:X,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,ke){2&V&&c.uIk("required",ke._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Si]),c.qOj]}),X})(),xs=(()=>{class X extends ao{constructor(){super(...arguments),this.createValidator=V=>se}}return X.\u0275fac=function(){let Y;return function(ke){return(Y||(Y=c.n5z(X)))(ke||X)}}(),X.\u0275dir=c.lG2({type:X,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(V,ke){2&V&&c.uIk("required",ke._enabled?"":null)},features:[c._Bn([Gr]),c.qOj]}),X})(),Qs=(()=>{class X{}return X.\u0275fac=function(V){return new(V||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({imports:[Zt]}),X})(),il=(()=>{class X{}return X.\u0275fac=function(V){return new(V||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({imports:[Qs]}),X})(),Xs=(()=>{class X{static withConfig(V){return{ngModule:X,providers:[{provide:Dr,useValue:V.warnOnNgModelWithFormControl}]}}}return X.\u0275fac=function(V){return new(V||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({imports:[Qs]}),X})();class Ms extends At{constructor(Y,V,ke){super(K(V),fe(ke,V)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,V={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(Y,V,ke={}){this.controls.splice(Y,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ke.emitEvent})}removeAt(Y,V={}){let ke=this._adjustIndex(Y);ke<0&&(ke=0),this.controls[ke]&&this.controls[ke]._registerOnCollectionChange(()=>{}),this.controls.splice(ke,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(Y,V,ke={}){let Xt=this._adjustIndex(Y);Xt<0&&(Xt=0),this.controls[Xt]&&this.controls[Xt]._registerOnCollectionChange(()=>{}),this.controls.splice(Xt,1),V&&(this.controls.splice(Xt,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ke.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,V={}){mn(this,0,Y),Y.forEach((ke,Xt)=>{cn(this,!1,Xt),this.at(Xt).setValue(ke,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(Y,V={}){null!=Y&&(Y.forEach((ke,Xt)=>{this.at(Xt)&&this.at(Xt).patchValue(ke,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(Y=[],V={}){this._forEachChild((ke,Xt)=>{ke.reset(Y[Xt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((V,ke)=>!!ke._syncPendingControls()||V,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((V,ke)=>{Y(V,ke)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(V=>V.enabled&&Y(V))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function fn(X){return!!X&&(void 0!==X.asyncValidators||void 0!==X.validators||void 0!==X.updateOn)}let hi=(()=>{class X{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new X;return V.useNonNullable=!0,V}group(V,ke=null){const Xt=this._reduceControls(V);let Yn={};return fn(ke)?Yn=ke:null!==ke&&(Yn.validators=ke.validator,Yn.asyncValidators=ke.asyncValidator),new ut(Xt,Yn)}record(V,ke=null){const Xt=this._reduceControls(V);return new wn(Xt,ke)}control(V,ke,Xt){let Yn={};return this.useNonNullable?(fn(ke)?Yn=ke:(Yn.validators=ke,Yn.asyncValidators=Xt),new Qi(V,{...Yn,nonNullable:!0})):new Qi(V,ke,Xt)}array(V,ke,Xt){const Yn=V.map(Ji=>this._createControl(Ji));return new Ms(Yn,ke,Xt)}_reduceControls(V){const ke={};return Object.keys(V).forEach(Xt=>{ke[Xt]=this._createControl(V[Xt])}),ke}_createControl(V){return V instanceof Qi||V instanceof At?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return X.\u0275fac=function(V){return new(V||X)},X.\u0275prov=c.Yz7({token:X,factory:X.\u0275fac,providedIn:Xs}),X})()},4859:(ln,ht,w)=>{w.d(ht,{lW:()=>ne,ot:()=>he,zs:()=>me});var c=w(4650),y=w(3238),b=w(2687);const F=["mat-button",""],de=["*"],Re=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],S=(0,y.pj)((0,y.Id)((0,y.Kr)(class{constructor(He){this._elementRef=He}})));let ne=(()=>{class He extends S{constructor(Me,ze,Se){super(Me),this._focusMonitor=ze,this._animationMode=Se,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Ee of Re)this._hasHostAttributes(Ee)&&this._getHostElement().classList.add(Ee);Me.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Me,ze){Me?this._focusMonitor.focusVia(this._getHostElement(),Me,ze):this._getHostElement().focus(ze)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Me){return Me.some(ze=>this._getHostElement().hasAttribute(ze))}}return He.\u0275fac=function(Me){return new(Me||He)(c.Y36(c.SBq),c.Y36(b.tE),c.Y36(c.QbO,8))},He.\u0275cmp=c.Xpm({type:He,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Me,ze){if(1&Me&&c.Gf(y.wG,5),2&Me){let Se;c.iGM(Se=c.CRH())&&(ze.ripple=Se.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Me,ze){2&Me&&(c.uIk("disabled",ze.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===ze._animationMode)("mat-button-disabled",ze.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:F,ngContentSelectors:de,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Me,ze){1&Me&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&Me&&(c.xp6(2),c.ekj("mat-button-ripple-round",ze.isRoundButton||ze.isIconButton),c.Q6J("matRippleDisabled",ze._isRippleDisabled())("matRippleCentered",ze.isIconButton)("matRippleTrigger",ze._getHostElement()))},dependencies:[y.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),He})(),me=(()=>{class He extends ne{constructor(Me,ze,Se,Ee){super(ze,Me,Se),this._ngZone=Ee,this._haltDisabledEvents=be=>{this.disabled&&(be.preventDefault(),be.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return He.\u0275fac=function(Me){return new(Me||He)(c.Y36(b.tE),c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(c.R0b,8))},He.\u0275cmp=c.Xpm({type:He,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(Me,ze){2&Me&&(c.uIk("tabindex",ze.disabled?-1:ze.tabIndex)("disabled",ze.disabled||null)("aria-disabled",ze.disabled.toString()),c.ekj("_mat-animation-noopable","NoopAnimations"===ze._animationMode)("mat-button-disabled",ze.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[c.qOj],attrs:F,ngContentSelectors:de,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Me,ze){1&Me&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&Me&&(c.xp6(2),c.ekj("mat-button-ripple-round",ze.isRoundButton||ze.isIconButton),c.Q6J("matRippleDisabled",ze._isRippleDisabled())("matRippleCentered",ze.isIconButton)("matRippleTrigger",ze._getHostElement()))},dependencies:[y.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),He})(),he=(()=>{class He{}return He.\u0275fac=function(Me){return new(Me||He)},He.\u0275mod=c.oAB({type:He}),He.\u0275inj=c.cJS({imports:[y.si,y.BQ,y.BQ]}),He})()},3546:(ln,ht,w)=>{w.d(ht,{$j:()=>me,C1:()=>Le,QW:()=>xe,a8:()=>dt,dk:()=>tt,dn:()=>S,hq:()=>he,n5:()=>ne,o5:()=>Ee});var c=w(4650),y=w(3238);const b=["*",[["mat-card-footer"]]],F=["*","mat-card-footer"],de=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Be=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Ke=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Re=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let S=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275dir=c.lG2({type:Ne,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Ne})(),ne=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275dir=c.lG2({type:Ne,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Ne})(),me=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275dir=c.lG2({type:Ne,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),Ne})(),he=(()=>{class Ne{constructor(){this.align="start"}}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275dir=c.lG2({type:Ne,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(oe,Qe){2&oe&&c.ekj("mat-card-actions-align-end","end"===Qe.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Ne})(),Ee=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275dir=c.lG2({type:Ne,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]}),Ne})(),dt=(()=>{class Ne{constructor(oe){this._animationMode=oe}}return Ne.\u0275fac=function(oe){return new(oe||Ne)(c.Y36(c.QbO,8))},Ne.\u0275cmp=c.Xpm({type:Ne,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(oe,Qe){2&oe&&c.ekj("_mat-animation-noopable","NoopAnimations"===Qe._animationMode)},exportAs:["matCard"],ngContentSelectors:F,decls:2,vars:0,template:function(oe,Qe){1&oe&&(c.F$t(b),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Ne})(),tt=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275cmp=c.Xpm({type:Ne,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Be,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(oe,Qe){1&oe&&(c.F$t(de),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ne})(),Le=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275cmp=c.Xpm({type:Ne,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Re,decls:4,vars:0,template:function(oe,Qe){1&oe&&(c.F$t(Ke),c.TgZ(0,"div"),c.Hsn(1),c.qZA(),c.Hsn(2,1),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ne})(),xe=(()=>{class Ne{}return Ne.\u0275fac=function(oe){return new(oe||Ne)},Ne.\u0275mod=c.oAB({type:Ne}),Ne.\u0275inj=c.cJS({imports:[y.BQ,y.BQ]}),Ne})()},3238:(ln,ht,w)=>{w.d(ht,{yN:()=>Ee,mZ:()=>be,_A:()=>sn,rD:()=>Ye,sG:()=>on,K7:()=>St,HF:()=>Ge,Y2:()=>ge,BQ:()=>Le,X2:()=>et,uc:()=>Nt,ey:()=>Vt,Ng:()=>gt,rN:()=>Ln,nP:()=>De,us:()=>mt,wG:()=>P,si:()=>$,IR:()=>Jt,CB:()=>ce,jH:()=>lt,pj:()=>Qe,Kr:()=>ae,Id:()=>oe,FD:()=>Ce,dB:()=>Je,sb:()=>ue,E0:()=>rt});var c=w(4650),y=w(2687),b=w(445),de=w(6895),Be=w(3353),Ke=w(1281),Re=w(9751),S=w(7579),ne=w(8675),me=w(9521);function We(te,J){if(1&te&&c._UZ(0,"mat-pseudo-checkbox",4),2&te){const ee=c.oxw();c.Q6J("state",ee.selected?"checked":"unchecked")("disabled",ee.disabled)}}function Me(te,J){if(1&te&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&te){const ee=c.oxw();c.xp6(1),c.hij("(",ee.group.label,")")}}const ze=["*"];let Ee=(()=>{class te{}return te.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",te.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",te.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",te.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",te})(),be=(()=>{class te{}return te.COMPLEX="375ms",te.ENTERING="225ms",te.EXITING="195ms",te})();const tt=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function dt(){return!0}});let Le=(()=>{class te{constructor(ee,O,K){this._sanityChecks=O,this._document=K,this._hasDoneGlobalChecks=!1,ee._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ee){return!(0,Be.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ee])}}return te.\u0275fac=function(ee){return new(ee||te)(c.LFG(y.qm),c.LFG(tt,8),c.LFG(de.K0))},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({imports:[b.vT,b.vT]}),te})();function oe(te){return class extends te{constructor(...J){super(...J),this._disabled=!1}get disabled(){return this._disabled}set disabled(J){this._disabled=(0,Ke.Ig)(J)}}}function Qe(te,J){return class extends te{constructor(...ee){super(...ee),this.defaultColor=J,this.color=J}get color(){return this._color}set color(ee){const O=ee||this.defaultColor;O!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),O&&this._elementRef.nativeElement.classList.add(`mat-${O}`),this._color=O)}}}function ae(te){return class extends te{constructor(...J){super(...J),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(J){this._disableRipple=(0,Ke.Ig)(J)}}}function ue(te,J=0){return class extends te{constructor(...ee){super(...ee),this._tabIndex=J,this.defaultTabIndex=J}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ee){this._tabIndex=null!=ee?(0,Ke.su)(ee):this.defaultTabIndex}}}function Ce(te){return class extends te{constructor(...J){super(...J),this.errorState=!1}updateErrorState(){const J=this.errorState,z=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);z!==J&&(this.errorState=z,this.stateChanges.next())}}}function Je(te){return class extends te{constructor(...J){super(...J),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Re.y(ee=>{this._isInitialized?this._notifySubscriber(ee):this._pendingSubscribers.push(ee)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(J){J.next(),J.complete()}}}class sn{constructor(){this._localeChanges=new S.x,this.localeChanges=this._localeChanges}getValidDateOrNull(J){return this.isDateInstance(J)&&this.isValid(J)?J:null}deserialize(J){return null==J||this.isDateInstance(J)&&this.isValid(J)?J:this.invalid()}setLocale(J){this.locale=J,this._localeChanges.next()}compareDate(J,ee){return this.getYear(J)-this.getYear(ee)||this.getMonth(J)-this.getMonth(ee)||this.getDate(J)-this.getDate(ee)}sameDate(J,ee){if(J&&ee){let O=this.isValid(J),K=this.isValid(ee);return O&&K?!this.compareDate(J,ee):O==K}return J==ee}clampDate(J,ee,O){return ee&&this.compareDate(J,ee)<0?ee:O&&this.compareDate(J,O)>0?O:J}}const on=new c.OlP("mat-date-formats");let Ye=(()=>{class te{isErrorState(ee,O){return!!(ee&&ee.invalid&&(ee.touched||O&&O.submitted))}}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275prov=c.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),et=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275dir=c.lG2({type:te,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),te})();function rt(te,J,ee="mat"){te.changes.pipe((0,ne.O)(te)).subscribe(({length:O})=>{Dt(J,`${ee}-2-line`,!1),Dt(J,`${ee}-3-line`,!1),Dt(J,`${ee}-multi-line`,!1),2===O||3===O?Dt(J,`${ee}-${O}-line`,!0):O>3&&Dt(J,`${ee}-multi-line`,!0)})}function Dt(te,J,ee){te.nativeElement.classList.toggle(J,ee)}let Nt=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({imports:[Le,Le]}),te})();class dn{constructor(J,ee,O,K=!1){this._renderer=J,this.element=ee,this.config=O,this._animationForciblyDisabledThroughCss=K,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mn={enterDuration:225,exitDuration:150},Fn=(0,Be.i$)({passive:!0}),Bn=["mousedown","touchstart"],En=["mouseup","mouseleave","touchend","touchcancel"];class Jt{constructor(J,ee,O,K){this._target=J,this._ngZone=ee,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,K.isBrowser&&(this._containerElement=(0,Ke.fI)(O))}fadeInRipple(J,ee,O={}){const K=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),z={...Mn,...O.animation};O.centered&&(J=K.left+K.width/2,ee=K.top+K.height/2);const fe=O.radius||function ot(te,J,ee){const O=Math.max(Math.abs(te-ee.left),Math.abs(te-ee.right)),K=Math.max(Math.abs(J-ee.top),Math.abs(J-ee.bottom));return Math.sqrt(O*O+K*K)}(J,ee,K),je=J-K.left,Ft=ee-K.top,cn=z.enterDuration,mn=document.createElement("div");mn.classList.add("mat-ripple-element"),mn.style.left=je-fe+"px",mn.style.top=Ft-fe+"px",mn.style.height=2*fe+"px",mn.style.width=2*fe+"px",null!=O.color&&(mn.style.backgroundColor=O.color),mn.style.transitionDuration=`${cn}ms`,this._containerElement.appendChild(mn);const At=window.getComputedStyle(mn),yt=At.transitionDuration,Yt="none"===At.transitionProperty||"0s"===yt||"0s, 0s"===yt,wn=new dn(this,mn,O,Yt);mn.style.transform="scale3d(1, 1, 1)",wn.state=0,O.persistent||(this._mostRecentTransientRipple=wn);let $n=null;return!Yt&&(cn||z.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Gn=()=>this._finishRippleTransition(wn),Xe=()=>this._destroyRipple(wn);mn.addEventListener("transitionend",Gn),mn.addEventListener("transitioncancel",Xe),$n={onTransitionEnd:Gn,onTransitionCancel:Xe}}),this._activeRipples.set(wn,$n),(Yt||!cn)&&this._finishRippleTransition(wn),wn}fadeOutRipple(J){if(2===J.state||3===J.state)return;const ee=J.element,O={...Mn,...J.config.animation};ee.style.transitionDuration=`${O.exitDuration}ms`,ee.style.opacity="0",J.state=2,(J._animationForciblyDisabledThroughCss||!O.exitDuration)&&this._finishRippleTransition(J)}fadeOutAll(){this._getActiveRipples().forEach(J=>J.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(J=>{J.config.persistent||J.fadeOut()})}setupTriggerEvents(J){const ee=(0,Ke.fI)(J);!ee||ee===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ee,this._registerEvents(Bn))}handleEvent(J){"mousedown"===J.type?this._onMousedown(J):"touchstart"===J.type?this._onTouchStart(J):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(En),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(J){0===J.state?this._startFadeOutTransition(J):2===J.state&&this._destroyRipple(J)}_startFadeOutTransition(J){const ee=J===this._mostRecentTransientRipple,{persistent:O}=J.config;J.state=1,!O&&(!ee||!this._isPointerDown)&&J.fadeOut()}_destroyRipple(J){const ee=this._activeRipples.get(J)??null;this._activeRipples.delete(J),this._activeRipples.size||(this._containerRect=null),J===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),J.state=3,null!==ee&&(J.element.removeEventListener("transitionend",ee.onTransitionEnd),J.element.removeEventListener("transitioncancel",ee.onTransitionCancel)),J.element.remove()}_onMousedown(J){const ee=(0,y.X6)(J),O=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ee&&!O&&(this._isPointerDown=!0,this.fadeInRipple(J.clientX,J.clientY,this._target.rippleConfig))}_onTouchStart(J){if(!this._target.rippleDisabled&&!(0,y.yG)(J)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ee=J.changedTouches;for(let O=0;O<ee.length;O++)this.fadeInRipple(ee[O].clientX,ee[O].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(J=>{!J.config.persistent&&(1===J.state||J.config.terminateOnPointerUp&&0===J.state)&&J.fadeOut()}))}_registerEvents(J){this._ngZone.runOutsideAngular(()=>{J.forEach(ee=>{this._triggerElement.addEventListener(ee,this,Fn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Bn.forEach(J=>{this._triggerElement.removeEventListener(J,this,Fn)}),this._pointerUpEventsRegistered&&En.forEach(J=>{this._triggerElement.removeEventListener(J,this,Fn)}))}}const ge=new c.OlP("mat-ripple-global-options");let P=(()=>{class te{constructor(ee,O,K,z,fe){this._elementRef=ee,this._animationMode=fe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=z||{},this._rippleRenderer=new Jt(this,O,ee,K)}get disabled(){return this._disabled}set disabled(ee){ee&&this.fadeOutAllNonPersistent(),this._disabled=ee,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ee){this._trigger=ee,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ee,O=0,K){return"number"==typeof ee?this._rippleRenderer.fadeInRipple(ee,O,{...this.rippleConfig,...K}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ee})}}return te.\u0275fac=function(ee){return new(ee||te)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Be.t4),c.Y36(ge,8),c.Y36(c.QbO,8))},te.\u0275dir=c.lG2({type:te,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ee,O){2&ee&&c.ekj("mat-ripple-unbounded",O.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),te})(),$=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({imports:[Le,Le]}),te})(),De=(()=>{class te{constructor(ee){this._animationMode=ee,this.state="unchecked",this.disabled=!1}}return te.\u0275fac=function(ee){return new(ee||te)(c.Y36(c.QbO,8))},te.\u0275cmp=c.Xpm({type:te,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(ee,O){2&ee&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===O.state)("mat-pseudo-checkbox-checked","checked"===O.state)("mat-pseudo-checkbox-disabled",O.disabled)("_mat-animation-noopable","NoopAnimations"===O._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(ee,O){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),te})(),mt=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({imports:[Le]}),te})();const Ge=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),St=new c.OlP("MatOptgroup");let gn=0;class Ln{constructor(J,ee=!1){this.source=J,this.isUserInput=ee}}let at=(()=>{class te{constructor(ee,O,K,z){this._element=ee,this._changeDetectorRef=O,this._parent=K,this.group=z,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gn++,this.onSelectionChange=new c.vpe,this._stateChanges=new S.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ee){this._disabled=(0,Ke.Ig)(ee)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(ee,O){const K=this._getHostElement();"function"==typeof K.focus&&K.focus(O)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ee){(ee.keyCode===me.K5||ee.keyCode===me.L_)&&!(0,me.Vb)(ee)&&(this._selectViaInteraction(),ee.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ee=this.viewValue;ee!==this._mostRecentViewValue&&(this._mostRecentViewValue=ee,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ee=!1){this.onSelectionChange.emit(new Ln(this,ee))}}return te.\u0275fac=function(ee){c.$Z()},te.\u0275dir=c.lG2({type:te,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),te})(),Vt=(()=>{class te extends at{constructor(ee,O,K,z){super(ee,O,K,z)}}return te.\u0275fac=function(ee){return new(ee||te)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Ge,8),c.Y36(St,8))},te.\u0275cmp=c.Xpm({type:te,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(ee,O){1&ee&&c.NdJ("click",function(){return O._selectViaInteraction()})("keydown",function(z){return O._handleKeydown(z)}),2&ee&&(c.Ikx("id",O.id),c.uIk("tabindex",O._getTabIndex())("aria-selected",O._getAriaSelected())("aria-disabled",O.disabled.toString()),c.ekj("mat-selected",O.selected)("mat-option-multiple",O.multiple)("mat-active",O.active)("mat-option-disabled",O.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:ze,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(ee,O){1&ee&&(c.F$t(),c.YNc(0,We,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,Me,2,1,"span",2),c._UZ(4,"div",3)),2&ee&&(c.Q6J("ngIf",O.multiple),c.xp6(3),c.Q6J("ngIf",O.group&&O.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",O._getHostElement())("matRippleDisabled",O.disabled||O.disableRipple))},dependencies:[P,de.O5,De],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),te})();function ce(te,J,ee){if(ee.length){let O=J.toArray(),K=ee.toArray(),z=0;for(let fe=0;fe<te+1;fe++)O[fe].group&&O[fe].group===K[z]&&z++;return z}return 0}function lt(te,J,ee,O){return te<ee?te:te+J>ee+O?Math.max(0,te-O+J):ee}let gt=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({imports:[$,de.ez,Le,mt]}),te})()},9549:(ln,ht,w)=>{w.d(ht,{Eo:()=>on,G_:()=>En,KE:()=>Jt,R9:()=>Nt,TO:()=>jt,bx:()=>Mt,hX:()=>zt,lN:()=>ot});var c=w(9643),y=w(6895),b=w(4650),F=w(3238),de=w(445),Be=w(1281),Ke=w(7579),Re=w(6451),S=w(4968),ne=w(8675),me=w(2722),he=w(5698),He=w(7340),We=w(3353);const Me=["connectionContainer"],ze=["inputContainer"],Se=["label"];function Ee(ge,P){1&ge&&(b.ynx(0),b.TgZ(1,"div",14),b._UZ(2,"div",15)(3,"div",16)(4,"div",17),b.qZA(),b.TgZ(5,"div",18),b._UZ(6,"div",15)(7,"div",16)(8,"div",17),b.qZA(),b.BQk())}function be(ge,P){if(1&ge){const $=b.EpF();b.TgZ(0,"div",19),b.NdJ("cdkObserveContent",function(){b.CHM($);const mt=b.oxw();return b.KtG(mt.updateOutlineGap())}),b.Hsn(1,1),b.qZA()}if(2&ge){const $=b.oxw();b.Q6J("cdkObserveContentDisabled","outline"!=$.appearance)}}function dt(ge,P){if(1&ge&&(b.ynx(0),b.Hsn(1,2),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.BQk()),2&ge){const $=b.oxw(2);b.xp6(3),b.Oqu($._control.placeholder)}}function tt(ge,P){1&ge&&b.Hsn(0,3,["*ngSwitchCase","true"])}function Le(ge,P){1&ge&&(b.TgZ(0,"span",23),b._uU(1," *"),b.qZA())}function xe(ge,P){if(1&ge){const $=b.EpF();b.TgZ(0,"label",20,21),b.NdJ("cdkObserveContent",function(){b.CHM($);const mt=b.oxw();return b.KtG(mt.updateOutlineGap())}),b.YNc(2,dt,4,1,"ng-container",12),b.YNc(3,tt,1,0,"ng-content",12),b.YNc(4,Le,2,0,"span",22),b.qZA()}if(2&ge){const $=b.oxw();b.ekj("mat-empty",$._control.empty&&!$._shouldAlwaysFloat())("mat-form-field-empty",$._control.empty&&!$._shouldAlwaysFloat())("mat-accent","accent"==$.color)("mat-warn","warn"==$.color),b.Q6J("cdkObserveContentDisabled","outline"!=$.appearance)("id",$._labelId)("ngSwitch",$._hasLabel()),b.uIk("for",$._control.id)("aria-owns",$._control.id),b.xp6(2),b.Q6J("ngSwitchCase",!1),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngIf",!$.hideRequiredMarker&&$._control.required&&!$._control.disabled)}}function Ne(ge,P){1&ge&&(b.TgZ(0,"div",24),b.Hsn(1,4),b.qZA())}function se(ge,P){if(1&ge&&(b.TgZ(0,"div",25),b._UZ(1,"span",26),b.qZA()),2&ge){const $=b.oxw();b.xp6(1),b.ekj("mat-accent","accent"==$.color)("mat-warn","warn"==$.color)}}function oe(ge,P){if(1&ge&&(b.TgZ(0,"div"),b.Hsn(1,5),b.qZA()),2&ge){const $=b.oxw();b.Q6J("@transitionMessages",$._subscriptAnimationState)}}function Qe(ge,P){if(1&ge&&(b.TgZ(0,"div",30),b._uU(1),b.qZA()),2&ge){const $=b.oxw(2);b.Q6J("id",$._hintLabelId),b.xp6(1),b.Oqu($.hintLabel)}}function ae(ge,P){if(1&ge&&(b.TgZ(0,"div",27),b.YNc(1,Qe,2,2,"div",28),b.Hsn(2,6),b._UZ(3,"div",29),b.Hsn(4,7),b.qZA()),2&ge){const $=b.oxw();b.Q6J("@transitionMessages",$._subscriptAnimationState),b.xp6(1),b.Q6J("ngIf",$.hintLabel)}}const ue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ce=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Je=0;const Ht=new b.OlP("MatError");let jt=(()=>{class ge{constructor($,De){this.id="mat-error-"+Je++,$||De.nativeElement.setAttribute("aria-live","polite")}}return ge.\u0275fac=function($){return new($||ge)(b.$8M("aria-live"),b.Y36(b.SBq))},ge.\u0275dir=b.lG2({type:ge,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function($,De){2&$&&b.uIk("id",De.id)},inputs:{id:"id"},features:[b._Bn([{provide:Ht,useExisting:ge}])]}),ge})();const sn={transitionMessages:(0,He.X$)("transitionMessages",[(0,He.SB)("enter",(0,He.oB)({opacity:1,transform:"translateY(0%)"})),(0,He.eR)("void => enter",[(0,He.oB)({opacity:0,transform:"translateY(-5px)"}),(0,He.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let on=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275dir=b.lG2({type:ge}),ge})(),pt=0;const Lt=new b.OlP("MatHint");let Mt=(()=>{class ge{constructor(){this.align="start",this.id="mat-hint-"+pt++}}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275dir=b.lG2({type:ge,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function($,De){2&$&&(b.uIk("id",De.id)("align",null),b.ekj("mat-form-field-hint-end","end"===De.align))},inputs:{align:"align",id:"id"},features:[b._Bn([{provide:Lt,useExisting:ge}])]}),ge})(),zt=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275dir=b.lG2({type:ge,selectors:[["mat-label"]]}),ge})(),Ye=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275dir=b.lG2({type:ge,selectors:[["mat-placeholder"]]}),ge})();const et=new b.OlP("MatPrefix"),Dt=new b.OlP("MatSuffix");let Nt=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275dir=b.lG2({type:ge,selectors:[["","matSuffix",""]],features:[b._Bn([{provide:Dt,useExisting:ge}])]}),ge})(),dn=0;const Fn=(0,F.pj)(class{constructor(ge){this._elementRef=ge}},"primary"),Bn=new b.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),En=new b.OlP("MatFormField");let Jt=(()=>{class ge extends Fn{constructor($,De,mt,Ge,Pe,Fe,xt){super($),this._changeDetectorRef=De,this._dir=mt,this._defaults=Ge,this._platform=Pe,this._ngZone=Fe,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ke.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+dn++,this._labelId="mat-form-field-label-"+dn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==xt,this.appearance=Ge?.appearance||"legacy",Ge&&(this._hideRequiredMarker=Boolean(Ge.hideRequiredMarker),Ge.color&&(this.color=this.defaultColor=Ge.color))}get appearance(){return this._appearance}set appearance($){const De=this._appearance;this._appearance=$||this._defaults?.appearance||"legacy","outline"===this._appearance&&De!==$&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker($){this._hideRequiredMarker=(0,Be.Ig)($)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel($){this._hintLabel=$,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel($){$!==this._floatLabel&&(this._floatLabel=$||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control($){this._explicitFormFieldControl=$}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const $=this._control;$.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${$.controlType}`),$.stateChanges.pipe((0,ne.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),$.ngControl&&$.ngControl.valueChanges&&$.ngControl.valueChanges.pipe((0,me.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,me.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Re.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,ne.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,ne.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,me.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward($){const De=this._control?this._control.ngControl:null;return De&&De[$]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,S.R)(this._label.nativeElement,"transitionend").pipe((0,he.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let $=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&$.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const De=this._hintChildren?this._hintChildren.find(Ge=>"start"===Ge.align):null,mt=this._hintChildren?this._hintChildren.find(Ge=>"end"===Ge.align):null;De?$.push(De.id):this._hintLabel&&$.push(this._hintLabelId),mt&&$.push(mt.id)}else this._errorChildren&&$.push(...this._errorChildren.map(De=>De.id));this._control.setDescribedByIds($)}}_validateControlChild(){}updateOutlineGap(){const $=this._label?this._label.nativeElement:null,De=this._connectionContainerRef.nativeElement,mt=".mat-form-field-outline-start",Ge=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!$||!$.children.length||!$.textContent.trim()){const Pt=De.querySelectorAll(`${mt}, ${Ge}`);for(let gn=0;gn<Pt.length;gn++)Pt[gn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Pe=0,Fe=0;const xt=De.querySelectorAll(mt),St=De.querySelectorAll(Ge);if(this._label&&this._label.nativeElement.children.length){const Pt=De.getBoundingClientRect();if(0===Pt.width&&0===Pt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const gn=this._getStartEnd(Pt),Ln=$.children,at=this._getStartEnd(Ln[0].getBoundingClientRect());let Vt=0;for(let ce=0;ce<Ln.length;ce++)Vt+=Ln[ce].offsetWidth;Pe=Math.abs(at-gn)-5,Fe=Vt>0?.75*Vt+10:0}for(let Pt=0;Pt<xt.length;Pt++)xt[Pt].style.width=`${Pe}px`;for(let Pt=0;Pt<St.length;Pt++)St[Pt].style.width=`${Fe}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd($){return this._dir&&"rtl"===this._dir.value?$.right:$.left}_isAttachedToDOM(){const $=this._elementRef.nativeElement;if($.getRootNode){const De=$.getRootNode();return De&&De!==$}return document.documentElement.contains($)}}return ge.\u0275fac=function($){return new($||ge)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(de.Is,8),b.Y36(Bn,8),b.Y36(We.t4),b.Y36(b.R0b),b.Y36(b.QbO,8))},ge.\u0275cmp=b.Xpm({type:ge,selectors:[["mat-form-field"]],contentQueries:function($,De,mt){if(1&$&&(b.Suo(mt,on,5),b.Suo(mt,on,7),b.Suo(mt,zt,5),b.Suo(mt,zt,7),b.Suo(mt,Ye,5),b.Suo(mt,Ht,5),b.Suo(mt,Lt,5),b.Suo(mt,et,5),b.Suo(mt,Dt,5)),2&$){let Ge;b.iGM(Ge=b.CRH())&&(De._controlNonStatic=Ge.first),b.iGM(Ge=b.CRH())&&(De._controlStatic=Ge.first),b.iGM(Ge=b.CRH())&&(De._labelChildNonStatic=Ge.first),b.iGM(Ge=b.CRH())&&(De._labelChildStatic=Ge.first),b.iGM(Ge=b.CRH())&&(De._placeholderChild=Ge.first),b.iGM(Ge=b.CRH())&&(De._errorChildren=Ge),b.iGM(Ge=b.CRH())&&(De._hintChildren=Ge),b.iGM(Ge=b.CRH())&&(De._prefixChildren=Ge),b.iGM(Ge=b.CRH())&&(De._suffixChildren=Ge)}},viewQuery:function($,De){if(1&$&&(b.Gf(Me,7),b.Gf(ze,5),b.Gf(Se,5)),2&$){let mt;b.iGM(mt=b.CRH())&&(De._connectionContainerRef=mt.first),b.iGM(mt=b.CRH())&&(De._inputContainerRef=mt.first),b.iGM(mt=b.CRH())&&(De._label=mt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function($,De){2&$&&b.ekj("mat-form-field-appearance-standard","standard"==De.appearance)("mat-form-field-appearance-fill","fill"==De.appearance)("mat-form-field-appearance-outline","outline"==De.appearance)("mat-form-field-appearance-legacy","legacy"==De.appearance)("mat-form-field-invalid",De._control.errorState)("mat-form-field-can-float",De._canLabelFloat())("mat-form-field-should-float",De._shouldLabelFloat())("mat-form-field-has-label",De._hasFloatingLabel())("mat-form-field-hide-placeholder",De._hideControlPlaceholder())("mat-form-field-disabled",De._control.disabled)("mat-form-field-autofilled",De._control.autofilled)("mat-focused",De._control.focused)("ng-untouched",De._shouldForward("untouched"))("ng-touched",De._shouldForward("touched"))("ng-pristine",De._shouldForward("pristine"))("ng-dirty",De._shouldForward("dirty"))("ng-valid",De._shouldForward("valid"))("ng-invalid",De._shouldForward("invalid"))("ng-pending",De._shouldForward("pending"))("_mat-animation-noopable",!De._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[b._Bn([{provide:En,useExisting:ge}]),b.qOj],ngContentSelectors:Ce,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function($,De){1&$&&(b.F$t(ue),b.TgZ(0,"div",0)(1,"div",1,2),b.NdJ("click",function(Ge){return De._control.onContainerClick&&De._control.onContainerClick(Ge)}),b.YNc(3,Ee,9,0,"ng-container",3),b.YNc(4,be,2,1,"div",4),b.TgZ(5,"div",5,6),b.Hsn(7),b.TgZ(8,"span",7),b.YNc(9,xe,5,16,"label",8),b.qZA()(),b.YNc(10,Ne,2,0,"div",9),b.qZA(),b.YNc(11,se,2,4,"div",10),b.TgZ(12,"div",11),b.YNc(13,oe,2,1,"div",12),b.YNc(14,ae,5,2,"div",13),b.qZA()()),2&$&&(b.xp6(3),b.Q6J("ngIf","outline"==De.appearance),b.xp6(1),b.Q6J("ngIf",De._prefixChildren.length),b.xp6(5),b.Q6J("ngIf",De._hasFloatingLabel()),b.xp6(1),b.Q6J("ngIf",De._suffixChildren.length),b.xp6(1),b.Q6J("ngIf","outline"!=De.appearance),b.xp6(1),b.Q6J("ngSwitch",De._getDisplayedMessages()),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","hint"))},dependencies:[y.O5,y.RF,y.n9,c.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[sn.transitionMessages]},changeDetection:0}),ge})(),ot=(()=>{class ge{}return ge.\u0275fac=function($){return new($||ge)},ge.\u0275mod=b.oAB({type:ge}),ge.\u0275inj=b.cJS({imports:[y.ez,F.BQ,c.Q8,F.BQ]}),ge})()},782:(ln,ht,w)=>{w.d(ht,{DX:()=>he,Il:()=>se,N6:()=>oe});var c=w(4650),y=w(3238),b=w(1281),F=w(445);const de=["*"];class S{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const ue=Math.max(...this.tracker);return ue>1?this.rowCount+ue-1:this.rowCount}update(ue,Ce){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(ue),this.tracker.fill(0,0,this.tracker.length),this.positions=Ce.map(Je=>this._trackTile(Je))}_trackTile(ue){const Ce=this._findMatchingGap(ue.colspan);return this._markTilePosition(Ce,ue),this.columnIndex=Ce+ue.colspan,new ne(this.rowIndex,Ce)}_findMatchingGap(ue){let Ce=-1,Je=-1;do{this.columnIndex+ue>this.tracker.length?(this._nextRow(),Ce=this.tracker.indexOf(0,this.columnIndex),Je=this._findGapEndIndex(Ce)):(Ce=this.tracker.indexOf(0,this.columnIndex),-1!=Ce?(Je=this._findGapEndIndex(Ce),this.columnIndex=Ce+1):(this._nextRow(),Ce=this.tracker.indexOf(0,this.columnIndex),Je=this._findGapEndIndex(Ce)))}while(Je-Ce<ue||0==Je);return Math.max(Ce,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let ue=0;ue<this.tracker.length;ue++)this.tracker[ue]=Math.max(0,this.tracker[ue]-1)}_findGapEndIndex(ue){for(let Ce=ue+1;Ce<this.tracker.length;Ce++)if(0!=this.tracker[Ce])return Ce;return this.tracker.length}_markTilePosition(ue,Ce){for(let Je=0;Je<Ce.colspan;Je++)this.tracker[ue+Je]=Ce.rowspan}}class ne{constructor(ue,Ce){this.row=ue,this.col=Ce}}const me=new c.OlP("MAT_GRID_LIST");let he=(()=>{class ae{constructor(Ce,Je){this._element=Ce,this._gridList=Je,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(Ce){this._rowspan=Math.round((0,b.su)(Ce))}get colspan(){return this._colspan}set colspan(Ce){this._colspan=Math.round((0,b.su)(Ce))}_setStyle(Ce,Je){this._element.nativeElement.style[Ce]=Je}}return ae.\u0275fac=function(Ce){return new(Ce||ae)(c.Y36(c.SBq),c.Y36(me,8))},ae.\u0275cmp=c.Xpm({type:ae,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(Ce,Je){2&Ce&&c.uIk("rowspan",Je.rowspan)("colspan",Je.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:de,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(Ce,Je){1&Ce&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),ae})();const Se=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Ee{constructor(){this._rows=0,this._rowspan=0}init(ue,Ce,Je,Ht){this._gutterSize=xe(ue),this._rows=Ce.rowCount,this._rowspan=Ce.rowspan,this._cols=Je,this._direction=Ht}getBaseTileSize(ue,Ce){return`(${ue}% - (${this._gutterSize} * ${Ce}))`}getTilePosition(ue,Ce){return 0===Ce?"0":Le(`(${ue} + ${this._gutterSize}) * ${Ce}`)}getTileSize(ue,Ce){return`(${ue} * ${Ce}) + (${Ce-1} * ${this._gutterSize})`}setStyle(ue,Ce,Je){let Ht=100/this._cols,jt=(this._cols-1)/this._cols;this.setColStyles(ue,Je,Ht,jt),this.setRowStyles(ue,Ce,Ht,jt)}setColStyles(ue,Ce,Je,Ht){let jt=this.getBaseTileSize(Je,Ht);ue._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(jt,Ce)),ue._setStyle("width",Le(this.getTileSize(jt,ue.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(ue){return`${this._rowspan} * ${this.getTileSize(ue,1)}`}getComputedHeight(){return null}}class be extends Ee{constructor(ue){super(),this.fixedRowHeight=ue}init(ue,Ce,Je,Ht){super.init(ue,Ce,Je,Ht),this.fixedRowHeight=xe(this.fixedRowHeight),Se.test(this.fixedRowHeight)}setRowStyles(ue,Ce){ue._setStyle("top",this.getTilePosition(this.fixedRowHeight,Ce)),ue._setStyle("height",Le(this.getTileSize(this.fixedRowHeight,ue.rowspan)))}getComputedHeight(){return["height",Le(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(ue){ue._setListStyle(["height",null]),ue._tiles&&ue._tiles.forEach(Ce=>{Ce._setStyle("top",null),Ce._setStyle("height",null)})}}class dt extends Ee{constructor(ue){super(),this._parseRatio(ue)}setRowStyles(ue,Ce,Je,Ht){this.baseTileHeight=this.getBaseTileSize(Je/this.rowHeightRatio,Ht),ue._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,Ce)),ue._setStyle("paddingTop",Le(this.getTileSize(this.baseTileHeight,ue.rowspan)))}getComputedHeight(){return["paddingBottom",Le(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(ue){ue._setListStyle(["paddingBottom",null]),ue._tiles.forEach(Ce=>{Ce._setStyle("marginTop",null),Ce._setStyle("paddingTop",null)})}_parseRatio(ue){const Ce=ue.split(":");this.rowHeightRatio=parseFloat(Ce[0])/parseFloat(Ce[1])}}class tt extends Ee{setRowStyles(ue,Ce){let jt=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);ue._setStyle("top",this.getTilePosition(jt,Ce)),ue._setStyle("height",Le(this.getTileSize(jt,ue.rowspan)))}reset(ue){ue._tiles&&ue._tiles.forEach(Ce=>{Ce._setStyle("top",null),Ce._setStyle("height",null)})}}function Le(ae){return`calc(${ae})`}function xe(ae){return ae.match(/([A-Za-z%]+)$/)?ae:`${ae}px`}let se=(()=>{class ae{constructor(Ce,Je){this._element=Ce,this._dir=Je,this._gutter="1px"}get cols(){return this._cols}set cols(Ce){this._cols=Math.max(1,Math.round((0,b.su)(Ce)))}get gutterSize(){return this._gutter}set gutterSize(Ce){this._gutter=`${Ce??""}`}get rowHeight(){return this._rowHeight}set rowHeight(Ce){const Je=`${Ce??""}`;Je!==this._rowHeight&&(this._rowHeight=Je,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(Ce){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===Ce?new tt:Ce&&Ce.indexOf(":")>-1?new dt(Ce):new be(Ce)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new S);const Ce=this._tileCoordinator,Je=this._tiles.filter(jt=>!jt._gridList||jt._gridList===this),Ht=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,Je),this._tileStyler.init(this.gutterSize,Ce,this.cols,Ht),Je.forEach((jt,sn)=>{const on=Ce.positions[sn];this._tileStyler.setStyle(jt,on.row,on.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(Ce){Ce&&(this._element.nativeElement.style[Ce[0]]=Ce[1])}}return ae.\u0275fac=function(Ce){return new(Ce||ae)(c.Y36(c.SBq),c.Y36(F.Is,8))},ae.\u0275cmp=c.Xpm({type:ae,selectors:[["mat-grid-list"]],contentQueries:function(Ce,Je,Ht){if(1&Ce&&c.Suo(Ht,he,5),2&Ce){let jt;c.iGM(jt=c.CRH())&&(Je._tiles=jt)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(Ce,Je){2&Ce&&c.uIk("cols",Je.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:me,useExisting:ae}])],ngContentSelectors:de,decls:2,vars:0,template:function(Ce,Je){1&Ce&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),ae})(),oe=(()=>{class ae{}return ae.\u0275fac=function(Ce){return new(Ce||ae)},ae.\u0275mod=c.oAB({type:ae}),ae.\u0275inj=c.cJS({imports:[y.uc,y.BQ,y.uc,y.BQ]}),ae})()},7392:(ln,ht,w)=>{w.d(ht,{Hw:()=>pt,Ps:()=>Lt});var c=w(4650),y=w(3238),b=w(1281),F=w(6895),de=w(9646),Be=w(2843),Ke=w(4128),Re=w(727),S=w(8505),ne=w(4004),me=w(262),he=w(8746),He=w(3099),We=w(5698),Me=w(529),ze=w(1481);const Se=["*"];let Ee;function dt(Mt){return function be(){if(void 0===Ee&&(Ee=null,typeof window<"u")){const Mt=window;void 0!==Mt.trustedTypes&&(Ee=Mt.trustedTypes.createPolicy("angular#components",{createHTML:zt=>zt}))}return Ee}()?.createHTML(Mt)||Mt}function tt(Mt){return Error(`Unable to find icon with the name "${Mt}"`)}function xe(Mt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Mt}".`)}function Ne(Mt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Mt}".`)}class se{constructor(zt,Ye,et){this.url=zt,this.svgText=Ye,this.options=et}}let oe=(()=>{class Mt{constructor(Ye,et,rt,Dt){this._httpClient=Ye,this._sanitizer=et,this._errorHandler=Dt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=rt}addSvgIcon(Ye,et,rt){return this.addSvgIconInNamespace("",Ye,et,rt)}addSvgIconLiteral(Ye,et,rt){return this.addSvgIconLiteralInNamespace("",Ye,et,rt)}addSvgIconInNamespace(Ye,et,rt,Dt){return this._addSvgIconConfig(Ye,et,new se(rt,null,Dt))}addSvgIconResolver(Ye){return this._resolvers.push(Ye),this}addSvgIconLiteralInNamespace(Ye,et,rt,Dt){const Nt=this._sanitizer.sanitize(c.q3G.HTML,rt);if(!Nt)throw Ne(rt);const dn=dt(Nt);return this._addSvgIconConfig(Ye,et,new se("",dn,Dt))}addSvgIconSet(Ye,et){return this.addSvgIconSetInNamespace("",Ye,et)}addSvgIconSetLiteral(Ye,et){return this.addSvgIconSetLiteralInNamespace("",Ye,et)}addSvgIconSetInNamespace(Ye,et,rt){return this._addSvgIconSetConfig(Ye,new se(et,null,rt))}addSvgIconSetLiteralInNamespace(Ye,et,rt){const Dt=this._sanitizer.sanitize(c.q3G.HTML,et);if(!Dt)throw Ne(et);const Nt=dt(Dt);return this._addSvgIconSetConfig(Ye,new se("",Nt,rt))}registerFontClassAlias(Ye,et=Ye){return this._fontCssClassesByAlias.set(Ye,et),this}classNameForFontAlias(Ye){return this._fontCssClassesByAlias.get(Ye)||Ye}setDefaultFontSetClass(...Ye){return this._defaultFontSetClass=Ye,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ye){const et=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,Ye);if(!et)throw xe(Ye);const rt=this._cachedIconsByUrl.get(et);return rt?(0,de.of)(ue(rt)):this._loadSvgIconFromConfig(new se(Ye,null)).pipe((0,S.b)(Dt=>this._cachedIconsByUrl.set(et,Dt)),(0,ne.U)(Dt=>ue(Dt)))}getNamedSvgIcon(Ye,et=""){const rt=Ce(et,Ye);let Dt=this._svgIconConfigs.get(rt);if(Dt)return this._getSvgFromConfig(Dt);if(Dt=this._getIconConfigFromResolvers(et,Ye),Dt)return this._svgIconConfigs.set(rt,Dt),this._getSvgFromConfig(Dt);const Nt=this._iconSetConfigs.get(et);return Nt?this._getSvgFromIconSetConfigs(Ye,Nt):(0,Be._)(tt(rt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ye){return Ye.svgText?(0,de.of)(ue(this._svgElementFromConfig(Ye))):this._loadSvgIconFromConfig(Ye).pipe((0,ne.U)(et=>ue(et)))}_getSvgFromIconSetConfigs(Ye,et){const rt=this._extractIconWithNameFromAnySet(Ye,et);if(rt)return(0,de.of)(rt);const Dt=et.filter(Nt=>!Nt.svgText).map(Nt=>this._loadSvgIconSetFromConfig(Nt).pipe((0,me.K)(dn=>{const Pn=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,Nt.url)} failed: ${dn.message}`;return this._errorHandler.handleError(new Error(Pn)),(0,de.of)(null)})));return(0,Ke.D)(Dt).pipe((0,ne.U)(()=>{const Nt=this._extractIconWithNameFromAnySet(Ye,et);if(!Nt)throw tt(Ye);return Nt}))}_extractIconWithNameFromAnySet(Ye,et){for(let rt=et.length-1;rt>=0;rt--){const Dt=et[rt];if(Dt.svgText&&Dt.svgText.toString().indexOf(Ye)>-1){const Nt=this._svgElementFromConfig(Dt),dn=this._extractSvgIconFromSet(Nt,Ye,Dt.options);if(dn)return dn}}return null}_loadSvgIconFromConfig(Ye){return this._fetchIcon(Ye).pipe((0,S.b)(et=>Ye.svgText=et),(0,ne.U)(()=>this._svgElementFromConfig(Ye)))}_loadSvgIconSetFromConfig(Ye){return Ye.svgText?(0,de.of)(null):this._fetchIcon(Ye).pipe((0,S.b)(et=>Ye.svgText=et))}_extractSvgIconFromSet(Ye,et,rt){const Dt=Ye.querySelector(`[id="${et}"]`);if(!Dt)return null;const Nt=Dt.cloneNode(!0);if(Nt.removeAttribute("id"),"svg"===Nt.nodeName.toLowerCase())return this._setSvgAttributes(Nt,rt);if("symbol"===Nt.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Nt),rt);const dn=this._svgElementFromString(dt("<svg></svg>"));return dn.appendChild(Nt),this._setSvgAttributes(dn,rt)}_svgElementFromString(Ye){const et=this._document.createElement("DIV");et.innerHTML=Ye;const rt=et.querySelector("svg");if(!rt)throw Error("<svg> tag not found");return rt}_toSvgElement(Ye){const et=this._svgElementFromString(dt("<svg></svg>")),rt=Ye.attributes;for(let Dt=0;Dt<rt.length;Dt++){const{name:Nt,value:dn}=rt[Dt];"id"!==Nt&&et.setAttribute(Nt,dn)}for(let Dt=0;Dt<Ye.childNodes.length;Dt++)Ye.childNodes[Dt].nodeType===this._document.ELEMENT_NODE&&et.appendChild(Ye.childNodes[Dt].cloneNode(!0));return et}_setSvgAttributes(Ye,et){return Ye.setAttribute("fit",""),Ye.setAttribute("height","100%"),Ye.setAttribute("width","100%"),Ye.setAttribute("preserveAspectRatio","xMidYMid meet"),Ye.setAttribute("focusable","false"),et&&et.viewBox&&Ye.setAttribute("viewBox",et.viewBox),Ye}_fetchIcon(Ye){const{url:et,options:rt}=Ye,Dt=rt?.withCredentials??!1;if(!this._httpClient)throw function Le(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==et)throw Error(`Cannot fetch icon from URL "${et}".`);const Nt=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,et);if(!Nt)throw xe(et);const dn=this._inProgressUrlFetches.get(Nt);if(dn)return dn;const Mn=this._httpClient.get(Nt,{responseType:"text",withCredentials:Dt}).pipe((0,ne.U)(Pn=>dt(Pn)),(0,he.x)(()=>this._inProgressUrlFetches.delete(Nt)),(0,He.B)());return this._inProgressUrlFetches.set(Nt,Mn),Mn}_addSvgIconConfig(Ye,et,rt){return this._svgIconConfigs.set(Ce(Ye,et),rt),this}_addSvgIconSetConfig(Ye,et){const rt=this._iconSetConfigs.get(Ye);return rt?rt.push(et):this._iconSetConfigs.set(Ye,[et]),this}_svgElementFromConfig(Ye){if(!Ye.svgElement){const et=this._svgElementFromString(Ye.svgText);this._setSvgAttributes(et,Ye.options),Ye.svgElement=et}return Ye.svgElement}_getIconConfigFromResolvers(Ye,et){for(let rt=0;rt<this._resolvers.length;rt++){const Dt=this._resolvers[rt](et,Ye);if(Dt)return Je(Dt)?new se(Dt.url,null,Dt.options):new se(Dt,null)}}}return Mt.\u0275fac=function(Ye){return new(Ye||Mt)(c.LFG(Me.eN,8),c.LFG(ze.H7),c.LFG(F.K0,8),c.LFG(c.qLn))},Mt.\u0275prov=c.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt})();function ue(Mt){return Mt.cloneNode(!0)}function Ce(Mt,zt){return Mt+":"+zt}function Je(Mt){return!(!Mt.url||!Mt.options)}const Ht=(0,y.pj)(class{constructor(Mt){this._elementRef=Mt}}),jt=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),sn=new c.OlP("mat-icon-location",{providedIn:"root",factory:function on(){const Mt=(0,c.f3M)(F.K0),zt=Mt?Mt.location:null;return{getPathname:()=>zt?zt.pathname+zt.search:""}}}),Bt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Te=Bt.map(Mt=>`[${Mt}]`).join(", "),Et=/^url\(['"]?#(.*?)['"]?\)$/;let pt=(()=>{class Mt extends Ht{constructor(Ye,et,rt,Dt,Nt,dn){super(Ye),this._iconRegistry=et,this._location=Dt,this._errorHandler=Nt,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Re.w0.EMPTY,dn&&(dn.color&&(this.color=this.defaultColor=dn.color),dn.fontSet&&(this.fontSet=dn.fontSet)),rt||Ye.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Ye){this._inline=(0,b.Ig)(Ye)}get svgIcon(){return this._svgIcon}set svgIcon(Ye){Ye!==this._svgIcon&&(Ye?this._updateSvgIcon(Ye):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ye)}get fontSet(){return this._fontSet}set fontSet(Ye){const et=this._cleanupFontValue(Ye);et!==this._fontSet&&(this._fontSet=et,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ye){const et=this._cleanupFontValue(Ye);et!==this._fontIcon&&(this._fontIcon=et,this._updateFontIconClasses())}_splitIconName(Ye){if(!Ye)return["",""];const et=Ye.split(":");switch(et.length){case 1:return["",et[0]];case 2:return et;default:throw Error(`Invalid icon name: "${Ye}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ye=this._elementsWithExternalReferences;if(Ye&&Ye.size){const et=this._location.getPathname();et!==this._previousPath&&(this._previousPath=et,this._prependPathToReferences(et))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ye){this._clearSvgElement();const et=this._location.getPathname();this._previousPath=et,this._cacheChildrenWithExternalReferences(Ye),this._prependPathToReferences(et),this._elementRef.nativeElement.appendChild(Ye)}_clearSvgElement(){const Ye=this._elementRef.nativeElement;let et=Ye.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();et--;){const rt=Ye.childNodes[et];(1!==rt.nodeType||"svg"===rt.nodeName.toLowerCase())&&rt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ye=this._elementRef.nativeElement,et=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(rt=>rt.length>0);this._previousFontSetClass.forEach(rt=>Ye.classList.remove(rt)),et.forEach(rt=>Ye.classList.add(rt)),this._previousFontSetClass=et,this.fontIcon!==this._previousFontIconClass&&!et.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ye.classList.remove(this._previousFontIconClass),this.fontIcon&&Ye.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ye){return"string"==typeof Ye?Ye.trim().split(" ")[0]:Ye}_prependPathToReferences(Ye){const et=this._elementsWithExternalReferences;et&&et.forEach((rt,Dt)=>{rt.forEach(Nt=>{Dt.setAttribute(Nt.name,`url('${Ye}#${Nt.value}')`)})})}_cacheChildrenWithExternalReferences(Ye){const et=Ye.querySelectorAll(Te),rt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Dt=0;Dt<et.length;Dt++)Bt.forEach(Nt=>{const dn=et[Dt],Mn=dn.getAttribute(Nt),Pn=Mn?Mn.match(Et):null;if(Pn){let Fn=rt.get(dn);Fn||(Fn=[],rt.set(dn,Fn)),Fn.push({name:Nt,value:Pn[1]})}})}_updateSvgIcon(Ye){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ye){const[et,rt]=this._splitIconName(Ye);et&&(this._svgNamespace=et),rt&&(this._svgName=rt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(rt,et).pipe((0,We.q)(1)).subscribe(Dt=>this._setSvgElement(Dt),Dt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${et}:${rt}! ${Dt.message}`))})}}}return Mt.\u0275fac=function(Ye){return new(Ye||Mt)(c.Y36(c.SBq),c.Y36(oe),c.$8M("aria-hidden"),c.Y36(sn),c.Y36(c.qLn),c.Y36(jt,8))},Mt.\u0275cmp=c.Xpm({type:Mt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Ye,et){2&Ye&&(c.uIk("data-mat-icon-type",et._usingFontIcon()?"font":"svg")("data-mat-icon-name",et._svgName||et.fontIcon)("data-mat-icon-namespace",et._svgNamespace||et.fontSet),c.ekj("mat-icon-inline",et.inline)("mat-icon-no-color","primary"!==et.color&&"accent"!==et.color&&"warn"!==et.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Se,decls:1,vars:0,template:function(Ye,et){1&Ye&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Mt})(),Lt=(()=>{class Mt{}return Mt.\u0275fac=function(Ye){return new(Ye||Mt)},Mt.\u0275mod=c.oAB({type:Mt}),Mt.\u0275inj=c.cJS({imports:[y.BQ,y.BQ]}),Mt})()},284:(ln,ht,w)=>{w.d(ht,{Jk:()=>ne,Nt:()=>We,c:()=>Me});var c=w(1281),y=w(3353),b=w(9349),F=w(4650),de=w(4006),Be=w(3238),Ke=w(9549),Re=w(7579);const ne=new F.OlP("MAT_INPUT_VALUE_ACCESSOR"),me=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let he=0;const He=(0,Be.FD)(class{constructor(ze,Se,Ee,be){this._defaultErrorStateMatcher=ze,this._parentForm=Se,this._parentFormGroup=Ee,this.ngControl=be,this.stateChanges=new Re.x}});let We=(()=>{class ze extends He{constructor(Ee,be,dt,tt,Le,xe,Ne,se,oe,Qe){super(xe,tt,Le,dt),this._elementRef=Ee,this._platform=be,this._autofillMonitor=se,this._formField=Qe,this._uid="mat-input-"+he++,this.focused=!1,this.stateChanges=new Re.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>(0,y.qK)().has(Ce)),this._iOSKeyupListener=Ce=>{const Je=Ce.target;!Je.value&&0===Je.selectionStart&&0===Je.selectionEnd&&(Je.setSelectionRange(1,1),Je.setSelectionRange(0,0))};const ae=this._elementRef.nativeElement,ue=ae.nodeName.toLowerCase();this._inputValueAccessor=Ne||ae,this._previousNativeValue=this.value,this.id=this.id,be.IOS&&oe.runOutsideAngular(()=>{Ee.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ue,this._isTextarea="textarea"===ue,this._isInFormField=!!Qe,this._isNativeSelect&&(this.controlType=ae.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ee){this._disabled=(0,c.Ig)(Ee),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ee){this._id=Ee||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(de.kI.required)??!1}set required(Ee){this._required=(0,c.Ig)(Ee)}get type(){return this._type}set type(Ee){this._type=Ee||"text",this._validateType(),!this._isTextarea&&(0,y.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ee){Ee!==this.value&&(this._inputValueAccessor.value=Ee,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ee){this._readonly=(0,c.Ig)(Ee)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ee=>{this.autofilled=Ee.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ee){this._elementRef.nativeElement.focus(Ee)}_focusChanged(Ee){Ee!==this.focused&&(this.focused=Ee,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const Ee=this._formField,be=Ee&&"legacy"===Ee.appearance&&!Ee._hasLabel?.()?null:this.placeholder;if(be!==this._previousPlaceholder){const dt=this._elementRef.nativeElement;this._previousPlaceholder=be,be?dt.setAttribute("placeholder",be):dt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ee=this._elementRef.nativeElement.value;this._previousNativeValue!==Ee&&(this._previousNativeValue=Ee,this.stateChanges.next())}_validateType(){me.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ee=this._elementRef.nativeElement.validity;return Ee&&Ee.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ee=this._elementRef.nativeElement,be=Ee.options[0];return this.focused||Ee.multiple||!this.empty||!!(Ee.selectedIndex>-1&&be&&be.label)}return this.focused||!this.empty}setDescribedByIds(Ee){Ee.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ee.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ee=this._elementRef.nativeElement;return this._isNativeSelect&&(Ee.multiple||Ee.size>1)}}return ze.\u0275fac=function(Ee){return new(Ee||ze)(F.Y36(F.SBq),F.Y36(y.t4),F.Y36(de.a5,10),F.Y36(de.F,8),F.Y36(de.sg,8),F.Y36(Be.rD),F.Y36(ne,10),F.Y36(b.Lq),F.Y36(F.R0b),F.Y36(Ke.G_,8))},ze.\u0275dir=F.lG2({type:ze,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ee,be){1&Ee&&F.NdJ("focus",function(){return be._focusChanged(!0)})("blur",function(){return be._focusChanged(!1)})("input",function(){return be._onInput()}),2&Ee&&(F.Ikx("disabled",be.disabled)("required",be.required),F.uIk("id",be.id)("data-placeholder",be.placeholder)("name",be.name||null)("readonly",be.readonly&&!be._isNativeSelect||null)("aria-invalid",be.empty&&be.required?null:be.errorState)("aria-required",be.required),F.ekj("mat-input-server",be._isServer)("mat-native-select-inline",be._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[F._Bn([{provide:Ke.Eo,useExisting:ze}]),F.qOj,F.TTD]}),ze})(),Me=(()=>{class ze{}return ze.\u0275fac=function(Ee){return new(Ee||ze)},ze.\u0275mod=F.oAB({type:ze}),ze.\u0275inj=F.cJS({providers:[Be.rD],imports:[b.Ky,Ke.lN,Be.BQ,b.Ky,Ke.lN]}),ze})()},8255:(ln,ht,w)=>{w.d(ht,{OP:()=>pt,Tx:()=>Bn,VK:()=>et,p6:()=>Fn});var c=w(2687),y=w(1281),b=w(9521),F=w(4650),de=w(7579),Be=w(727),Ke=w(6451),Re=w(9646),S=w(3101),ne=w(8675),me=w(3900),he=w(5698),He=w(2722),We=w(9300),Me=w(1005),ze=w(7340),Se=w(4080),Ee=w(6895),be=w(3238),dt=w(445),tt=w(8184),Le=w(3353),xe=w(531);const Ne=["mat-menu-item",""];function se(En,Jt){1&En&&(F.O4$(),F.TgZ(0,"svg",2),F._UZ(1,"polygon",3),F.qZA())}const oe=["*"];function Qe(En,Jt){if(1&En){const ot=F.EpF();F.TgZ(0,"div",0),F.NdJ("keydown",function(P){F.CHM(ot);const $=F.oxw();return F.KtG($._handleKeydown(P))})("click",function(){F.CHM(ot);const P=F.oxw();return F.KtG(P.closed.emit("click"))})("@transformMenu.start",function(P){F.CHM(ot);const $=F.oxw();return F.KtG($._onAnimationStart(P))})("@transformMenu.done",function(P){F.CHM(ot);const $=F.oxw();return F.KtG($._onAnimationDone(P))}),F.TgZ(1,"div",1),F.Hsn(2),F.qZA()()}if(2&En){const ot=F.oxw();F.Q6J("id",ot.panelId)("ngClass",ot._classList)("@transformMenu",ot._panelAnimationState),F.uIk("aria-label",ot.ariaLabel||null)("aria-labelledby",ot.ariaLabelledby||null)("aria-describedby",ot.ariaDescribedby||null)}}const ae={transformMenu:(0,ze.X$)("transformMenu",[(0,ze.SB)("void",(0,ze.oB)({opacity:0,transform:"scale(0.8)"})),(0,ze.eR)("void => enter",(0,ze.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ze.oB)({opacity:1,transform:"scale(1)"}))),(0,ze.eR)("* => void",(0,ze.jt)("100ms 25ms linear",(0,ze.oB)({opacity:0})))]),fadeInItems:(0,ze.X$)("fadeInItems",[(0,ze.SB)("showing",(0,ze.oB)({opacity:1})),(0,ze.eR)("void => *",[(0,ze.oB)({opacity:0}),(0,ze.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Je=new F.OlP("MatMenuContent"),Te=new F.OlP("MAT_MENU_PANEL"),Et=(0,be.Kr)((0,be.Id)(class{}));let pt=(()=>{class En extends Et{constructor(ot,ge,P,$,De){super(),this._elementRef=ot,this._document=ge,this._focusMonitor=P,this._parentMenu=$,this._changeDetectorRef=De,this.role="menuitem",this._hovered=new de.x,this._focused=new de.x,this._highlighted=!1,this._triggersSubmenu=!1,$?.addItem?.(this)}focus(ot,ge){this._focusMonitor&&ot?this._focusMonitor.focusVia(this._getHostElement(),ot,ge):this._getHostElement().focus(ge),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ot){this.disabled&&(ot.preventDefault(),ot.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ot=this._elementRef.nativeElement.cloneNode(!0),ge=ot.querySelectorAll("mat-icon, .material-icons");for(let P=0;P<ge.length;P++)ge[P].remove();return ot.textContent?.trim()||""}_setHighlighted(ot){this._highlighted=ot,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return En.\u0275fac=function(ot){return new(ot||En)(F.Y36(F.SBq),F.Y36(Ee.K0),F.Y36(c.tE),F.Y36(Te,8),F.Y36(F.sBO))},En.\u0275cmp=F.Xpm({type:En,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(ot,ge){1&ot&&F.NdJ("click",function($){return ge._checkDisabled($)})("mouseenter",function(){return ge._handleMouseEnter()}),2&ot&&(F.uIk("role",ge.role)("tabindex",ge._getTabIndex())("aria-disabled",ge.disabled.toString())("disabled",ge.disabled||null),F.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",ge._highlighted)("mat-menu-item-submenu-trigger",ge._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[F.qOj],attrs:Ne,ngContentSelectors:oe,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ot,ge){1&ot&&(F.F$t(),F.Hsn(0),F._UZ(1,"div",0),F.YNc(2,se,2,0,"svg",1)),2&ot&&(F.xp6(1),F.Q6J("matRippleDisabled",ge.disableRipple||ge.disabled)("matRippleTrigger",ge._getHostElement()),F.xp6(1),F.Q6J("ngIf",ge._triggersSubmenu))},dependencies:[Ee.O5,be.wG],encapsulation:2,changeDetection:0}),En})();const Lt=new F.OlP("mat-menu-default-options",{providedIn:"root",factory:function Mt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let zt=0,Ye=(()=>{class En{constructor(ot,ge,P,$){this._elementRef=ot,this._ngZone=ge,this._defaultOptions=P,this._changeDetectorRef=$,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new F.n_E,this._tabSubscription=Be.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new de.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new F.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+zt++}get xPosition(){return this._xPosition}set xPosition(ot){this._xPosition=ot,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ot){this._yPosition=ot,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ot){this._overlapTrigger=(0,y.Ig)(ot)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ot){this._hasBackdrop=(0,y.Ig)(ot)}set panelClass(ot){const ge=this._previousPanelClass;ge&&ge.length&&ge.split(" ").forEach(P=>{this._classList[P]=!1}),this._previousPanelClass=ot,ot&&ot.length&&(ot.split(" ").forEach(P=>{this._classList[P]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ot){this.panelClass=ot}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new c.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ne.O)(this._directDescendantItems),(0,me.w)(ot=>(0,Ke.T)(...ot.map(ge=>ge._focused)))).subscribe(ot=>this._keyManager.updateActiveItem(ot)),this._directDescendantItems.changes.subscribe(ot=>{const ge=this._keyManager;if("enter"===this._panelAnimationState&&ge.activeItem?._hasFocus()){const P=ot.toArray(),$=Math.max(0,Math.min(P.length-1,ge.activeItemIndex||0));P[$]&&!P[$].disabled?ge.setActiveItem($):ge.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,ne.O)(this._directDescendantItems),(0,me.w)(ge=>(0,Ke.T)(...ge.map(P=>P._hovered))))}addItem(ot){}removeItem(ot){}_handleKeydown(ot){const ge=ot.keyCode,P=this._keyManager;switch(ge){case b.hY:(0,b.Vb)(ot)||(ot.preventDefault(),this.closed.emit("keydown"));break;case b.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case b.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ge===b.LH||ge===b.JH)&&P.setFocusOrigin("keyboard"),void P.onKeydown(ot)}ot.stopPropagation()}focusFirstItem(ot="program"){this._ngZone.onStable.pipe((0,he.q)(1)).subscribe(()=>{let ge=null;if(this._directDescendantItems.length&&(ge=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ge||!ge.contains(document.activeElement)){const P=this._keyManager;P.setFocusOrigin(ot).setFirstItemActive(),!P.activeItem&&ge&&ge.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ot){const ge=Math.min(this._baseElevation+ot,24),P=`${this._elevationPrefix}${ge}`,$=Object.keys(this._classList).find(De=>De.startsWith(this._elevationPrefix));(!$||$===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[P]=!0,this._previousElevation=P)}setPositionClasses(ot=this.xPosition,ge=this.yPosition){const P=this._classList;P["mat-menu-before"]="before"===ot,P["mat-menu-after"]="after"===ot,P["mat-menu-above"]="above"===ge,P["mat-menu-below"]="below"===ge,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ot){this._animationDone.next(ot),this._isAnimating=!1}_onAnimationStart(ot){this._isAnimating=!0,"enter"===ot.toState&&0===this._keyManager.activeItemIndex&&(ot.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ne.O)(this._allItems)).subscribe(ot=>{this._directDescendantItems.reset(ot.filter(ge=>ge._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return En.\u0275fac=function(ot){return new(ot||En)(F.Y36(F.SBq),F.Y36(F.R0b),F.Y36(Lt),F.Y36(F.sBO))},En.\u0275dir=F.lG2({type:En,contentQueries:function(ot,ge,P){if(1&ot&&(F.Suo(P,Je,5),F.Suo(P,pt,5),F.Suo(P,pt,4)),2&ot){let $;F.iGM($=F.CRH())&&(ge.lazyContent=$.first),F.iGM($=F.CRH())&&(ge._allItems=$),F.iGM($=F.CRH())&&(ge.items=$)}},viewQuery:function(ot,ge){if(1&ot&&F.Gf(F.Rgc,5),2&ot){let P;F.iGM(P=F.CRH())&&(ge.templateRef=P.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),En})(),et=(()=>{class En extends Ye{constructor(ot,ge,P,$){super(ot,ge,P,$),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return En.\u0275fac=function(ot){return new(ot||En)(F.Y36(F.SBq),F.Y36(F.R0b),F.Y36(Lt),F.Y36(F.sBO))},En.\u0275cmp=F.Xpm({type:En,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(ot,ge){2&ot&&F.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[F._Bn([{provide:Te,useExisting:En}]),F.qOj],ngContentSelectors:oe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(ot,ge){1&ot&&(F.F$t(),F.YNc(0,Qe,3,6,"ng-template"))},dependencies:[Ee.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ae.transformMenu,ae.fadeInItems]},changeDetection:0}),En})();const rt=new F.OlP("mat-menu-scroll-strategy"),Nt={provide:rt,deps:[tt.aV],useFactory:function Dt(En){return()=>En.scrollStrategies.reposition()}},Mn=(0,Le.i$)({passive:!0});let Pn=(()=>{class En{constructor(ot,ge,P,$,De,mt,Ge,Pe,Fe){this._overlay=ot,this._element=ge,this._viewContainerRef=P,this._menuItemInstance=mt,this._dir=Ge,this._focusMonitor=Pe,this._ngZone=Fe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Be.w0.EMPTY,this._hoverSubscription=Be.w0.EMPTY,this._menuCloseSubscription=Be.w0.EMPTY,this._handleTouchStart=xt=>{(0,c.yG)(xt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new F.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new F.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=$,this._parentMaterialMenu=De instanceof Ye?De:void 0,ge.nativeElement.addEventListener("touchstart",this._handleTouchStart,Mn),mt&&(mt._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ot){this.menu=ot}get menu(){return this._menu}set menu(ot){ot!==this._menu&&(this._menu=ot,this._menuCloseSubscription.unsubscribe(),ot&&(this._menuCloseSubscription=ot.close.subscribe(ge=>{this._destroyMenu(ge),("click"===ge||"tab"===ge)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ge)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Mn),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ot=this.menu;if(this._menuOpen||!ot)return;const ge=this._createOverlay(ot),P=ge.getConfig(),$=P.positionStrategy;this._setPosition(ot,$),P.hasBackdrop=ot.hasBackdrop??!this.triggersSubmenu(),ge.attach(this._getPortal(ot)),ot.lazyContent&&ot.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ot),ot instanceof Ye&&(ot._startAnimation(),ot._directDescendantItems.changes.pipe((0,He.R)(ot.close)).subscribe(()=>{$.withLockedPosition(!1).reapplyLastPosition(),$.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ot,ge){this._focusMonitor&&ot?this._focusMonitor.focusVia(this._element,ot,ge):this._element.nativeElement.focus(ge)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ot){if(!this._overlayRef||!this.menuOpen)return;const ge=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ot||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ge instanceof Ye?(ge._resetAnimation(),ge.lazyContent?ge._animationDone.pipe((0,We.h)(P=>"void"===P.toState),(0,he.q)(1),(0,He.R)(ge.lazyContent._attached)).subscribe({next:()=>ge.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ge?.lazyContent?.detach())}_initMenu(ot){ot.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ot.direction=this.dir,this._setMenuElevation(ot),ot.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ot){if(ot.setElevation){let ge=0,P=ot.parentMenu;for(;P;)ge++,P=P.parentMenu;ot.setElevation(ge)}}_setIsMenuOpen(ot){this._menuOpen=ot,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ot)}_createOverlay(ot){if(!this._overlayRef){const ge=this._getOverlayConfig(ot);this._subscribeToPositions(ot,ge.positionStrategy),this._overlayRef=this._overlay.create(ge),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ot){return new tt.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ot.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ot.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ot,ge){ot.setPositionClasses&&ge.positionChanges.subscribe(P=>{const $="start"===P.connectionPair.overlayX?"after":"before",De="top"===P.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ot.setPositionClasses($,De)):ot.setPositionClasses($,De)})}_setPosition(ot,ge){let[P,$]="before"===ot.xPosition?["end","start"]:["start","end"],[De,mt]="above"===ot.yPosition?["bottom","top"]:["top","bottom"],[Ge,Pe]=[De,mt],[Fe,xt]=[P,$],St=0;if(this.triggersSubmenu()){if(xt=P="before"===ot.xPosition?"start":"end",$=Fe="end"===P?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Pt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Pt?Pt._getHostElement().offsetTop:0}St="bottom"===De?this._parentInnerPadding:-this._parentInnerPadding}}else ot.overlapTrigger||(Ge="top"===De?"bottom":"top",Pe="top"===mt?"bottom":"top");ge.withPositions([{originX:P,originY:Ge,overlayX:Fe,overlayY:De,offsetY:St},{originX:$,originY:Ge,overlayX:xt,overlayY:De,offsetY:St},{originX:P,originY:Pe,overlayX:Fe,overlayY:mt,offsetY:-St},{originX:$,originY:Pe,overlayX:xt,overlayY:mt,offsetY:-St}])}_menuClosingActions(){const ot=this._overlayRef.backdropClick(),ge=this._overlayRef.detachments(),P=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Re.of)(),$=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,We.h)(De=>De!==this._menuItemInstance),(0,We.h)(()=>this._menuOpen)):(0,Re.of)();return(0,Ke.T)(ot,P,$,ge)}_handleMousedown(ot){(0,c.X6)(ot)||(this._openedBy=0===ot.button?"mouse":void 0,this.triggersSubmenu()&&ot.preventDefault())}_handleKeydown(ot){const ge=ot.keyCode;(ge===b.K5||ge===b.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ge===b.SV&&"ltr"===this.dir||ge===b.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ot){this.triggersSubmenu()?(ot.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,We.h)(ot=>ot===this._menuItemInstance&&!ot.disabled),(0,Me.g)(0,S.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ye&&this.menu._isAnimating?this.menu._animationDone.pipe((0,he.q)(1),(0,Me.g)(0,S.E),(0,He.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ot){return(!this._portal||this._portal.templateRef!==ot.templateRef)&&(this._portal=new Se.UE(ot.templateRef,this._viewContainerRef)),this._portal}}return En.\u0275fac=function(ot){return new(ot||En)(F.Y36(tt.aV),F.Y36(F.SBq),F.Y36(F.s_b),F.Y36(rt),F.Y36(Te,8),F.Y36(pt,10),F.Y36(dt.Is,8),F.Y36(c.tE),F.Y36(F.R0b))},En.\u0275dir=F.lG2({type:En,hostVars:3,hostBindings:function(ot,ge){1&ot&&F.NdJ("click",function($){return ge._handleClick($)})("mousedown",function($){return ge._handleMousedown($)})("keydown",function($){return ge._handleKeydown($)}),2&ot&&F.uIk("aria-haspopup",ge.menu?"menu":null)("aria-expanded",ge.menuOpen||null)("aria-controls",ge.menuOpen?ge.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),En})(),Fn=(()=>{class En extends Pn{}return En.\u0275fac=function(){let Jt;return function(ge){return(Jt||(Jt=F.n5z(En)))(ge||En)}}(),En.\u0275dir=F.lG2({type:En,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[F.qOj]}),En})(),Bn=(()=>{class En{}return En.\u0275fac=function(ot){return new(ot||En)},En.\u0275mod=F.oAB({type:En}),En.\u0275inj=F.cJS({providers:[Nt],imports:[Ee.ez,be.BQ,be.si,tt.U8,xe.ZD,be.BQ]}),En})()},8739:(ln,ht,w)=>{w.d(ht,{NW:()=>Ne,TU:()=>se});var c=w(6895),y=w(4650),b=w(3238),F=w(4859),de=w(4385),Be=w(266),Ke=w(1281),Re=w(7579),S=w(9549);function ne(oe,Qe){if(1&oe&&(y.TgZ(0,"mat-option",19),y._uU(1),y.qZA()),2&oe){const ae=Qe.$implicit;y.Q6J("value",ae),y.xp6(1),y.hij(" ",ae," ")}}function me(oe,Qe){if(1&oe){const ae=y.EpF();y.TgZ(0,"mat-form-field",16)(1,"mat-select",17),y.NdJ("selectionChange",function(Ce){y.CHM(ae);const Je=y.oxw(2);return y.KtG(Je._changePageSize(Ce.value))}),y.YNc(2,ne,2,2,"mat-option",18),y.qZA()()}if(2&oe){const ae=y.oxw(2);y.Q6J("appearance",ae._formFieldAppearance)("color",ae.color),y.xp6(1),y.Q6J("value",ae.pageSize)("disabled",ae.disabled)("panelClass",ae.selectConfig.panelClass||"")("disableOptionCentering",ae.selectConfig.disableOptionCentering)("aria-label",ae._intl.itemsPerPageLabel),y.xp6(1),y.Q6J("ngForOf",ae._displayedPageSizeOptions)}}function he(oe,Qe){if(1&oe&&(y.TgZ(0,"div",20),y._uU(1),y.qZA()),2&oe){const ae=y.oxw(2);y.xp6(1),y.Oqu(ae.pageSize)}}function He(oe,Qe){if(1&oe&&(y.TgZ(0,"div",12)(1,"div",13),y._uU(2),y.qZA(),y.YNc(3,me,3,8,"mat-form-field",14),y.YNc(4,he,2,1,"div",15),y.qZA()),2&oe){const ae=y.oxw();y.xp6(2),y.hij(" ",ae._intl.itemsPerPageLabel," "),y.xp6(1),y.Q6J("ngIf",ae._displayedPageSizeOptions.length>1),y.xp6(1),y.Q6J("ngIf",ae._displayedPageSizeOptions.length<=1)}}function We(oe,Qe){if(1&oe){const ae=y.EpF();y.TgZ(0,"button",21),y.NdJ("click",function(){y.CHM(ae);const Ce=y.oxw();return y.KtG(Ce.firstPage())}),y.O4$(),y.TgZ(1,"svg",7),y._UZ(2,"path",22),y.qZA()()}if(2&oe){const ae=y.oxw();y.Q6J("matTooltip",ae._intl.firstPageLabel)("matTooltipDisabled",ae._previousButtonsDisabled())("matTooltipPosition","above")("disabled",ae._previousButtonsDisabled()),y.uIk("aria-label",ae._intl.firstPageLabel)}}function Me(oe,Qe){if(1&oe){const ae=y.EpF();y.O4$(),y.kcU(),y.TgZ(0,"button",23),y.NdJ("click",function(){y.CHM(ae);const Ce=y.oxw();return y.KtG(Ce.lastPage())}),y.O4$(),y.TgZ(1,"svg",7),y._UZ(2,"path",24),y.qZA()()}if(2&oe){const ae=y.oxw();y.Q6J("matTooltip",ae._intl.lastPageLabel)("matTooltipDisabled",ae._nextButtonsDisabled())("matTooltipPosition","above")("disabled",ae._nextButtonsDisabled()),y.uIk("aria-label",ae._intl.lastPageLabel)}}let ze=(()=>{class oe{constructor(){this.changes=new Re.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(ae,ue,Ce)=>{if(0==Ce||0==ue)return`0 of ${Ce}`;const Je=ae*ue;return`${Je+1} \u2013 ${Je<(Ce=Math.max(Ce,0))?Math.min(Je+ue,Ce):Je+ue} of ${Ce}`}}}return oe.\u0275fac=function(ae){return new(ae||oe)},oe.\u0275prov=y.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const Ee={provide:ze,deps:[[new y.FiY,new y.tp0,ze]],useFactory:function Se(oe){return oe||new ze}},tt=new y.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Le=(0,b.Id)((0,b.dB)(class{}));let xe=(()=>{class oe extends Le{constructor(ae,ue,Ce){if(super(),this._intl=ae,this._changeDetectorRef=ue,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new y.vpe,this._intlChanges=ae.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Ce){const{pageSize:Je,pageSizeOptions:Ht,hidePageSize:jt,showFirstLastButtons:sn}=Ce;null!=Je&&(this._pageSize=Je),null!=Ht&&(this._pageSizeOptions=Ht),null!=jt&&(this._hidePageSize=jt),null!=sn&&(this._showFirstLastButtons=sn)}}get pageIndex(){return this._pageIndex}set pageIndex(ae){this._pageIndex=Math.max((0,Ke.su)(ae),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(ae){this._length=(0,Ke.su)(ae),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(ae){this._pageSize=Math.max((0,Ke.su)(ae),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(ae){this._pageSizeOptions=(ae||[]).map(ue=>(0,Ke.su)(ue)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(ae){this._hidePageSize=(0,Ke.Ig)(ae)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(ae){this._showFirstLastButtons=(0,Ke.Ig)(ae)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const ae=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(ae)}previousPage(){if(!this.hasPreviousPage())return;const ae=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(ae)}firstPage(){if(!this.hasPreviousPage())return;const ae=this.pageIndex;this.pageIndex=0,this._emitPageEvent(ae)}lastPage(){if(!this.hasNextPage())return;const ae=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(ae)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const ae=this.getNumberOfPages()-1;return this.pageIndex<ae&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(ae){const Ce=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/ae)||0,this.pageSize=ae,this._emitPageEvent(Ce)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((ae,ue)=>ae-ue),this._changeDetectorRef.markForCheck())}_emitPageEvent(ae){this.page.emit({previousPageIndex:ae,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return oe.\u0275fac=function(ae){y.$Z()},oe.\u0275dir=y.lG2({type:oe,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[y.qOj]}),oe})(),Ne=(()=>{class oe extends xe{constructor(ae,ue,Ce){super(ae,ue,Ce),Ce&&null!=Ce.formFieldAppearance&&(this._formFieldAppearance=Ce.formFieldAppearance)}}return oe.\u0275fac=function(ae){return new(ae||oe)(y.Y36(ze),y.Y36(y.sBO),y.Y36(tt,8))},oe.\u0275cmp=y.Xpm({type:oe,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[y.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ae,ue){1&ae&&(y.TgZ(0,"div",0)(1,"div",1),y.YNc(2,He,5,3,"div",2),y.TgZ(3,"div",3)(4,"div",4),y._uU(5),y.qZA(),y.YNc(6,We,3,5,"button",5),y.TgZ(7,"button",6),y.NdJ("click",function(){return ue.previousPage()}),y.O4$(),y.TgZ(8,"svg",7),y._UZ(9,"path",8),y.qZA()(),y.kcU(),y.TgZ(10,"button",9),y.NdJ("click",function(){return ue.nextPage()}),y.O4$(),y.TgZ(11,"svg",7),y._UZ(12,"path",10),y.qZA()(),y.YNc(13,Me,3,5,"button",11),y.qZA()()()),2&ae&&(y.xp6(2),y.Q6J("ngIf",!ue.hidePageSize),y.xp6(3),y.hij(" ",ue._intl.getRangeLabel(ue.pageIndex,ue.pageSize,ue.length)," "),y.xp6(1),y.Q6J("ngIf",ue.showFirstLastButtons),y.xp6(1),y.Q6J("matTooltip",ue._intl.previousPageLabel)("matTooltipDisabled",ue._previousButtonsDisabled())("matTooltipPosition","above")("disabled",ue._previousButtonsDisabled()),y.uIk("aria-label",ue._intl.previousPageLabel),y.xp6(3),y.Q6J("matTooltip",ue._intl.nextPageLabel)("matTooltipDisabled",ue._nextButtonsDisabled())("matTooltipPosition","above")("disabled",ue._nextButtonsDisabled()),y.uIk("aria-label",ue._intl.nextPageLabel),y.xp6(3),y.Q6J("ngIf",ue.showFirstLastButtons))},dependencies:[c.sg,c.O5,F.lW,S.KE,de.gD,b.ey,Be.gM],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),oe})(),se=(()=>{class oe{}return oe.\u0275fac=function(ae){return new(ae||oe)},oe.\u0275mod=y.oAB({type:oe}),oe.\u0275inj=y.cJS({providers:[Ee],imports:[c.ez,F.ot,de.LD,Be.AV,b.BQ]}),oe})()},1572:(ln,ht,w)=>{w.d(ht,{Cq:()=>Se,Ou:()=>ze});var c=w(1281),y=w(3353),b=w(531),F=w(6895),de=w(4650),Be=w(3238),Ke=w(727);function Re(be,dt){if(1&be&&(de.O4$(),de._UZ(0,"circle",4)),2&be){const tt=de.oxw(),Le=de.MAs(1);de.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+tt._spinnerAnimationLabel)("stroke-dashoffset",tt._getStrokeDashOffset(),"px")("stroke-dasharray",tt._getStrokeCircumference(),"px")("stroke-width",tt._getCircleStrokeWidth(),"%")("transform-origin",tt._getCircleTransformOrigin(Le)),de.uIk("r",tt._getCircleRadius())}}function S(be,dt){if(1&be&&(de.O4$(),de._UZ(0,"circle",4)),2&be){const tt=de.oxw(),Le=de.MAs(1);de.Udp("stroke-dashoffset",tt._getStrokeDashOffset(),"px")("stroke-dasharray",tt._getStrokeCircumference(),"px")("stroke-width",tt._getCircleStrokeWidth(),"%")("transform-origin",tt._getCircleTransformOrigin(Le)),de.uIk("r",tt._getCircleRadius())}}const he=(0,Be.pj)(class{constructor(be){this._elementRef=be}},"primary"),He=new de.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function We(){return{diameter:100}}});class ze extends he{constructor(dt,tt,Le,xe,Ne,se,oe,Qe){super(dt),this._document=Le,this._diameter=100,this._value=0,this._resizeSubscription=Ke.w0.EMPTY,this.mode="determinate";const ae=ze._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),ae.has(Le.head)||ae.set(Le.head,new Set([100])),this._noopAnimations="NoopAnimations"===xe&&!!Ne&&!Ne._forceAnimations,"mat-spinner"===dt.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Ne&&(Ne.color&&(this.color=this.defaultColor=Ne.color),Ne.diameter&&(this.diameter=Ne.diameter),Ne.strokeWidth&&(this.strokeWidth=Ne.strokeWidth)),tt.isBrowser&&tt.SAFARI&&oe&&se&&Qe&&(this._resizeSubscription=oe.change(150).subscribe(()=>{"indeterminate"===this.mode&&Qe.run(()=>se.markForCheck())}))}get diameter(){return this._diameter}set diameter(dt){this._diameter=(0,c.su)(dt),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(dt){this._strokeWidth=(0,c.su)(dt)}get value(){return"determinate"===this.mode?this._value:0}set value(dt){this._value=Math.max(0,Math.min(100,(0,c.su)(dt)))}ngOnInit(){const dt=this._elementRef.nativeElement;this._styleRoot=(0,y.kV)(dt)||this._document.head,this._attachStyleNode(),dt.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const dt=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${dt} ${dt}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(dt){const tt=50*(dt.currentScale??1);return`${tt}% ${tt}%`}_attachStyleNode(){const dt=this._styleRoot,tt=this._diameter,Le=ze._diameters;let xe=Le.get(dt);if(!xe||!xe.has(tt)){const Ne=this._document.createElement("style");Ne.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ne.textContent=this._getAnimationText(),dt.appendChild(Ne),xe||(xe=new Set,Le.set(dt,xe)),xe.add(tt)}}_getAnimationText(){const dt=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*dt).replace(/END_VALUE/g,""+.2*dt).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ze._diameters=new WeakMap,ze.\u0275fac=function(dt){return new(dt||ze)(de.Y36(de.SBq),de.Y36(y.t4),de.Y36(F.K0,8),de.Y36(de.QbO,8),de.Y36(He),de.Y36(de.sBO),de.Y36(b.rL),de.Y36(de.R0b))},ze.\u0275cmp=de.Xpm({type:ze,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(dt,tt){2&dt&&(de.uIk("aria-valuemin","determinate"===tt.mode?0:null)("aria-valuemax","determinate"===tt.mode?100:null)("aria-valuenow","determinate"===tt.mode?tt.value:null)("mode",tt.mode),de.Udp("width",tt.diameter,"px")("height",tt.diameter,"px"),de.ekj("_mat-animation-noopable",tt._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[de.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(dt,tt){1&dt&&(de.O4$(),de.TgZ(0,"svg",0,1),de.YNc(2,Re,1,11,"circle",2),de.YNc(3,S,1,9,"circle",3),de.qZA()),2&dt&&(de.Udp("width",tt.diameter,"px")("height",tt.diameter,"px"),de.Q6J("ngSwitch","indeterminate"===tt.mode),de.uIk("viewBox",tt._getViewBox()),de.xp6(2),de.Q6J("ngSwitchCase",!0),de.xp6(1),de.Q6J("ngSwitchCase",!1))},dependencies:[F.RF,F.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Se=(()=>{class be{}return be.\u0275fac=function(tt){return new(tt||be)},be.\u0275mod=de.oAB({type:be}),be.\u0275inj=de.cJS({imports:[Be.BQ,F.ez,Be.BQ]}),be})()},1948:(ln,ht,w)=>{w.d(ht,{Fk:()=>Le,U0:()=>tt,VQ:()=>Se});var c=w(4650),y=w(3238),b=w(2687),F=w(1281),de=w(5017),Be=w(4006);const Ke=["input"],Re=function(xe){return{enterDuration:xe}},S=["*"],ne=new c.OlP("mat-radio-default-options",{providedIn:"root",factory:function me(){return{color:"accent"}}});let he=0;const He={provide:Be.JU,useExisting:(0,c.Gpc)(()=>Se),multi:!0};class We{constructor(Ne,se){this.source=Ne,this.value=se}}const Me=new c.OlP("MatRadioGroup");let ze=(()=>{class xe{constructor(se){this._changeDetector=se,this._value=null,this._name="mat-radio-group-"+he++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new c.vpe}get name(){return this._name}set name(se){this._name=se,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(se){this._labelPosition="before"===se?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(se){this._value!==se&&(this._value=se,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(se){this._selected=se,this.value=se?se.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(se){this._disabled=(0,F.Ig)(se),this._markRadiosForCheck()}get required(){return this._required}set required(se){this._required=(0,F.Ig)(se),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(se=>{se.name=this.name,se._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(oe=>{oe.checked=this.value===oe.value,oe.checked&&(this._selected=oe)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new We(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(se=>se._markForCheck())}writeValue(se){this.value=se,this._changeDetector.markForCheck()}registerOnChange(se){this._controlValueAccessorChangeFn=se}registerOnTouched(se){this.onTouched=se}setDisabledState(se){this.disabled=se,this._changeDetector.markForCheck()}}return xe.\u0275fac=function(se){return new(se||xe)(c.Y36(c.sBO))},xe.\u0275dir=c.lG2({type:xe,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),xe})(),Se=(()=>{class xe extends ze{}return xe.\u0275fac=function(){let Ne;return function(oe){return(Ne||(Ne=c.n5z(xe)))(oe||xe)}}(),xe.\u0275dir=c.lG2({type:xe,selectors:[["mat-radio-group"]],contentQueries:function(se,oe,Qe){if(1&se&&c.Suo(Qe,tt,5),2&se){let ae;c.iGM(ae=c.CRH())&&(oe._radios=ae)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[c._Bn([He,{provide:Me,useExisting:xe}]),c.qOj]}),xe})();class Ee{constructor(Ne){this._elementRef=Ne}}const be=(0,y.Kr)((0,y.sb)(Ee));let dt=(()=>{class xe extends be{constructor(se,oe,Qe,ae,ue,Ce,Je,Ht){super(oe),this._changeDetector=Qe,this._focusMonitor=ae,this._radioDispatcher=ue,this._providerOverride=Je,this._uniqueId="mat-radio-"+ ++he,this.id=this._uniqueId,this.change=new c.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=se,this._noopAnimations="NoopAnimations"===Ce,Ht&&(this.tabIndex=(0,F.su)(Ht,0)),this._removeUniqueSelectionListener=ue.listen((jt,sn)=>{jt!==this.id&&sn===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(se){const oe=(0,F.Ig)(se);this._checked!==oe&&(this._checked=oe,oe&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!oe&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),oe&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(se){this._value!==se&&(this._value=se,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===se),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(se){this._labelPosition=se}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(se){this._setDisabled((0,F.Ig)(se))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(se){this._required=(0,F.Ig)(se)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(se){this._color=se}get inputId(){return`${this.id||this._uniqueId}-input`}focus(se,oe){oe?this._focusMonitor.focusVia(this._inputElement,oe,se):this._inputElement.nativeElement.focus(se)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(se=>{!se&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new We(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(se){se.stopPropagation()}_onInputInteraction(se){if(se.stopPropagation(),!this.checked&&!this.disabled){const oe=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),oe&&this.radioGroup._emitChangeEvent())}}_setDisabled(se){this._disabled!==se&&(this._disabled=se,this._changeDetector.markForCheck())}_updateTabIndex(){const se=this.radioGroup;let oe;if(oe=se&&se.selected&&!this.disabled?se.selected===this?this.tabIndex:-1:this.tabIndex,oe!==this._previousTabIndex){const Qe=this._inputElement?.nativeElement;Qe&&(Qe.setAttribute("tabindex",oe+""),this._previousTabIndex=oe)}}}return xe.\u0275fac=function(se){c.$Z()},xe.\u0275dir=c.lG2({type:xe,viewQuery:function(se,oe){if(1&se&&c.Gf(Ke,5),2&se){let Qe;c.iGM(Qe=c.CRH())&&(oe._inputElement=Qe.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[c.qOj]}),xe})(),tt=(()=>{class xe extends dt{constructor(se,oe,Qe,ae,ue,Ce,Je,Ht){super(se,oe,Qe,ae,ue,Ce,Je,Ht)}}return xe.\u0275fac=function(se){return new(se||xe)(c.Y36(Me,8),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(b.tE),c.Y36(de.A8),c.Y36(c.QbO,8),c.Y36(ne,8),c.$8M("tabindex"))},xe.\u0275cmp=c.Xpm({type:xe,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(se,oe){1&se&&c.NdJ("focus",function(){return oe._inputElement.nativeElement.focus()}),2&se&&(c.uIk("tabindex",null)("id",oe.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),c.ekj("mat-radio-checked",oe.checked)("mat-radio-disabled",oe.disabled)("_mat-animation-noopable",oe._noopAnimations)("mat-primary","primary"===oe.color)("mat-accent","accent"===oe.color)("mat-warn","warn"===oe.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[c.qOj],ngContentSelectors:S,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(se,oe){if(1&se&&(c.F$t(),c.TgZ(0,"label",0,1)(2,"span",2),c._UZ(3,"span",3)(4,"span",4),c.TgZ(5,"input",5,6),c.NdJ("change",function(ae){return oe._onInputInteraction(ae)})("click",function(ae){return oe._onInputClick(ae)}),c.qZA(),c.TgZ(7,"span",7),c._UZ(8,"span",8),c.qZA()(),c.TgZ(9,"span",9)(10,"span",10),c._uU(11,"\xa0"),c.qZA(),c.Hsn(12),c.qZA()()),2&se){const Qe=c.MAs(1);c.uIk("for",oe.inputId),c.xp6(5),c.Q6J("id",oe.inputId)("checked",oe.checked)("disabled",oe.disabled)("required",oe.required),c.uIk("name",oe.name)("value",oe.value)("aria-label",oe.ariaLabel)("aria-labelledby",oe.ariaLabelledby)("aria-describedby",oe.ariaDescribedby),c.xp6(2),c.Q6J("matRippleTrigger",Qe)("matRippleDisabled",oe._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",c.VKq(17,Re,oe._noopAnimations?0:150)),c.xp6(2),c.ekj("mat-radio-label-before","before"==oe.labelPosition)}},dependencies:[y.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),xe})(),Le=(()=>{class xe{}return xe.\u0275fac=function(se){return new(se||xe)},xe.\u0275mod=c.oAB({type:xe}),xe.\u0275inj=c.cJS({imports:[y.si,y.BQ,y.BQ]}),xe})()},4385:(ln,ht,w)=>{w.d(ht,{LD:()=>Jt,gD:()=>En});var c=w(8184),y=w(6895),b=w(4650),F=w(3238),de=w(9549),Be=w(531),Ke=w(2687),Re=w(445),S=w(1281),ne=w(5017),me=w(9521),he=w(4006),He=w(7579),We=w(9770),Me=w(6451),ze=w(8675),Se=w(3900),Ee=w(5698),be=w(9300),dt=w(4004),tt=w(1884),Le=w(2722),xe=w(7340);const Ne=["trigger"],se=["panel"];function oe(ot,ge){if(1&ot&&(b.TgZ(0,"span",8),b._uU(1),b.qZA()),2&ot){const P=b.oxw();b.xp6(1),b.Oqu(P.placeholder)}}function Qe(ot,ge){if(1&ot&&(b.TgZ(0,"span",12),b._uU(1),b.qZA()),2&ot){const P=b.oxw(2);b.xp6(1),b.Oqu(P.triggerValue)}}function ae(ot,ge){1&ot&&b.Hsn(0,0,["*ngSwitchCase","true"])}function ue(ot,ge){if(1&ot&&(b.TgZ(0,"span",9),b.YNc(1,Qe,2,1,"span",10),b.YNc(2,ae,1,0,"ng-content",11),b.qZA()),2&ot){const P=b.oxw();b.Q6J("ngSwitch",!!P.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function Ce(ot,ge){if(1&ot){const P=b.EpF();b.TgZ(0,"div",13)(1,"div",14,15),b.NdJ("@transformPanel.done",function(De){b.CHM(P);const mt=b.oxw();return b.KtG(mt._panelDoneAnimatingStream.next(De.toState))})("keydown",function(De){b.CHM(P);const mt=b.oxw();return b.KtG(mt._handleKeydown(De))}),b.Hsn(3,1),b.qZA()()}if(2&ot){const P=b.oxw();b.Q6J("@transformPanelWrap",void 0),b.xp6(1),b.Gre("mat-select-panel ",P._getPanelTheme(),""),b.Udp("transform-origin",P._transformOrigin)("font-size",P._triggerFontSize,"px"),b.Q6J("ngClass",P.panelClass)("@transformPanel",P.multiple?"showing-multiple":"showing"),b.uIk("id",P.id+"-panel")("aria-multiselectable",P.multiple)("aria-label",P.ariaLabel||null)("aria-labelledby",P._getPanelAriaLabelledby())}}const Je=[[["mat-select-trigger"]],"*"],Ht=["mat-select-trigger","*"],jt={transformPanelWrap:(0,xe.X$)("transformPanelWrap",[(0,xe.eR)("* => void",(0,xe.IO)("@transformPanel",[(0,xe.pV)()],{optional:!0}))]),transformPanel:(0,xe.X$)("transformPanel",[(0,xe.SB)("void",(0,xe.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,xe.SB)("showing",(0,xe.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,xe.SB)("showing-multiple",(0,xe.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,xe.eR)("void => *",(0,xe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,xe.eR)("* => void",(0,xe.jt)("100ms 25ms linear",(0,xe.oB)({opacity:0})))])};let Te=0;const et=new b.OlP("mat-select-scroll-strategy"),Dt=new b.OlP("MAT_SELECT_CONFIG"),Nt={provide:et,deps:[c.aV],useFactory:function rt(ot){return()=>ot.scrollStrategies.reposition()}};class dn{constructor(ge,P){this.source=ge,this.value=P}}const Mn=(0,F.Kr)((0,F.sb)((0,F.Id)((0,F.FD)(class{constructor(ot,ge,P,$,De){this._elementRef=ot,this._defaultErrorStateMatcher=ge,this._parentForm=P,this._parentFormGroup=$,this.ngControl=De,this.stateChanges=new He.x}})))),Pn=new b.OlP("MatSelectTrigger");let Bn=(()=>{class ot extends Mn{constructor(P,$,De,mt,Ge,Pe,Fe,xt,St,Pt,gn,Ln,at,Vt){super(Ge,mt,Fe,xt,Pt),this._viewportRuler=P,this._changeDetectorRef=$,this._ngZone=De,this._dir=Pe,this._parentFormField=St,this._liveAnnouncer=at,this._defaultOptions=Vt,this._panelOpen=!1,this._compareWith=(ce,lt)=>ce===lt,this._uid="mat-select-"+Te++,this._triggerAriaLabelledBy=null,this._destroy=new He.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Te++,this._panelDoneAnimatingStream=new He.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,We.P)(()=>{const ce=this.options;return ce?ce.changes.pipe((0,ze.O)(ce),(0,Se.w)(()=>(0,Me.T)(...ce.map(lt=>lt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ee.q)(1),(0,Se.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,be.h)(ce=>ce),(0,dt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,be.h)(ce=>!ce),(0,dt.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Vt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Vt.typeaheadDebounceInterval),this._scrollStrategyFactory=Ln,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(gn)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(P){this._placeholder=P,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(he.kI.required)??!1}set required(P){this._required=(0,S.Ig)(P),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(P){this._multiple=(0,S.Ig)(P)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(P){this._disableOptionCentering=(0,S.Ig)(P)}get compareWith(){return this._compareWith}set compareWith(P){this._compareWith=P,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(P){this._assignValue(P)&&this._onChange(P)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(P){this._typeaheadDebounceInterval=(0,S.su)(P)}get id(){return this._id}set id(P){this._id=P||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ne.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,tt.x)(),(0,Le.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Le.R)(this._destroy)).subscribe(P=>{P.added.forEach($=>$.select()),P.removed.forEach($=>$.deselect())}),this.options.changes.pipe((0,ze.O)(null),(0,Le.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const P=this._getTriggerAriaLabelledby(),$=this.ngControl;if(P!==this._triggerAriaLabelledBy){const De=this._elementRef.nativeElement;this._triggerAriaLabelledBy=P,P?De.setAttribute("aria-labelledby",P):De.removeAttribute("aria-labelledby")}$&&(this._previousControl!==$.control&&(void 0!==this._previousControl&&null!==$.disabled&&$.disabled!==this.disabled&&(this.disabled=$.disabled),this._previousControl=$.control),this.updateErrorState())}ngOnChanges(P){(P.disabled||P.userAriaDescribedBy)&&this.stateChanges.next(),P.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(P){this._assignValue(P)}registerOnChange(P){this._onChange=P}registerOnTouched(P){this._onTouched=P}setDisabledState(P){this.disabled=P,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const P=this._selectionModel.selected.map($=>$.viewValue);return this._isRtl()&&P.reverse(),P.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(P){this.disabled||(this.panelOpen?this._handleOpenKeydown(P):this._handleClosedKeydown(P))}_handleClosedKeydown(P){const $=P.keyCode,De=$===me.JH||$===me.LH||$===me.oh||$===me.SV,mt=$===me.K5||$===me.L_,Ge=this._keyManager;if(!Ge.isTyping()&&mt&&!(0,me.Vb)(P)||(this.multiple||P.altKey)&&De)P.preventDefault(),this.open();else if(!this.multiple){const Pe=this.selected;Ge.onKeydown(P);const Fe=this.selected;Fe&&Pe!==Fe&&this._liveAnnouncer.announce(Fe.viewValue,1e4)}}_handleOpenKeydown(P){const $=this._keyManager,De=P.keyCode,mt=De===me.JH||De===me.LH,Ge=$.isTyping();if(mt&&P.altKey)P.preventDefault(),this.close();else if(Ge||De!==me.K5&&De!==me.L_||!$.activeItem||(0,me.Vb)(P))if(!Ge&&this._multiple&&De===me.A&&P.ctrlKey){P.preventDefault();const Pe=this.options.some(Fe=>!Fe.disabled&&!Fe.selected);this.options.forEach(Fe=>{Fe.disabled||(Pe?Fe.select():Fe.deselect())})}else{const Pe=$.activeItemIndex;$.onKeydown(P),this._multiple&&mt&&P.shiftKey&&$.activeItem&&$.activeItemIndex!==Pe&&$.activeItem._selectViaInteraction()}else P.preventDefault(),$.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ee.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(P){if(this._selectionModel.selected.forEach($=>$.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&P)Array.isArray(P),P.forEach($=>this._selectOptionByValue($)),this._sortValues();else{const $=this._selectOptionByValue(P);$?this._keyManager.updateActiveItem($):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(P){const $=this.options.find(De=>{if(this._selectionModel.isSelected(De))return!1;try{return null!=De.value&&this._compareWith(De.value,P)}catch{return!1}});return $&&this._selectionModel.select($),$}_assignValue(P){return!!(P!==this._value||this._multiple&&Array.isArray(P))&&(this.options&&this._setSelectionByValue(P),this._value=P,!0)}_initKeyManager(){this._keyManager=new Ke.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,Le.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,Le.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const P=(0,Me.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Le.R)(P)).subscribe($=>{this._onSelect($.source,$.isUserInput),$.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Me.T)(...this.options.map($=>$._stateChanges)).pipe((0,Le.R)(P)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(P,$){const De=this._selectionModel.isSelected(P);null!=P.value||this._multiple?(De!==P.selected&&(P.selected?this._selectionModel.select(P):this._selectionModel.deselect(P)),$&&this._keyManager.setActiveItem(P),this.multiple&&(this._sortValues(),$&&this.focus())):(P.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(P.value)),De!==this._selectionModel.isSelected(P)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const P=this.options.toArray();this._selectionModel.sort(($,De)=>this.sortComparator?this.sortComparator($,De,P):P.indexOf($)-P.indexOf(De)),this.stateChanges.next()}}_propagateChanges(P){let $=null;$=this.multiple?this.selected.map(De=>De.value):this.selected?this.selected.value:P,this._value=$,this.valueChange.emit($),this._onChange($),this.selectionChange.emit(this._getChangeEvent($)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(P){this._elementRef.nativeElement.focus(P)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const P=this._parentFormField?.getLabelId();return this.ariaLabelledby?(P?P+" ":"")+this.ariaLabelledby:P}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const P=this._parentFormField?.getLabelId();let $=(P?P+" ":"")+this._valueId;return this.ariaLabelledby&&($+=" "+this.ariaLabelledby),$}_panelDoneAnimating(P){this.openedChange.emit(P)}setDescribedByIds(P){P.length?this._elementRef.nativeElement.setAttribute("aria-describedby",P.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return ot.\u0275fac=function(P){return new(P||ot)(b.Y36(Be.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(F.rD),b.Y36(b.SBq),b.Y36(Re.Is,8),b.Y36(he.F,8),b.Y36(he.sg,8),b.Y36(de.G_,8),b.Y36(he.a5,10),b.$8M("tabindex"),b.Y36(et),b.Y36(Ke.Kd),b.Y36(Dt,8))},ot.\u0275dir=b.lG2({type:ot,viewQuery:function(P,$){if(1&P&&(b.Gf(Ne,5),b.Gf(se,5),b.Gf(c.pI,5)),2&P){let De;b.iGM(De=b.CRH())&&($.trigger=De.first),b.iGM(De=b.CRH())&&($.panel=De.first),b.iGM(De=b.CRH())&&($._overlayDir=De.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]}),ot})(),En=(()=>{class ot extends Bn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(P,$,De){const mt=this._getItemHeight();return Math.min(Math.max(0,mt*P-$+mt/2),De)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Le.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ee.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(P){const $=(0,F.CB)(P,this.options,this.optionGroups),De=this._getItemHeight();this.panel.nativeElement.scrollTop=0===P&&1===$?0:(0,F.jH)((P+$)*De,De,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(P){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(P)}_getChangeEvent(P){return new dn(this,P)}_calculateOverlayOffsetX(){const P=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),$=this._viewportRuler.getViewportSize(),De=this._isRtl(),mt=this.multiple?56:32;let Ge;if(this.multiple)Ge=40;else if(this.disableOptionCentering)Ge=16;else{let xt=this._selectionModel.selected[0]||this.options.first;Ge=xt&&xt.group?32:16}De||(Ge*=-1);const Pe=0-(P.left+Ge-(De?mt:0)),Fe=P.right+Ge-$.width+(De?0:mt);Pe>0?Ge+=Pe+8:Fe>0&&(Ge-=Fe+8),this._overlayDir.offsetX=Math.round(Ge),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(P,$,De){const mt=this._getItemHeight(),Ge=(mt-this._triggerRect.height)/2,Pe=Math.floor(256/mt);let Fe;return this.disableOptionCentering?0:(Fe=0===this._scrollTop?P*mt:this._scrollTop===De?(P-(this._getItemCount()-Pe))*mt+(mt-(this._getItemCount()*mt-256)%mt):$-mt/2,Math.round(-1*Fe-Ge))}_checkOverlayWithinViewport(P){const $=this._getItemHeight(),De=this._viewportRuler.getViewportSize(),mt=this._triggerRect.top-8,Ge=De.height-this._triggerRect.bottom-8,Pe=Math.abs(this._offsetY),xt=Math.min(this._getItemCount()*$,256)-Pe-this._triggerRect.height;xt>Ge?this._adjustPanelUp(xt,Ge):Pe>mt?this._adjustPanelDown(Pe,mt,P):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(P,$){const De=Math.round(P-$);this._scrollTop-=De,this._offsetY-=De,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(P,$,De){const mt=Math.round(P-$);if(this._scrollTop+=mt,this._offsetY+=mt,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=De)return this._scrollTop=De,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const P=this._getItemHeight(),$=this._getItemCount(),De=Math.min($*P,256),Ge=$*P-De;let Pe;Pe=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Pe+=(0,F.CB)(Pe,this.options,this.optionGroups);const Fe=De/2;this._scrollTop=this._calculateOverlayScroll(Pe,Fe,Ge),this._offsetY=this._calculateOverlayOffsetY(Pe,Fe,Ge),this._checkOverlayWithinViewport(Ge)}_getOriginBasedOnOption(){const P=this._getItemHeight(),$=(P-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-$+P/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return ot.\u0275fac=function(){let ge;return function($){return(ge||(ge=b.n5z(ot)))($||ot)}}(),ot.\u0275cmp=b.Xpm({type:ot,selectors:[["mat-select"]],contentQueries:function(P,$,De){if(1&P&&(b.Suo(De,Pn,5),b.Suo(De,F.ey,5),b.Suo(De,F.K7,5)),2&P){let mt;b.iGM(mt=b.CRH())&&($.customTrigger=mt.first),b.iGM(mt=b.CRH())&&($.options=mt),b.iGM(mt=b.CRH())&&($.optionGroups=mt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(P,$){1&P&&b.NdJ("keydown",function(mt){return $._handleKeydown(mt)})("focus",function(){return $._onFocus()})("blur",function(){return $._onBlur()}),2&P&&(b.uIk("id",$.id)("tabindex",$.tabIndex)("aria-controls",$.panelOpen?$.id+"-panel":null)("aria-expanded",$.panelOpen)("aria-label",$.ariaLabel||null)("aria-required",$.required.toString())("aria-disabled",$.disabled.toString())("aria-invalid",$.errorState)("aria-activedescendant",$._getAriaActiveDescendant()),b.ekj("mat-select-disabled",$.disabled)("mat-select-invalid",$.errorState)("mat-select-required",$.required)("mat-select-empty",$.empty)("mat-select-multiple",$.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[b._Bn([{provide:de.Eo,useExisting:ot},{provide:F.HF,useExisting:ot}]),b.qOj],ngContentSelectors:Ht,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(P,$){if(1&P&&(b.F$t(Je),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return $.toggle()}),b.TgZ(3,"div",2),b.YNc(4,oe,2,1,"span",3),b.YNc(5,ue,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5),b._UZ(7,"div",6),b.qZA()(),b.YNc(8,Ce,4,14,"ng-template",7),b.NdJ("backdropClick",function(){return $.close()})("attach",function(){return $._onAttached()})("detach",function(){return $.close()})),2&P){const De=b.MAs(1);b.uIk("aria-owns",$.panelOpen?$.id+"-panel":null),b.xp6(3),b.Q6J("ngSwitch",$.empty),b.uIk("id",$._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(3),b.Q6J("cdkConnectedOverlayPanelClass",$._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",$._scrollStrategy)("cdkConnectedOverlayOrigin",De)("cdkConnectedOverlayOpen",$.panelOpen)("cdkConnectedOverlayPositions",$._positions)("cdkConnectedOverlayMinWidth",null==$._triggerRect?null:$._triggerRect.width)("cdkConnectedOverlayOffsetY",$._offsetY)}},dependencies:[y.mk,y.RF,y.n9,y.ED,c.pI,c.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[jt.transformPanelWrap,jt.transformPanel]},changeDetection:0}),ot})(),Jt=(()=>{class ot{}return ot.\u0275fac=function(P){return new(P||ot)},ot.\u0275mod=b.oAB({type:ot}),ot.\u0275inj=b.cJS({providers:[Nt],imports:[y.ez,c.U8,F.Ng,F.BQ,Be.ZD,de.lN,F.Ng,F.BQ]}),ot})()},671:(ln,ht,w)=>{w.d(ht,{ev:()=>Yt,Dz:()=>Ft,w1:()=>At,ge:()=>ut,fO:()=>cn,XQ:()=>Xe,as:()=>wn,Gk:()=>$e,nj:()=>Gn,BZ:()=>je,by:()=>wr,p0:()=>Vn});var c=w(4650),y=w(445),b=w(1281),F=w(5017),de=w(3353),Be=w(531),Ke=w(6895),Re=w(7579),S=w(8996),ne=w(1135),me=w(5191),he=w(9646),He=w(2722),We=w(5698);const Me=[[["caption"]],[["colgroup"],["col"]]],ze=["caption","colgroup, col"];function be(pe){return class extends pe{constructor(...wt){super(...wt),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(wt){const B=this._sticky;this._sticky=(0,b.Ig)(wt),this._hasStickyChanged=B!==this._sticky}hasStickyChanged(){const wt=this._hasStickyChanged;return this._hasStickyChanged=!1,wt}resetStickyChanged(){this._hasStickyChanged=!1}}}const dt=new c.OlP("CDK_TABLE");let Le=(()=>{class pe{constructor(B){this.template=B}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkCellDef",""]]}),pe})(),xe=(()=>{class pe{constructor(B){this.template=B}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkHeaderCellDef",""]]}),pe})(),Ne=(()=>{class pe{constructor(B){this.template=B}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkFooterCellDef",""]]}),pe})();class se{}const oe=be(se);let Qe=(()=>{class pe extends oe{constructor(B){super(),this._table=B,this._stickyEnd=!1}get name(){return this._name}set name(B){this._setNameInput(B)}get stickyEnd(){return this._stickyEnd}set stickyEnd(B){const we=this._stickyEnd;this._stickyEnd=(0,b.Ig)(B),this._hasStickyChanged=we!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(B){B&&(this._name=B,this.cssClassFriendlyName=B.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(dt,8))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkColumnDef",""]],contentQueries:function(B,we,Ve){if(1&B&&(c.Suo(Ve,Le,5),c.Suo(Ve,xe,5),c.Suo(Ve,Ne,5)),2&B){let Ct;c.iGM(Ct=c.CRH())&&(we.cell=Ct.first),c.iGM(Ct=c.CRH())&&(we.headerCell=Ct.first),c.iGM(Ct=c.CRH())&&(we.footerCell=Ct.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:pe}]),c.qOj]}),pe})();class ae{constructor(wt,B){B.nativeElement.classList.add(...wt._columnCssClassName)}}let ue=(()=>{class pe extends ae{constructor(B,we){super(B,we)}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(Qe),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),pe})(),Je=(()=>{class pe extends ae{constructor(B,we){if(super(B,we),1===B._table?._elementRef.nativeElement.nodeType){const Ve=B._table._elementRef.nativeElement.getAttribute("role");we.nativeElement.setAttribute("role","grid"===Ve||"treegrid"===Ve?"gridcell":"cell")}}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(Qe),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),pe})();class Ht{constructor(){this.tasks=[],this.endTasks=[]}}const jt=new c.OlP("_COALESCED_STYLE_SCHEDULER");let sn=(()=>{class pe{constructor(B){this._ngZone=B,this._currentSchedule=null,this._destroyed=new Re.x}schedule(B){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(B)}scheduleEnd(B){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(B)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Ht,this._getScheduleObservable().pipe((0,He.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const B=this._currentSchedule;this._currentSchedule=new Ht;for(const we of B.tasks)we();for(const we of B.endTasks)we()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,S.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,We.q)(1))}}return pe.\u0275fac=function(B){return new(B||pe)(c.LFG(c.R0b))},pe.\u0275prov=c.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Bt=(()=>{class pe{constructor(B,we){this.template=B,this._differs=we}ngOnChanges(B){if(!this._columnsDiffer){const we=B.columns&&B.columns.currentValue||[];this._columnsDiffer=this._differs.find(we).create(),this._columnsDiffer.diff(we)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(B){return this instanceof pt?B.headerCell.template:this instanceof zt?B.footerCell.template:B.cell.template}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},pe.\u0275dir=c.lG2({type:pe,features:[c.TTD]}),pe})();class Te extends Bt{}const Et=be(Te);let pt=(()=>{class pe extends Et{constructor(B,we,Ve){super(B,we),this._table=Ve}ngOnChanges(B){super.ngOnChanges(B)}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(dt,8))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),pe})();class Lt extends Bt{}const Mt=be(Lt);let zt=(()=>{class pe extends Mt{constructor(B,we,Ve){super(B,we),this._table=Ve}ngOnChanges(B){super.ngOnChanges(B)}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(dt,8))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),pe})(),Ye=(()=>{class pe extends Bt{constructor(B,we,Ve){super(B,we),this._table=Ve}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(dt,8))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),pe})(),et=(()=>{class pe{constructor(B){this._viewContainer=B,pe.mostRecentCellOutlet=this}ngOnDestroy(){pe.mostRecentCellOutlet===this&&(pe.mostRecentCellOutlet=null)}}return pe.mostRecentCellOutlet=null,pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.s_b))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","cdkCellOutlet",""]]}),pe})(),rt=(()=>{class pe{}return pe.\u0275fac=function(B){return new(B||pe)},pe.\u0275cmp=c.Xpm({type:pe,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(B,we){1&B&&c.GkF(0,0)},dependencies:[et],encapsulation:2}),pe})(),Nt=(()=>{class pe{}return pe.\u0275fac=function(B){return new(B||pe)},pe.\u0275cmp=c.Xpm({type:pe,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(B,we){1&B&&c.GkF(0,0)},dependencies:[et],encapsulation:2}),pe})(),dn=(()=>{class pe{constructor(B){this.templateRef=B,this._contentClassName="cdk-no-data-row"}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.Rgc))},pe.\u0275dir=c.lG2({type:pe,selectors:[["ng-template","cdkNoDataRow",""]]}),pe})();const Mn=["top","bottom","left","right"];class Pn{constructor(wt,B,we,Ve,Ct=!0,un=!0,vn){this._isNativeHtmlTable=wt,this._stickCellCss=B,this.direction=we,this._coalescedStyleScheduler=Ve,this._isBrowser=Ct,this._needsPositionStickyOnElement=un,this._positionListener=vn,this._cachedCellWidths=[],this._borderCellCss={top:`${B}-border-elem-top`,bottom:`${B}-border-elem-bottom`,left:`${B}-border-elem-left`,right:`${B}-border-elem-right`}}clearStickyPositioning(wt,B){const we=[];for(const Ve of wt)if(Ve.nodeType===Ve.ELEMENT_NODE){we.push(Ve);for(let Ct=0;Ct<Ve.children.length;Ct++)we.push(Ve.children[Ct])}this._coalescedStyleScheduler.schedule(()=>{for(const Ve of we)this._removeStickyStyle(Ve,B)})}updateStickyColumns(wt,B,we,Ve=!0){if(!wt.length||!this._isBrowser||!B.some(qi=>qi)&&!we.some(qi=>qi))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Ct=wt[0],un=Ct.children.length,vn=this._getCellWidths(Ct,Ve),Qn=this._getStickyStartColumnPositions(vn,B),mi=this._getStickyEndColumnPositions(vn,we),Ci=B.lastIndexOf(!0),ei=we.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const qi="rtl"===this.direction,Ki=qi?"right":"left",Kr=qi?"left":"right";for(const dr of wt)for(let Li=0;Li<un;Li++){const Qi=dr.children[Li];B[Li]&&this._addStickyStyle(Qi,Ki,Qn[Li],Li===Ci),we[Li]&&this._addStickyStyle(Qi,Kr,mi[Li],Li===ei)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Ci?[]:vn.slice(0,Ci+1).map((dr,Li)=>B[Li]?dr:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===ei?[]:vn.slice(ei).map((dr,Li)=>we[Li+ei]?dr:null).reverse()}))})}stickRows(wt,B,we){if(!this._isBrowser)return;const Ve="bottom"===we?wt.slice().reverse():wt,Ct="bottom"===we?B.slice().reverse():B,un=[],vn=[],Qn=[];for(let Ci=0,ei=0;Ci<Ve.length;Ci++){if(!Ct[Ci])continue;un[Ci]=ei;const qi=Ve[Ci];Qn[Ci]=this._isNativeHtmlTable?Array.from(qi.children):[qi];const Ki=qi.getBoundingClientRect().height;ei+=Ki,vn[Ci]=Ki}const mi=Ct.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Ci=0;Ci<Ve.length;Ci++){if(!Ct[Ci])continue;const ei=un[Ci],qi=Ci===mi;for(const Ki of Qn[Ci])this._addStickyStyle(Ki,we,ei,qi)}"top"===we?this._positionListener?.stickyHeaderRowsUpdated({sizes:vn,offsets:un,elements:Qn}):this._positionListener?.stickyFooterRowsUpdated({sizes:vn,offsets:un,elements:Qn})})}updateStickyFooterContainer(wt,B){if(!this._isNativeHtmlTable)return;const we=wt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{B.some(Ve=>!Ve)?this._removeStickyStyle(we,["bottom"]):this._addStickyStyle(we,"bottom",0,!1)})}_removeStickyStyle(wt,B){for(const Ve of B)wt.style[Ve]="",wt.classList.remove(this._borderCellCss[Ve]);Mn.some(Ve=>-1===B.indexOf(Ve)&&wt.style[Ve])?wt.style.zIndex=this._getCalculatedZIndex(wt):(wt.style.zIndex="",this._needsPositionStickyOnElement&&(wt.style.position=""),wt.classList.remove(this._stickCellCss))}_addStickyStyle(wt,B,we,Ve){wt.classList.add(this._stickCellCss),Ve&&wt.classList.add(this._borderCellCss[B]),wt.style[B]=`${we}px`,wt.style.zIndex=this._getCalculatedZIndex(wt),this._needsPositionStickyOnElement&&(wt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(wt){const B={top:100,bottom:10,left:1,right:1};let we=0;for(const Ve of Mn)wt.style[Ve]&&(we+=B[Ve]);return we?`${we}`:""}_getCellWidths(wt,B=!0){if(!B&&this._cachedCellWidths.length)return this._cachedCellWidths;const we=[],Ve=wt.children;for(let Ct=0;Ct<Ve.length;Ct++)we.push(Ve[Ct].getBoundingClientRect().width);return this._cachedCellWidths=we,we}_getStickyStartColumnPositions(wt,B){const we=[];let Ve=0;for(let Ct=0;Ct<wt.length;Ct++)B[Ct]&&(we[Ct]=Ve,Ve+=wt[Ct]);return we}_getStickyEndColumnPositions(wt,B){const we=[];let Ve=0;for(let Ct=wt.length;Ct>0;Ct--)B[Ct]&&(we[Ct]=Ve,Ve+=wt[Ct]);return we}}const De=new c.OlP("CDK_SPL");let Ge=(()=>{class pe{constructor(B,we){this.viewContainer=B,this.elementRef=we}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.s_b),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","rowOutlet",""]]}),pe})(),Pe=(()=>{class pe{constructor(B,we){this.viewContainer=B,this.elementRef=we}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.s_b),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","headerRowOutlet",""]]}),pe})(),Fe=(()=>{class pe{constructor(B,we){this.viewContainer=B,this.elementRef=we}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.s_b),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","footerRowOutlet",""]]}),pe})(),xt=(()=>{class pe{constructor(B,we){this.viewContainer=B,this.elementRef=we}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.s_b),c.Y36(c.SBq))},pe.\u0275dir=c.lG2({type:pe,selectors:[["","noDataRowOutlet",""]]}),pe})(),gn=(()=>{class pe{constructor(B,we,Ve,Ct,un,vn,Qn,mi,Ci,ei,qi,Ki){this._differs=B,this._changeDetectorRef=we,this._elementRef=Ve,this._dir=un,this._platform=Qn,this._viewRepeater=mi,this._coalescedStyleScheduler=Ci,this._viewportRuler=ei,this._stickyPositioningListener=qi,this._ngZone=Ki,this._onDestroy=new Re.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new ne.X({start:0,end:Number.MAX_VALUE}),Ct||this._elementRef.nativeElement.setAttribute("role","table"),this._document=vn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(B){this._trackByFn=B}get dataSource(){return this._dataSource}set dataSource(B){this._dataSource!==B&&this._switchDataSource(B)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(B){this._multiTemplateDataRows=(0,b.Ig)(B),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(B){this._fixedLayout=(0,b.Ig)(B),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((B,we)=>this.trackBy?this.trackBy(we.dataIndex,we.data):we),this._viewportRuler.change().pipe((0,He.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const we=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||we,this._forceRecalculateCellWidths=we,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(B=>{B.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,F.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const B=this._dataDiffer.diff(this._renderRows);if(!B)return this._updateNoDataRow(),void this.contentChanged.next();const we=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(B,we,(Ve,Ct,un)=>this._getEmbeddedViewArgs(Ve.item,un),Ve=>Ve.item.data,Ve=>{1===Ve.operation&&Ve.context&&this._renderCellTemplateForItem(Ve.record.item.rowDef,Ve.context)}),this._updateRowIndexContext(),B.forEachIdentityChange(Ve=>{we.get(Ve.currentIndex).context.$implicit=Ve.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,We.q)(1),(0,He.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(B){this._customColumnDefs.add(B)}removeColumnDef(B){this._customColumnDefs.delete(B)}addRowDef(B){this._customRowDefs.add(B)}removeRowDef(B){this._customRowDefs.delete(B)}addHeaderRowDef(B){this._customHeaderRowDefs.add(B),this._headerRowDefChanged=!0}removeHeaderRowDef(B){this._customHeaderRowDefs.delete(B),this._headerRowDefChanged=!0}addFooterRowDef(B){this._customFooterRowDefs.add(B),this._footerRowDefChanged=!0}removeFooterRowDef(B){this._customFooterRowDefs.delete(B),this._footerRowDefChanged=!0}setNoDataRow(B){this._customNoDataRow=B}updateStickyHeaderRowStyles(){const B=this._getRenderedRows(this._headerRowOutlet),Ve=this._elementRef.nativeElement.querySelector("thead");Ve&&(Ve.style.display=B.length?"":"none");const Ct=this._headerRowDefs.map(un=>un.sticky);this._stickyStyler.clearStickyPositioning(B,["top"]),this._stickyStyler.stickRows(B,Ct,"top"),this._headerRowDefs.forEach(un=>un.resetStickyChanged())}updateStickyFooterRowStyles(){const B=this._getRenderedRows(this._footerRowOutlet),Ve=this._elementRef.nativeElement.querySelector("tfoot");Ve&&(Ve.style.display=B.length?"":"none");const Ct=this._footerRowDefs.map(un=>un.sticky);this._stickyStyler.clearStickyPositioning(B,["bottom"]),this._stickyStyler.stickRows(B,Ct,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Ct),this._footerRowDefs.forEach(un=>un.resetStickyChanged())}updateStickyColumnStyles(){const B=this._getRenderedRows(this._headerRowOutlet),we=this._getRenderedRows(this._rowOutlet),Ve=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...B,...we,...Ve],["left","right"]),this._stickyColumnStylesNeedReset=!1),B.forEach((Ct,un)=>{this._addStickyColumnStyles([Ct],this._headerRowDefs[un])}),this._rowDefs.forEach(Ct=>{const un=[];for(let vn=0;vn<we.length;vn++)this._renderRows[vn].rowDef===Ct&&un.push(we[vn]);this._addStickyColumnStyles(un,Ct)}),Ve.forEach((Ct,un)=>{this._addStickyColumnStyles([Ct],this._footerRowDefs[un])}),Array.from(this._columnDefsByName.values()).forEach(Ct=>Ct.resetStickyChanged())}_getAllRenderRows(){const B=[],we=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ve=0;Ve<this._data.length;Ve++){let Ct=this._data[Ve];const un=this._getRenderRowsForData(Ct,Ve,we.get(Ct));this._cachedRenderRowsMap.has(Ct)||this._cachedRenderRowsMap.set(Ct,new WeakMap);for(let vn=0;vn<un.length;vn++){let Qn=un[vn];const mi=this._cachedRenderRowsMap.get(Qn.data);mi.has(Qn.rowDef)?mi.get(Qn.rowDef).push(Qn):mi.set(Qn.rowDef,[Qn]),B.push(Qn)}}return B}_getRenderRowsForData(B,we,Ve){return this._getRowDefs(B,we).map(un=>{const vn=Ve&&Ve.has(un)?Ve.get(un):[];if(vn.length){const Qn=vn.shift();return Qn.dataIndex=we,Qn}return{data:B,rowDef:un,dataIndex:we}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ln(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(we=>{this._columnDefsByName.has(we.name),this._columnDefsByName.set(we.name,we)})}_cacheRowDefs(){this._headerRowDefs=Ln(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ln(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ln(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const B=this._rowDefs.filter(we=>!we.when);this._defaultRowDef=B[0]}_renderUpdatedColumns(){const B=(un,vn)=>un||!!vn.getColumnsDiff(),we=this._rowDefs.reduce(B,!1);we&&this._forceRenderDataRows();const Ve=this._headerRowDefs.reduce(B,!1);Ve&&this._forceRenderHeaderRows();const Ct=this._footerRowDefs.reduce(B,!1);return Ct&&this._forceRenderFooterRows(),we||Ve||Ct}_switchDataSource(B){this._data=[],(0,F.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),B||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=B}_observeRenderChanges(){if(!this.dataSource)return;let B;(0,F.Z9)(this.dataSource)?B=this.dataSource.connect(this):(0,me.b)(this.dataSource)?B=this.dataSource:Array.isArray(this.dataSource)&&(B=(0,he.of)(this.dataSource)),this._renderChangeSubscription=B.pipe((0,He.R)(this._onDestroy)).subscribe(we=>{this._data=we||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((B,we)=>this._renderRow(this._headerRowOutlet,B,we)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((B,we)=>this._renderRow(this._footerRowOutlet,B,we)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(B,we){const Ve=Array.from(we.columns||[]).map(vn=>this._columnDefsByName.get(vn)),Ct=Ve.map(vn=>vn.sticky),un=Ve.map(vn=>vn.stickyEnd);this._stickyStyler.updateStickyColumns(B,Ct,un,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(B){const we=[];for(let Ve=0;Ve<B.viewContainer.length;Ve++){const Ct=B.viewContainer.get(Ve);we.push(Ct.rootNodes[0])}return we}_getRowDefs(B,we){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ve=[];if(this.multiTemplateDataRows)Ve=this._rowDefs.filter(Ct=>!Ct.when||Ct.when(we,B));else{let Ct=this._rowDefs.find(un=>un.when&&un.when(we,B))||this._defaultRowDef;Ct&&Ve.push(Ct)}return Ve}_getEmbeddedViewArgs(B,we){return{templateRef:B.rowDef.template,context:{$implicit:B.data},index:we}}_renderRow(B,we,Ve,Ct={}){const un=B.viewContainer.createEmbeddedView(we.template,Ct,Ve);return this._renderCellTemplateForItem(we,Ct),un}_renderCellTemplateForItem(B,we){for(let Ve of this._getCellTemplates(B))et.mostRecentCellOutlet&&et.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ve,we);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const B=this._rowOutlet.viewContainer;for(let we=0,Ve=B.length;we<Ve;we++){const un=B.get(we).context;un.count=Ve,un.first=0===we,un.last=we===Ve-1,un.even=we%2==0,un.odd=!un.even,this.multiTemplateDataRows?(un.dataIndex=this._renderRows[we].dataIndex,un.renderIndex=we):un.index=this._renderRows[we].dataIndex}}_getCellTemplates(B){return B&&B.columns?Array.from(B.columns,we=>{const Ve=this._columnDefsByName.get(we);return B.extractCellTemplate(Ve)}):[]}_applyNativeTableSections(){const B=this._document.createDocumentFragment(),we=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Ve of we){const Ct=this._document.createElement(Ve.tag);Ct.setAttribute("role","rowgroup");for(const un of Ve.outlets)Ct.appendChild(un.elementRef.nativeElement);B.appendChild(Ct)}this._elementRef.nativeElement.appendChild(B)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const B=(we,Ve)=>we||Ve.hasStickyChanged();this._headerRowDefs.reduce(B,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(B,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(B,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Pn(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,he.of)()).pipe((0,He.R)(this._onDestroy)).subscribe(we=>{this._stickyStyler.direction=we,this.updateStickyColumnStyles()})}_getOwnDefs(B){return B.filter(we=>!we._table||we._table===this)}_updateNoDataRow(){const B=this._customNoDataRow||this._noDataRow;if(!B)return;const we=0===this._rowOutlet.viewContainer.length;if(we===this._isShowingNoDataRow)return;const Ve=this._noDataRowOutlet.viewContainer;if(we){const Ct=Ve.createEmbeddedView(B.templateRef),un=Ct.rootNodes[0];1===Ct.rootNodes.length&&un?.nodeType===this._document.ELEMENT_NODE&&(un.setAttribute("role","row"),un.classList.add(B._contentClassName))}else Ve.clear();this._isShowingNoDataRow=we}}return pe.\u0275fac=function(B){return new(B||pe)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(y.Is,8),c.Y36(Ke.K0),c.Y36(de.t4),c.Y36(F.k),c.Y36(jt),c.Y36(Be.rL),c.Y36(De,12),c.Y36(c.R0b,8))},pe.\u0275cmp=c.Xpm({type:pe,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(B,we,Ve){if(1&B&&(c.Suo(Ve,dn,5),c.Suo(Ve,Qe,5),c.Suo(Ve,Ye,5),c.Suo(Ve,pt,5),c.Suo(Ve,zt,5)),2&B){let Ct;c.iGM(Ct=c.CRH())&&(we._noDataRow=Ct.first),c.iGM(Ct=c.CRH())&&(we._contentColumnDefs=Ct),c.iGM(Ct=c.CRH())&&(we._contentRowDefs=Ct),c.iGM(Ct=c.CRH())&&(we._contentHeaderRowDefs=Ct),c.iGM(Ct=c.CRH())&&(we._contentFooterRowDefs=Ct)}},viewQuery:function(B,we){if(1&B&&(c.Gf(Ge,7),c.Gf(Pe,7),c.Gf(Fe,7),c.Gf(xt,7)),2&B){let Ve;c.iGM(Ve=c.CRH())&&(we._rowOutlet=Ve.first),c.iGM(Ve=c.CRH())&&(we._headerRowOutlet=Ve.first),c.iGM(Ve=c.CRH())&&(we._footerRowOutlet=Ve.first),c.iGM(Ve=c.CRH())&&(we._noDataRowOutlet=Ve.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(B,we){2&B&&c.ekj("cdk-table-fixed-layout",we.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:dt,useExisting:pe},{provide:F.k,useClass:F.yy},{provide:jt,useClass:sn},{provide:De,useValue:null}])],ngContentSelectors:ze,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(B,we){1&B&&(c.F$t(Me),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ge,Pe,Fe,xt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),pe})();function Ln(pe,wt){return pe.concat(Array.from(wt))}let ce=(()=>{class pe{}return pe.\u0275fac=function(B){return new(B||pe)},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({imports:[Be.Cl]}),pe})();var lt=w(3238),gt=w(6451),te=w(9841),J=w(4004);const ee=[[["caption"]],[["colgroup"],["col"]]],O=["caption","colgroup, col"];let je=(()=>{class pe extends gn{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275cmp=c.Xpm({type:pe,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(B,we){2&B&&c.ekj("mat-table-fixed-layout",we.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:F.k,useClass:F.yy},{provide:gn,useExisting:pe},{provide:dt,useExisting:pe},{provide:jt,useClass:sn},{provide:De,useValue:null}]),c.qOj],ngContentSelectors:O,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(B,we){1&B&&(c.F$t(ee),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Ge,Pe,Fe,xt],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),pe})(),Ft=(()=>{class pe extends Le{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:Le,useExisting:pe}]),c.qOj]}),pe})(),cn=(()=>{class pe extends xe{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:xe,useExisting:pe}]),c.qOj]}),pe})(),At=(()=>{class pe extends Qe{get name(){return this._name}set name(B){this._setNameInput(B)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Qe,useExisting:pe},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:pe}]),c.qOj]}),pe})(),ut=(()=>{class pe extends ue{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[c.qOj]}),pe})(),Yt=(()=>{class pe extends Je{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[c.qOj]}),pe})(),wn=(()=>{class pe extends pt{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:pt,useExisting:pe}]),c.qOj]}),pe})(),Gn=(()=>{class pe extends Ye{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275dir=c.lG2({type:pe,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:Ye,useExisting:pe}]),c.qOj]}),pe})(),Xe=(()=>{class pe extends rt{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275cmp=c.Xpm({type:pe,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:rt,useExisting:pe}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(B,we){1&B&&c.GkF(0,0)},dependencies:[et],encapsulation:2}),pe})(),$e=(()=>{class pe extends Nt{}return pe.\u0275fac=function(){let wt;return function(we){return(wt||(wt=c.n5z(pe)))(we||pe)}}(),pe.\u0275cmp=c.Xpm({type:pe,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[c._Bn([{provide:Nt,useExisting:pe}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(B,we){1&B&&c.GkF(0,0)},dependencies:[et],encapsulation:2}),pe})(),Vn=(()=>{class pe{}return pe.\u0275fac=function(B){return new(B||pe)},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({imports:[ce,lt.BQ,lt.BQ]}),pe})();class Ii extends F.o2{constructor(wt=[]){super(),this._renderData=new ne.X([]),this._filter=new ne.X(""),this._internalPageChanges=new Re.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(B,we)=>{const Ve=B[we];if((0,b.t6)(Ve)){const Ct=Number(Ve);return Ct<9007199254740991?Ct:Ve}return Ve},this.sortData=(B,we)=>{const Ve=we.active,Ct=we.direction;return Ve&&""!=Ct?B.sort((un,vn)=>{let Qn=this.sortingDataAccessor(un,Ve),mi=this.sortingDataAccessor(vn,Ve);const Ci=typeof Qn,ei=typeof mi;Ci!==ei&&("number"===Ci&&(Qn+=""),"number"===ei&&(mi+=""));let qi=0;return null!=Qn&&null!=mi?Qn>mi?qi=1:Qn<mi&&(qi=-1):null!=Qn?qi=1:null!=mi&&(qi=-1),qi*("asc"==Ct?1:-1)}):B},this.filterPredicate=(B,we)=>{const Ve=Object.keys(B).reduce((un,vn)=>un+B[vn]+"\u25ec","").toLowerCase(),Ct=we.trim().toLowerCase();return-1!=Ve.indexOf(Ct)},this._data=new ne.X(wt),this._updateChangeSubscription()}get data(){return this._data.value}set data(wt){wt=Array.isArray(wt)?wt:[],this._data.next(wt),this._renderChangesSubscription||this._filterData(wt)}get filter(){return this._filter.value}set filter(wt){this._filter.next(wt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(wt){this._sort=wt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(wt){this._paginator=wt,this._updateChangeSubscription()}_updateChangeSubscription(){const wt=this._sort?(0,gt.T)(this._sort.sortChange,this._sort.initialized):(0,he.of)(null),B=this._paginator?(0,gt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,he.of)(null),Ve=(0,te.a)([this._data,this._filter]).pipe((0,J.U)(([vn])=>this._filterData(vn))),Ct=(0,te.a)([Ve,wt]).pipe((0,J.U)(([vn])=>this._orderData(vn))),un=(0,te.a)([Ct,B]).pipe((0,J.U)(([vn])=>this._pageData(vn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=un.subscribe(vn=>this._renderData.next(vn))}_filterData(wt){return this.filteredData=null==this.filter||""===this.filter?wt:wt.filter(B=>this.filterPredicate(B,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(wt){return this.sort?this.sortData(wt.slice(),this.sort):wt}_pageData(wt){if(!this.paginator)return wt;const B=this.paginator.pageIndex*this.paginator.pageSize;return wt.slice(B,B+this.paginator.pageSize)}_updatePaginator(wt){Promise.resolve().then(()=>{const B=this.paginator;if(B&&(B.length=wt,B.pageIndex>0)){const we=Math.ceil(B.length/B.pageSize)-1||0,Ve=Math.min(B.pageIndex,we);Ve!==B.pageIndex&&(B.pageIndex=Ve,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class wr extends Ii{}},3683:(ln,ht,w)=>{w.d(ht,{Ye:()=>S,g0:()=>me});var c=w(4650),y=w(3238),b=w(3353),F=w(6895);const de=["*",[["mat-toolbar-row"]]],Be=["*","mat-toolbar-row"],Ke=(0,y.pj)(class{constructor(he){this._elementRef=he}});let Re=(()=>{class he{}return he.\u0275fac=function(We){return new(We||he)},he.\u0275dir=c.lG2({type:he,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),he})(),S=(()=>{class he extends Ke{constructor(We,Me,ze){super(We),this._platform=Me,this._document=ze}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return he.\u0275fac=function(We){return new(We||he)(c.Y36(c.SBq),c.Y36(b.t4),c.Y36(F.K0))},he.\u0275cmp=c.Xpm({type:he,selectors:[["mat-toolbar"]],contentQueries:function(We,Me,ze){if(1&We&&c.Suo(ze,Re,5),2&We){let Se;c.iGM(Se=c.CRH())&&(Me._toolbarRows=Se)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(We,Me){2&We&&c.ekj("mat-toolbar-multiple-rows",Me._toolbarRows.length>0)("mat-toolbar-single-row",0===Me._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Be,decls:2,vars:0,template:function(We,Me){1&We&&(c.F$t(de),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),he})(),me=(()=>{class he{}return he.\u0275fac=function(We){return new(We||he)},he.\u0275mod=c.oAB({type:he}),he.\u0275inj=c.cJS({imports:[y.BQ,y.BQ]}),he})()},266:(ln,ht,w)=>{w.d(ht,{AV:()=>jt,gM:()=>Ce});var c=w(8184),y=w(2687),b=w(6895),F=w(4650),de=w(3238),Be=w(531),Ke=w(445),Re=w(1281),S=w(9521),ne=w(2289),me=w(3353),he=w(4080),He=w(7579),We=w(2722),Me=w(5698);w(7340);const Se=["tooltip"],dt="tooltip-panel",tt=(0,me.i$)({passive:!0}),Ne=new F.OlP("mat-tooltip-scroll-strategy"),oe={provide:Ne,deps:[c.aV],useFactory:function se(on){return()=>on.scrollStrategies.reposition({scrollThrottle:20})}},Qe=new F.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let ue=(()=>{class on{constructor(Te,Et,pt,Lt,Mt,zt,Ye,et,rt,Dt,Nt,dn){this._overlay=Te,this._elementRef=Et,this._scrollDispatcher=pt,this._viewContainerRef=Lt,this._ngZone=Mt,this._platform=zt,this._ariaDescriber=Ye,this._focusMonitor=et,this._dir=Dt,this._defaultOptions=Nt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new He.x,this._scrollStrategy=rt,this._document=dn,Nt&&(Nt.position&&(this.position=Nt.position),Nt.touchGestures&&(this.touchGestures=Nt.touchGestures)),Dt.change.pipe((0,We.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(Te){Te!==this._position&&(this._position=Te,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(Te){this._disabled=(0,Re.Ig)(Te),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Te){this._showDelay=(0,Re.su)(Te)}get hideDelay(){return this._hideDelay}set hideDelay(Te){this._hideDelay=(0,Re.su)(Te),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Te){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Te?String(Te).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Te){this._tooltipClass=Te,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,We.R)(this._destroyed)).subscribe(Te=>{Te?"keyboard"===Te&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Te=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Et,pt])=>{Te.removeEventListener(Et,pt,tt)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Te,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Te)}show(Te=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const Et=this._createOverlay();this._detach(),this._portal=this._portal||new he.C5(this._tooltipComponent,this._viewContainerRef);const pt=this._tooltipInstance=Et.attach(this._portal).instance;pt._triggerElement=this._elementRef.nativeElement,pt._mouseLeaveHideDelay=this._hideDelay,pt.afterHidden().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),pt.show(Te)}hide(Te=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(Te)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const Te=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Et=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Te);return Et.positionChanges.pipe((0,We.R)(this._destroyed)).subscribe(pt=>{this._updateCurrentPositionClass(pt.connectionPair),this._tooltipInstance&&pt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Et,panelClass:`${this._cssClassPrefix}-${dt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,We.R)(this._destroyed)).subscribe(pt=>{this._isTooltipVisible()&&pt.keyCode===S.hY&&!(0,S.Vb)(pt)&&(pt.preventDefault(),pt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Te){const Et=Te.getConfig().positionStrategy,pt=this._getOrigin(),Lt=this._getOverlayPosition();Et.withPositions([this._addOffset({...pt.main,...Lt.main}),this._addOffset({...pt.fallback,...Lt.fallback})])}_addOffset(Te){return Te}_getOrigin(){const Te=!this._dir||"ltr"==this._dir.value,Et=this.position;let pt;"above"==Et||"below"==Et?pt={originX:"center",originY:"above"==Et?"top":"bottom"}:"before"==Et||"left"==Et&&Te||"right"==Et&&!Te?pt={originX:"start",originY:"center"}:("after"==Et||"right"==Et&&Te||"left"==Et&&!Te)&&(pt={originX:"end",originY:"center"});const{x:Lt,y:Mt}=this._invertPosition(pt.originX,pt.originY);return{main:pt,fallback:{originX:Lt,originY:Mt}}}_getOverlayPosition(){const Te=!this._dir||"ltr"==this._dir.value,Et=this.position;let pt;"above"==Et?pt={overlayX:"center",overlayY:"bottom"}:"below"==Et?pt={overlayX:"center",overlayY:"top"}:"before"==Et||"left"==Et&&Te||"right"==Et&&!Te?pt={overlayX:"end",overlayY:"center"}:("after"==Et||"right"==Et&&Te||"left"==Et&&!Te)&&(pt={overlayX:"start",overlayY:"center"});const{x:Lt,y:Mt}=this._invertPosition(pt.overlayX,pt.overlayY);return{main:pt,fallback:{overlayX:Lt,overlayY:Mt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Me.q)(1),(0,We.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Te){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Te,this._tooltipInstance._markForCheck())}_invertPosition(Te,Et){return"above"===this.position||"below"===this.position?"top"===Et?Et="bottom":"bottom"===Et&&(Et="top"):"end"===Te?Te="start":"start"===Te&&(Te="end"),{x:Te,y:Et}}_updateCurrentPositionClass(Te){const{overlayY:Et,originX:pt,originY:Lt}=Te;let Mt;if(Mt="center"===Et?this._dir&&"rtl"===this._dir.value?"end"===pt?"left":"right":"start"===pt?"left":"right":"bottom"===Et&&"top"===Lt?"above":"below",Mt!==this._currentPosition){const zt=this._overlayRef;if(zt){const Ye=`${this._cssClassPrefix}-${dt}-`;zt.removePanelClass(Ye+this._currentPosition),zt.addPanelClass(Ye+Mt)}this._currentPosition=Mt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Te=[];if(this._platformSupportsMouseEvents())Te.push(["mouseleave",Et=>{const pt=Et.relatedTarget;(!pt||!this._overlayRef?.overlayElement.contains(pt))&&this.hide()}],["wheel",Et=>this._wheelListener(Et)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Et=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Te.push(["touchend",Et],["touchcancel",Et])}this._addListeners(Te),this._passiveListeners.push(...Te)}_addListeners(Te){Te.forEach(([Et,pt])=>{this._elementRef.nativeElement.addEventListener(Et,pt,tt)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Te){if(this._isTooltipVisible()){const Et=this._document.elementFromPoint(Te.clientX,Te.clientY),pt=this._elementRef.nativeElement;Et!==pt&&!pt.contains(Et)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Te=this.touchGestures;if("off"!==Te){const Et=this._elementRef.nativeElement,pt=Et.style;("on"===Te||"INPUT"!==Et.nodeName&&"TEXTAREA"!==Et.nodeName)&&(pt.userSelect=pt.msUserSelect=pt.webkitUserSelect=pt.MozUserSelect="none"),("on"===Te||!Et.draggable)&&(pt.webkitUserDrag="none"),pt.touchAction="none",pt.webkitTapHighlightColor="transparent"}}}return on.\u0275fac=function(Te){F.$Z()},on.\u0275dir=F.lG2({type:on,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),on})(),Ce=(()=>{class on extends ue{constructor(Te,Et,pt,Lt,Mt,zt,Ye,et,rt,Dt,Nt,dn){super(Te,Et,pt,Lt,Mt,zt,Ye,et,rt,Dt,Nt,dn),this._tooltipComponent=Ht}}return on.\u0275fac=function(Te){return new(Te||on)(F.Y36(c.aV),F.Y36(F.SBq),F.Y36(Be.mF),F.Y36(F.s_b),F.Y36(F.R0b),F.Y36(me.t4),F.Y36(y.$s),F.Y36(y.tE),F.Y36(Ne),F.Y36(Ke.Is,8),F.Y36(Qe,8),F.Y36(b.K0))},on.\u0275dir=F.lG2({type:on,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[F.qOj]}),on})(),Je=(()=>{class on{constructor(Te,Et){this._changeDetectorRef=Te,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new He.x,this._animationsDisabled="NoopAnimations"===Et}show(Te){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Te)}hide(Te){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Te)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Te}){(!Te||!this._triggerElement.contains(Te))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:Te}){(Te===this._showAnimation||Te===this._hideAnimation)&&this._finalizeAnimation(Te===this._showAnimation)}_finalizeAnimation(Te){Te?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Te){const Et=this._tooltip.nativeElement,pt=this._showAnimation,Lt=this._hideAnimation;if(Et.classList.remove(Te?Lt:pt),Et.classList.add(Te?pt:Lt),this._isVisible=Te,Te&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Mt=getComputedStyle(Et);("0s"===Mt.getPropertyValue("animation-duration")||"none"===Mt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Te&&this._onShow(),this._animationsDisabled&&(Et.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Te))}}return on.\u0275fac=function(Te){return new(Te||on)(F.Y36(F.sBO),F.Y36(F.QbO,8))},on.\u0275dir=F.lG2({type:on}),on})(),Ht=(()=>{class on extends Je{constructor(Te,Et,pt){super(Te,pt),this._breakpointObserver=Et,this._isHandset=this._breakpointObserver.observe(ne.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return on.\u0275fac=function(Te){return new(Te||on)(F.Y36(F.sBO),F.Y36(ne.Yg),F.Y36(F.QbO,8))},on.\u0275cmp=F.Xpm({type:on,selectors:[["mat-tooltip-component"]],viewQuery:function(Te,Et){if(1&Te&&F.Gf(Se,7),2&Te){let pt;F.iGM(pt=F.CRH())&&(Et._tooltip=pt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Te,Et){1&Te&&F.NdJ("mouseleave",function(Lt){return Et._handleMouseLeave(Lt)}),2&Te&&F.Udp("zoom",Et.isVisible()?1:null)},features:[F.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(Te,Et){if(1&Te&&(F.TgZ(0,"div",0,1),F.NdJ("animationend",function(Lt){return Et._handleAnimationEnd(Lt)}),F.ALo(2,"async"),F._uU(3),F.qZA()),2&Te){let pt;F.ekj("mat-tooltip-handset",null==(pt=F.lcZ(2,4,Et._isHandset))?null:pt.matches),F.Q6J("ngClass",Et.tooltipClass),F.xp6(3),F.Oqu(Et.message)}},dependencies:[b.mk,b.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),on})(),jt=(()=>{class on{}return on.\u0275fac=function(Te){return new(Te||on)},on.\u0275mod=F.oAB({type:on}),on.\u0275inj=F.cJS({providers:[oe],imports:[y.rt,b.ez,c.U8,de.BQ,de.BQ,Be.ZD]}),on})()},1481:(ln,ht,w)=>{w.d(ht,{Dx:()=>Ge,H7:()=>Yt,b2:()=>ge,q6:()=>Bn,se:()=>Je});var c=w(6895),y=w(4650);class b extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F extends b{static makeCurrent(){(0,c.HT)(new F)}onAndCancel(it,$e,It){return it.addEventListener($e,It,!1),()=>{it.removeEventListener($e,It,!1)}}dispatchEvent(it,$e){it.dispatchEvent($e)}remove(it){it.parentNode&&it.parentNode.removeChild(it)}createElement(it,$e){return($e=$e||this.getDefaultDocument()).createElement(it)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(it){return it.nodeType===Node.ELEMENT_NODE}isShadowRoot(it){return it instanceof DocumentFragment}getGlobalEventTarget(it,$e){return"window"===$e?window:"document"===$e?it:"body"===$e?it.body:null}getBaseHref(it){const $e=function Be(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==$e?null:function Re(Xe){Ke=Ke||document.createElement("a"),Ke.setAttribute("href",Xe);const it=Ke.pathname;return"/"===it.charAt(0)?it:`/${it}`}($e)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(it){return(0,c.Mx)(document.cookie,it)}}let Ke,de=null;const S=new y.OlP("TRANSITION_ID"),me=[{provide:y.ip1,useFactory:function ne(Xe,it,$e){return()=>{$e.get(y.CZH).donePromise.then(()=>{const It=(0,c.q)(),Gt=it.querySelectorAll(`style[ng-transition="${Xe}"]`);for(let xn=0;xn<Gt.length;xn++)It.remove(Gt[xn])})}},deps:[S,c.K0,y.zs3],multi:!0}];let He=(()=>{class Xe{build(){return new XMLHttpRequest}}return Xe.\u0275fac=function($e){return new($e||Xe)},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const We=new y.OlP("EventManagerPlugins");let Me=(()=>{class Xe{constructor($e,It){this._zone=It,this._eventNameToPlugin=new Map,$e.forEach(Gt=>Gt.manager=this),this._plugins=$e.slice().reverse()}addEventListener($e,It,Gt){return this._findPluginFor(It).addEventListener($e,It,Gt)}addGlobalEventListener($e,It,Gt){return this._findPluginFor(It).addGlobalEventListener($e,It,Gt)}getZone(){return this._zone}_findPluginFor($e){const It=this._eventNameToPlugin.get($e);if(It)return It;const Gt=this._plugins;for(let xn=0;xn<Gt.length;xn++){const Vn=Gt[xn];if(Vn.supports($e))return this._eventNameToPlugin.set($e,Vn),Vn}throw new Error(`No event manager plugin found for event ${$e}`)}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(We),y.LFG(y.R0b))},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();class ze{constructor(it){this._doc=it}addGlobalEventListener(it,$e,It){const Gt=(0,c.q)().getGlobalEventTarget(this._doc,it);if(!Gt)throw new Error(`Unsupported event target ${Gt} for event ${$e}`);return this.addEventListener(Gt,$e,It)}}let Se=(()=>{class Xe{constructor(){this._stylesSet=new Set}addStyles($e){const It=new Set;$e.forEach(Gt=>{this._stylesSet.has(Gt)||(this._stylesSet.add(Gt),It.add(Gt))}),this.onStylesAdded(It)}onStylesAdded($e){}getAllStyles(){return Array.from(this._stylesSet)}}return Xe.\u0275fac=function($e){return new($e||Xe)},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),Ee=(()=>{class Xe extends Se{constructor($e){super(),this._doc=$e,this._hostNodes=new Map,this._hostNodes.set($e.head,[])}_addStylesToHost($e,It,Gt){$e.forEach(xn=>{const Vn=this._doc.createElement("style");Vn.textContent=xn,Gt.push(It.appendChild(Vn))})}addHost($e){const It=[];this._addStylesToHost(this._stylesSet,$e,It),this._hostNodes.set($e,It)}removeHost($e){const It=this._hostNodes.get($e);It&&It.forEach(be),this._hostNodes.delete($e)}onStylesAdded($e){this._hostNodes.forEach((It,Gt)=>{this._addStylesToHost($e,Gt,It)})}ngOnDestroy(){this._hostNodes.forEach($e=>$e.forEach(be))}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(c.K0))},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();function be(Xe){(0,c.q)().remove(Xe)}const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g;function ae(Xe,it,$e){for(let It=0;It<it.length;It++){let Gt=it[It];Array.isArray(Gt)?ae(Xe,Gt,$e):(Gt=Gt.replace(tt,Xe),$e.push(Gt))}return $e}function ue(Xe){return it=>{if("__ngUnwrap__"===it)return Xe;!1===Xe(it)&&(it.preventDefault(),it.returnValue=!1)}}let Je=(()=>{class Xe{constructor($e,It,Gt){this.eventManager=$e,this.sharedStylesHost=It,this.appId=Gt,this.rendererByCompId=new Map,this.defaultRenderer=new Ht($e)}createRenderer($e,It){if(!$e||!It)return this.defaultRenderer;switch(It.encapsulation){case y.ifc.Emulated:{let Gt=this.rendererByCompId.get(It.id);return Gt||(Gt=new Bt(this.eventManager,this.sharedStylesHost,It,this.appId),this.rendererByCompId.set(It.id,Gt)),Gt.applyToHost($e),Gt}case 1:case y.ifc.ShadowDom:return new Te(this.eventManager,this.sharedStylesHost,$e,It);default:if(!this.rendererByCompId.has(It.id)){const Gt=ae(It.id,It.styles,[]);this.sharedStylesHost.addStyles(Gt),this.rendererByCompId.set(It.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(Me),y.LFG(Ee),y.LFG(y.AFp))},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();class Ht{constructor(it){this.eventManager=it,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(it,$e){return $e?document.createElementNS(dt[$e]||$e,it):document.createElement(it)}createComment(it){return document.createComment(it)}createText(it){return document.createTextNode(it)}appendChild(it,$e){(on(it)?it.content:it).appendChild($e)}insertBefore(it,$e,It){it&&(on(it)?it.content:it).insertBefore($e,It)}removeChild(it,$e){it&&it.removeChild($e)}selectRootElement(it,$e){let It="string"==typeof it?document.querySelector(it):it;if(!It)throw new Error(`The selector "${it}" did not match any elements`);return $e||(It.textContent=""),It}parentNode(it){return it.parentNode}nextSibling(it){return it.nextSibling}setAttribute(it,$e,It,Gt){if(Gt){$e=Gt+":"+$e;const xn=dt[Gt];xn?it.setAttributeNS(xn,$e,It):it.setAttribute($e,It)}else it.setAttribute($e,It)}removeAttribute(it,$e,It){if(It){const Gt=dt[It];Gt?it.removeAttributeNS(Gt,$e):it.removeAttribute(`${It}:${$e}`)}else it.removeAttribute($e)}addClass(it,$e){it.classList.add($e)}removeClass(it,$e){it.classList.remove($e)}setStyle(it,$e,It,Gt){Gt&(y.JOm.DashCase|y.JOm.Important)?it.style.setProperty($e,It,Gt&y.JOm.Important?"important":""):it.style[$e]=It}removeStyle(it,$e,It){It&y.JOm.DashCase?it.style.removeProperty($e):it.style[$e]=""}setProperty(it,$e,It){it[$e]=It}setValue(it,$e){it.nodeValue=$e}listen(it,$e,It){return"string"==typeof it?this.eventManager.addGlobalEventListener(it,$e,ue(It)):this.eventManager.addEventListener(it,$e,ue(It))}}function on(Xe){return"TEMPLATE"===Xe.tagName&&void 0!==Xe.content}class Bt extends Ht{constructor(it,$e,It,Gt){super(it),this.component=It;const xn=ae(Gt+"-"+It.id,It.styles,[]);$e.addStyles(xn),this.contentAttr=function oe(Xe){return"_ngcontent-%COMP%".replace(tt,Xe)}(Gt+"-"+It.id),this.hostAttr=function Qe(Xe){return"_nghost-%COMP%".replace(tt,Xe)}(Gt+"-"+It.id)}applyToHost(it){super.setAttribute(it,this.hostAttr,"")}createElement(it,$e){const It=super.createElement(it,$e);return super.setAttribute(It,this.contentAttr,""),It}}class Te extends Ht{constructor(it,$e,It,Gt){super(it),this.sharedStylesHost=$e,this.hostEl=It,this.shadowRoot=It.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xn=ae(Gt.id,Gt.styles,[]);for(let Vn=0;Vn<xn.length;Vn++){const ii=document.createElement("style");ii.textContent=xn[Vn],this.shadowRoot.appendChild(ii)}}nodeOrShadowRoot(it){return it===this.hostEl?this.shadowRoot:it}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(it,$e){return super.appendChild(this.nodeOrShadowRoot(it),$e)}insertBefore(it,$e,It){return super.insertBefore(this.nodeOrShadowRoot(it),$e,It)}removeChild(it,$e){return super.removeChild(this.nodeOrShadowRoot(it),$e)}parentNode(it){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(it)))}}let Et=(()=>{class Xe extends ze{constructor($e){super($e)}supports($e){return!0}addEventListener($e,It,Gt){return $e.addEventListener(It,Gt,!1),()=>this.removeEventListener($e,It,Gt)}removeEventListener($e,It,Gt){return $e.removeEventListener(It,Gt)}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(c.K0))},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const pt=["alt","control","meta","shift"],Lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={alt:Xe=>Xe.altKey,control:Xe=>Xe.ctrlKey,meta:Xe=>Xe.metaKey,shift:Xe=>Xe.shiftKey};let zt=(()=>{class Xe extends ze{constructor($e){super($e)}supports($e){return null!=Xe.parseEventName($e)}addEventListener($e,It,Gt){const xn=Xe.parseEventName(It),Vn=Xe.eventCallback(xn.fullKey,Gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel($e,xn.domEventName,Vn))}static parseEventName($e){const It=$e.toLowerCase().split("."),Gt=It.shift();if(0===It.length||"keydown"!==Gt&&"keyup"!==Gt)return null;const xn=Xe._normalizeKey(It.pop());let Vn="",ii=It.indexOf("code");if(ii>-1&&(It.splice(ii,1),Vn="code."),pt.forEach(wr=>{const pe=It.indexOf(wr);pe>-1&&(It.splice(pe,1),Vn+=wr+".")}),Vn+=xn,0!=It.length||0===xn.length)return null;const Ii={};return Ii.domEventName=Gt,Ii.fullKey=Vn,Ii}static matchEventFullKeyCode($e,It){let Gt=Lt[$e.key]||$e.key,xn="";return It.indexOf("code.")>-1&&(Gt=$e.code,xn="code."),!(null==Gt||!Gt)&&(Gt=Gt.toLowerCase()," "===Gt?Gt="space":"."===Gt&&(Gt="dot"),pt.forEach(Vn=>{Vn!==Gt&&(0,Mt[Vn])($e)&&(xn+=Vn+".")}),xn+=Gt,xn===It)}static eventCallback($e,It,Gt){return xn=>{Xe.matchEventFullKeyCode(xn,$e)&&Gt.runGuarded(()=>It(xn))}}static _normalizeKey($e){return"esc"===$e?"escape":$e}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(c.K0))},Xe.\u0275prov=y.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const Bn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:c.bD},{provide:y.g9A,useValue:function dn(){F.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function Pn(){return(0,y.RDi)(document),document},deps:[]}]),En=new y.OlP(""),Jt=[{provide:y.rWj,useClass:class he{addToWindow(it){y.dqk.getAngularTestability=(It,Gt=!0)=>{const xn=it.findTestabilityInTree(It,Gt);if(null==xn)throw new Error("Could not find testability for element.");return xn},y.dqk.getAllAngularTestabilities=()=>it.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>it.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(It=>{const Gt=y.dqk.getAllAngularTestabilities();let xn=Gt.length,Vn=!1;const ii=function(Ii){Vn=Vn||Ii,xn--,0==xn&&It(Vn)};Gt.forEach(function(Ii){Ii.whenStable(ii)})})}findTestabilityInTree(it,$e,It){return null==$e?null:it.getTestability($e)??(It?(0,c.q)().isShadowRoot($e)?this.findTestabilityInTree(it,$e.host,!0):this.findTestabilityInTree(it,$e.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],ot=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Mn(){return new y.qLn},deps:[]},{provide:We,useClass:Et,multi:!0,deps:[c.K0,y.R0b,y.Lbi]},{provide:We,useClass:zt,multi:!0,deps:[c.K0]},{provide:Je,useClass:Je,deps:[Me,Ee,y.AFp]},{provide:y.FYo,useExisting:Je},{provide:Se,useExisting:Ee},{provide:Ee,useClass:Ee,deps:[c.K0]},{provide:Me,useClass:Me,deps:[We,y.R0b]},{provide:c.JF,useClass:He,deps:[]},[]];let ge=(()=>{class Xe{constructor($e){}static withServerTransition($e){return{ngModule:Xe,providers:[{provide:y.AFp,useValue:$e.appId},{provide:S,useExisting:y.AFp},me]}}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(En,12))},Xe.\u0275mod=y.oAB({type:Xe}),Xe.\u0275inj=y.cJS({providers:[...ot,...Jt],imports:[c.ez,y.hGG]}),Xe})(),Ge=(()=>{class Xe{constructor($e){this._doc=$e}getTitle(){return this._doc.title}setTitle($e){this._doc.title=$e||""}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(c.K0))},Xe.\u0275prov=y.Yz7({token:Xe,factory:function($e){let It=null;return It=$e?new $e:function mt(){return new Ge((0,y.LFG)(c.K0))}(),It},providedIn:"root"}),Xe})();typeof window<"u"&&window;let Yt=(()=>{class Xe{}return Xe.\u0275fac=function($e){return new($e||Xe)},Xe.\u0275prov=y.Yz7({token:Xe,factory:function($e){let It=null;return It=$e?new($e||Xe):y.LFG($n),It},providedIn:"root"}),Xe})(),$n=(()=>{class Xe extends Yt{constructor($e){super(),this._doc=$e}sanitize($e,It){if(null==It)return null;switch($e){case y.q3G.NONE:return It;case y.q3G.HTML:return(0,y.qzn)(It,"HTML")?(0,y.z3N)(It):(0,y.EiD)(this._doc,String(It)).toString();case y.q3G.STYLE:return(0,y.qzn)(It,"Style")?(0,y.z3N)(It):It;case y.q3G.SCRIPT:if((0,y.qzn)(It,"Script"))return(0,y.z3N)(It);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.qzn)(It,"URL")?(0,y.z3N)(It):(0,y.mCW)(String(It));case y.q3G.RESOURCE_URL:if((0,y.qzn)(It,"ResourceURL"))return(0,y.z3N)(It);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${$e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml($e){return(0,y.JVY)($e)}bypassSecurityTrustStyle($e){return(0,y.L6k)($e)}bypassSecurityTrustScript($e){return(0,y.eBb)($e)}bypassSecurityTrustUrl($e){return(0,y.LAX)($e)}bypassSecurityTrustResourceUrl($e){return(0,y.pB0)($e)}}return Xe.\u0275fac=function($e){return new($e||Xe)(y.LFG(c.K0))},Xe.\u0275prov=y.Yz7({token:Xe,factory:function($e){let It=null;return It=$e?new $e:function wn(Xe){return new $n(Xe.get(c.K0))}(y.LFG(y.zs3)),It},providedIn:"root"}),Xe})()},6806:(ln,ht,w)=>{w.d(ht,{F0:()=>ls,rH:()=>_r,Od:()=>Va,yS:()=>_c,Bz:()=>zr,lC:()=>oo});var c=w(4650),y=w(8996),b=w(9646),F=w(1135),de=w(6805),Be=w(9841),Ke=w(7272),Re=w(9770),S=w(9635),ne=w(2843),me=w(9751),he=w(515),He=w(727),We=w(4482),Me=w(5403);function ze(){return(0,We.e)((M,A)=>{let E=null;M._refCount++;const U=(0,Me.x)(A,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(E=null);const Z=M._connection,Ie=E;E=null,Z&&(!Ie||Z===Ie)&&Z.unsubscribe(),A.unsubscribe()});M.subscribe(U),U.closed||(E=M.connect())})}class Se extends me.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new He.w0;const E=this.getSubject();A.add(this.source.subscribe((0,Me.x)(E,void 0,()=>{this._teardown(),E.complete()},U=>{this._teardown(),E.error(U)},()=>this._teardown()))),A.closed&&(this._connection=null,A=He.w0.EMPTY)}return A}refCount(){return ze()(this)}}var Ee=w(7579),be=w(6895),dt=w(4004),tt=w(3900),Le=w(5698),xe=w(8675),Ne=w(9300),se=w(5577),oe=w(590),Qe=w(4351),ae=w(8505),ue=w(262),Ce=w(5026);function Je(M){return M<=0?()=>he.E:(0,We.e)((A,E)=>{let U=[];A.subscribe((0,Me.x)(E,Z=>{U.push(Z),M<U.length&&U.shift()},()=>{for(const Z of U)E.next(Z);E.complete()},void 0,()=>{U=null}))})}var Ht=w(8068),jt=w(6590),sn=w(4671);function on(M,A){const E=arguments.length>=2;return U=>U.pipe(M?(0,Ne.h)((Z,Ie)=>M(Z,Ie,U)):sn.y,Je(1),E?(0,jt.d)(A):(0,Ht.T)(()=>new de.K))}var Bt=w(2529),Te=w(9718),Et=w(8746),pt=w(8189),Lt=w(1481);const Mt="primary",zt=Symbol("RouteTitle");class Ye{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function et(M){return new Ye(M)}function rt(M,A,E){const U=E.path.split("/");if(U.length>M.length||"full"===E.pathMatch&&(A.hasChildren()||U.length<M.length))return null;const Z={};for(let Ie=0;Ie<U.length;Ie++){const st=U[Ie],_t=M[Ie];if(st.startsWith(":"))Z[st.substring(1)]=_t;else if(st!==_t.path)return null}return{consumed:M.slice(0,U.length),posParams:Z}}function Nt(M,A){const E=M?Object.keys(M):void 0,U=A?Object.keys(A):void 0;if(!E||!U||E.length!=U.length)return!1;let Z;for(let Ie=0;Ie<E.length;Ie++)if(Z=E[Ie],!dn(M[Z],A[Z]))return!1;return!0}function dn(M,A){if(Array.isArray(M)&&Array.isArray(A)){if(M.length!==A.length)return!1;const E=[...M].sort(),U=[...A].sort();return E.every((Z,Ie)=>U[Ie]===Z)}return M===A}function Mn(M){return Array.prototype.concat.apply([],M)}function Pn(M){return M.length>0?M[M.length-1]:null}function Bn(M,A){for(const E in M)M.hasOwnProperty(E)&&A(M[E],E)}function En(M){return(0,c.CqO)(M)?M:(0,c.QGY)(M)?(0,y.D)(Promise.resolve(M)):(0,b.of)(M)}const ge={exact:function mt(M,A,E){if(!at(M.segments,A.segments)||!xt(M.segments,A.segments,E)||M.numberOfChildren!==A.numberOfChildren)return!1;for(const U in A.children)if(!M.children[U]||!mt(M.children[U],A.children[U],E))return!1;return!0},subset:Pe},P={exact:function De(M,A){return Nt(M,A)},subset:function Ge(M,A){return Object.keys(A).length<=Object.keys(M).length&&Object.keys(A).every(E=>dn(M[E],A[E]))},ignored:()=>!0};function $(M,A,E){return ge[E.paths](M.root,A.root,E.matrixParams)&&P[E.queryParams](M.queryParams,A.queryParams)&&!("exact"===E.fragment&&M.fragment!==A.fragment)}function Pe(M,A,E){return Fe(M,A,A.segments,E)}function Fe(M,A,E,U){if(M.segments.length>E.length){const Z=M.segments.slice(0,E.length);return!(!at(Z,E)||A.hasChildren()||!xt(Z,E,U))}if(M.segments.length===E.length){if(!at(M.segments,E)||!xt(M.segments,E,U))return!1;for(const Z in A.children)if(!M.children[Z]||!Pe(M.children[Z],A.children[Z],U))return!1;return!0}{const Z=E.slice(0,M.segments.length),Ie=E.slice(M.segments.length);return!!(at(M.segments,Z)&&xt(M.segments,Z,U)&&M.children[Mt])&&Fe(M.children[Mt],A,Ie,U)}}function xt(M,A,E){return A.every((U,Z)=>P[E](M[Z].parameters,U.parameters))}class St{constructor(A,E,U){this.root=A,this.queryParams=E,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return gt.serialize(this)}}class Pt{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Bn(E,(U,Z)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return te(this)}}class gn{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=et(this.parameters)),this._parameterMap}toString(){return Ft(this)}}function at(M,A){return M.length===A.length&&M.every((E,U)=>E.path===A[U].path)}let ce=(()=>{class M{}return M.\u0275fac=function(E){return new(E||M)},M.\u0275prov=c.Yz7({token:M,factory:function(){return new lt},providedIn:"root"}),M})();class lt{parse(A){const E=new Gn(A);return new St(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${J(A.root,!0)}`,U=function mn(M){const A=Object.keys(M).map(E=>{const U=M[E];return Array.isArray(U)?U.map(Z=>`${O(E)}=${O(Z)}`).join("&"):`${O(E)}=${O(U)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${U}${"string"==typeof A.fragment?`#${function K(M){return encodeURI(M)}(A.fragment)}`:""}`}}const gt=new lt;function te(M){return M.segments.map(A=>Ft(A)).join("/")}function J(M,A){if(!M.hasChildren())return te(M);if(A){const E=M.children[Mt]?J(M.children[Mt],!1):"",U=[];return Bn(M.children,(Z,Ie)=>{Ie!==Mt&&U.push(`${Ie}:${J(Z,!1)}`)}),U.length>0?`${E}(${U.join("//")})`:E}{const E=function Vt(M,A){let E=[];return Bn(M.children,(U,Z)=>{Z===Mt&&(E=E.concat(A(U,Z)))}),Bn(M.children,(U,Z)=>{Z!==Mt&&(E=E.concat(A(U,Z)))}),E}(M,(U,Z)=>Z===Mt?[J(M.children[Mt],!1)]:[`${Z}:${J(U,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Mt]?`${te(M)}/${E[0]}`:`${te(M)}/(${E.join("//")})`}}function ee(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function O(M){return ee(M).replace(/%3B/gi,";")}function z(M){return ee(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fe(M){return decodeURIComponent(M)}function je(M){return fe(M.replace(/\+/g,"%20"))}function Ft(M){return`${z(M.path)}${function cn(M){return Object.keys(M).map(A=>`;${z(A)}=${z(M[A])}`).join("")}(M.parameters)}`}const At=/^[^\/()?;=#]+/;function ut(M){const A=M.match(At);return A?A[0]:""}const yt=/^[^=?&#]+/,wn=/^[^&#]+/;class Gn{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(U[Mt]=new Pt(A,E)),U}parseSegment(){const A=ut(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(A),new gn(fe(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=ut(this.remaining);if(!E)return;this.capture(E);let U="";if(this.consumeOptional("=")){const Z=ut(this.remaining);Z&&(U=Z,this.capture(U))}A[fe(E)]=fe(U)}parseQueryParam(A){const E=function Yt(M){const A=M.match(yt);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let U="";if(this.consumeOptional("=")){const st=function $n(M){const A=M.match(wn);return A?A[0]:""}(this.remaining);st&&(U=st,this.capture(U))}const Z=je(E),Ie=je(U);if(A.hasOwnProperty(Z)){let st=A[Z];Array.isArray(st)||(st=[st],A[Z]=st),st.push(Ie)}else A[Z]=Ie}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=ut(this.remaining),Z=this.remaining[U.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new c.vHH(4010,!1);let Ie;U.indexOf(":")>-1?(Ie=U.slice(0,U.indexOf(":")),this.capture(Ie),this.capture(":")):A&&(Ie=Mt);const st=this.parseChildren();E[Ie]=1===Object.keys(st).length?st[Mt]:new Pt([],st),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new c.vHH(4011,!1)}}function Xe(M){return M.segments.length>0?new Pt([],{[Mt]:M}):M}function it(M){const A={};for(const U of Object.keys(M.children)){const Ie=it(M.children[U]);(Ie.segments.length>0||Ie.hasChildren())&&(A[U]=Ie)}return function $e(M){if(1===M.numberOfChildren&&M.children[Mt]){const A=M.children[Mt];return new Pt(M.segments.concat(A.segments),A.children)}return M}(new Pt(M.segments,A))}function It(M){return M instanceof St}function Ii(M,A,E,U,Z){if(0===E.length)return wt(A.root,A.root,A.root,U,Z);const Ie=function Ve(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new we(!0,0,M);let A=0,E=!1;const U=M.reduce((Z,Ie,st)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const _t={};return Bn(Ie.outlets,(qt,_n)=>{_t[_n]="string"==typeof qt?qt.split("/"):qt}),[...Z,{outlets:_t}]}if(Ie.segmentPath)return[...Z,Ie.segmentPath]}return"string"!=typeof Ie?[...Z,Ie]:0===st?(Ie.split("/").forEach((_t,qt)=>{0==qt&&"."===_t||(0==qt&&""===_t?E=!0:".."===_t?A++:""!=_t&&Z.push(_t))}),Z):[...Z,Ie]},[]);return new we(E,A,U)}(E);return Ie.toRoot()?wt(A.root,A.root,new Pt([],{}),U,Z):function st(qt){const _n=function vn(M,A,E,U){if(M.isAbsolute)return new Ct(A.root,!0,0);if(-1===U)return new Ct(E,E===A.root,0);return function Qn(M,A,E){let U=M,Z=A,Ie=E;for(;Ie>Z;){if(Ie-=Z,U=U.parent,!U)throw new c.vHH(4005,!1);Z=U.segments.length}return new Ct(U,!1,Z-Ie)}(E,U+(wr(M.commands[0])?0:1),M.numberOfDoubleDots)}(Ie,A,M.snapshot?._urlSegment,qt),gi=_n.processChildren?ei(_n.segmentGroup,_n.index,Ie.commands):Ci(_n.segmentGroup,_n.index,Ie.commands);return wt(A.root,_n.segmentGroup,gi,U,Z)}(M.snapshot?._lastPathIndex)}function wr(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function pe(M){return"object"==typeof M&&null!=M&&M.outlets}function wt(M,A,E,U,Z){let st,Ie={};U&&Bn(U,(qt,_n)=>{Ie[_n]=Array.isArray(qt)?qt.map(gi=>`${gi}`):`${qt}`}),st=M===A?E:B(M,A,E);const _t=Xe(it(st));return new St(_t,Ie,Z)}function B(M,A,E){const U={};return Bn(M.children,(Z,Ie)=>{U[Ie]=Z===A?E:B(Z,A,E)}),new Pt(M.segments,U)}class we{constructor(A,E,U){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=U,A&&U.length>0&&wr(U[0]))throw new c.vHH(4003,!1);const Z=U.find(pe);if(Z&&Z!==Pn(U))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ct{constructor(A,E,U){this.segmentGroup=A,this.processChildren=E,this.index=U}}function Ci(M,A,E){if(M||(M=new Pt([],{})),0===M.segments.length&&M.hasChildren())return ei(M,A,E);const U=function qi(M,A,E){let U=0,Z=A;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;Z<M.segments.length;){if(U>=E.length)return Ie;const st=M.segments[Z],_t=E[U];if(pe(_t))break;const qt=`${_t}`,_n=U<E.length-1?E[U+1]:null;if(Z>0&&void 0===qt)break;if(qt&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!Li(qt,_n,st))return Ie;U+=2}else{if(!Li(qt,{},st))return Ie;U++}Z++}return{match:!0,pathIndex:Z,commandIndex:U}}(M,A,E),Z=E.slice(U.commandIndex);if(U.match&&U.pathIndex<M.segments.length){const Ie=new Pt(M.segments.slice(0,U.pathIndex),{});return Ie.children[Mt]=new Pt(M.segments.slice(U.pathIndex),M.children),ei(Ie,0,Z)}return U.match&&0===Z.length?new Pt(M.segments,{}):U.match&&!M.hasChildren()?Ki(M,A,E):U.match?ei(M,0,Z):Ki(M,A,E)}function ei(M,A,E){if(0===E.length)return new Pt(M.segments,{});{const U=function mi(M){return pe(M[0])?M[0].outlets:{[Mt]:M}}(E),Z={};return Bn(U,(Ie,st)=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(Z[st]=Ci(M.children[st],A,Ie))}),Bn(M.children,(Ie,st)=>{void 0===U[st]&&(Z[st]=Ie)}),new Pt(M.segments,Z)}}function Ki(M,A,E){const U=M.segments.slice(0,A);let Z=0;for(;Z<E.length;){const Ie=E[Z];if(pe(Ie)){const qt=Kr(Ie.outlets);return new Pt(U,qt)}if(0===Z&&wr(E[0])){U.push(new gn(M.segments[A].path,dr(E[0]))),Z++;continue}const st=pe(Ie)?Ie.outlets[Mt]:`${Ie}`,_t=Z<E.length-1?E[Z+1]:null;st&&_t&&wr(_t)?(U.push(new gn(st,dr(_t))),Z+=2):(U.push(new gn(st,{})),Z++)}return new Pt(U,{})}function Kr(M){const A={};return Bn(M,(E,U)=>{"string"==typeof E&&(E=[E]),null!==E&&(A[U]=Ki(new Pt([],{}),0,E))}),A}function dr(M){const A={};return Bn(M,(E,U)=>A[U]=`${E}`),A}function Li(M,A,E){return M==E.path&&Nt(A,E.parameters)}class Qi{constructor(A,E){this.id=A,this.url=E}}class ps extends Qi{constructor(A,E,U="imperative",Z=null){super(A,E),this.type=0,this.navigationTrigger=U,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wi extends Qi{constructor(A,E,U){super(A,E),this.urlAfterRedirects=U,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ir extends Qi{constructor(A,E,U,Z){super(A,E),this.reason=U,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends Qi{constructor(A,E,U,Z){super(A,E),this.error=U,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kr extends Qi{constructor(A,E,U,Z){super(A,E),this.urlAfterRedirects=U,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds extends Qi{constructor(A,E,U,Z){super(A,E),this.urlAfterRedirects=U,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ha extends Qi{constructor(A,E,U,Z,Ie){super(A,E),this.urlAfterRedirects=U,this.state=Z,this.shouldActivate=Ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ts extends Qi{constructor(A,E,U,Z){super(A,E),this.urlAfterRedirects=U,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns extends Qi{constructor(A,E,U,Z){super(A,E),this.urlAfterRedirects=U,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nl{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ms{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(A,E,U){this.routerEvent=A,this.position=E,this.anchor=U,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=hn(A,this._root);return E?E.children.map(U=>U.value):[]}firstChild(A){const E=hn(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Rn(A,this._root);return E.length<2?[]:E[E.length-2].children.map(Z=>Z.value).filter(Z=>Z!==A)}pathFromRoot(A){return Rn(A,this._root).map(E=>E.value)}}function hn(M,A){if(M===A.value)return A;for(const E of A.children){const U=hn(M,E);if(U)return U}return null}function Rn(M,A){if(M===A.value)return[A];for(const E of A.children){const U=Rn(M,E);if(U.length)return U.unshift(A),U}return[]}class Nn{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function ri(M){const A={};return M&&M.children.forEach(E=>A[E.value.outlet]=E),A}class Dr extends Zt{constructor(A,E){super(A),this.snapshot=E,So(this,A)}toString(){return this.snapshot.toString()}}function Ni(M,A){const E=function Es(M,A){const st=new Or([],{},{},"",{},Mt,A,null,M.root,-1,{});return new zs("",new Nn(st,[]))}(M,A),U=new F.X([new gn("",{})]),Z=new F.X({}),Ie=new F.X({}),st=new F.X({}),_t=new F.X(""),qt=new Zr(U,Z,st,_t,Ie,Mt,A,E.root);return qt.snapshot=E.root,new Dr(new Nn(qt,[]),E)}class Zr{constructor(A,E,U,Z,Ie,st,_t,qt){this.url=A,this.params=E,this.queryParams=U,this.fragment=Z,this.data=Ie,this.outlet=st,this.component=_t,this.title=this.data?.pipe((0,dt.U)(_n=>_n[zt]))??(0,b.of)(void 0),this._futureSnapshot=qt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(A=>et(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(A=>et(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rs(M,A="emptyOnly"){const E=M.pathFromRoot;let U=0;if("always"!==A)for(U=E.length-1;U>=1;){const Z=E[U],Ie=E[U-1];if(Z.routeConfig&&""===Z.routeConfig.path)U--;else{if(Ie.component)break;U--}}return function Xo(M){return M.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(U))}class Or{constructor(A,E,U,Z,Ie,st,_t,qt,_n,gi,Wn,yi){this.url=A,this.params=E,this.queryParams=U,this.fragment=Z,this.data=Ie,this.outlet=st,this.component=_t,this.title=this.data?.[zt],this.routeConfig=qt,this._urlSegment=_n,this._lastPathIndex=gi,this._correctedLastPathIndex=yi??gi,this._resolve=Wn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=et(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zs extends Zt{constructor(A,E){super(E),this.url=A,So(this,E)}toString(){return Ws(this._root)}}function So(M,A){A.value._routerState=M,A.children.forEach(E=>So(M,E))}function Ws(M){const A=M.children.length>0?` { ${M.children.map(Ws).join(", ")} } `:"";return`${M.value}${A}`}function Vr(M){if(M.snapshot){const A=M.snapshot,E=M._futureSnapshot;M.snapshot=E,Nt(A.queryParams,E.queryParams)||M.queryParams.next(E.queryParams),A.fragment!==E.fragment&&M.fragment.next(E.fragment),Nt(A.params,E.params)||M.params.next(E.params),function Dt(M,A){if(M.length!==A.length)return!1;for(let E=0;E<M.length;++E)if(!Nt(M[E],A[E]))return!1;return!0}(A.url,E.url)||M.url.next(E.url),Nt(A.data,E.data)||M.data.next(E.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function Ls(M,A){const E=Nt(M.params,A.params)&&function Ln(M,A){return at(M,A)&&M.every((E,U)=>Nt(E.parameters,A[U].parameters))}(M.url,A.url);return E&&!(!M.parent!=!A.parent)&&(!M.parent||Ls(M.parent,A.parent))}function wo(M,A,E){if(E&&M.shouldReuseRoute(A.value,E.value.snapshot)){const U=E.value;U._futureSnapshot=A.value;const Z=function io(M,A,E){return A.children.map(U=>{for(const Z of E.children)if(M.shouldReuseRoute(U.value,Z.value.snapshot))return wo(M,U,Z);return wo(M,U)})}(M,A,E);return new Nn(U,Z)}{if(M.shouldAttach(A.value)){const Ie=M.retrieve(A.value);if(null!==Ie){const st=Ie.route;return st.value._futureSnapshot=A.value,st.children=A.children.map(_t=>wo(M,_t)),st}}const U=function Ys(M){return new Zr(new F.X(M.url),new F.X(M.params),new F.X(M.queryParams),new F.X(M.fragment),new F.X(M.data),M.outlet,M.component,M)}(A.value),Z=A.children.map(Ie=>wo(M,Ie));return new Nn(U,Z)}}const Ao="ngNavigationCancelingError";function gs(M,A){const{redirectTo:E,navigationBehaviorOptions:U}=It(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,Z=ro(!1,0,A);return Z.url=E,Z.navigationBehaviorOptions=U,Z}function ro(M,A,E){const U=new Error("NavigationCancelingError: "+(M||""));return U[Ao]=!0,U.cancellationCode=A,E&&(U.url=E),U}function jr(M){return so(M)&&It(M.url)}function so(M){return M&&M[Ao]}class qr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rs,this.attachRef=null}}let Rs=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(E,U){const Z=this.getOrCreateContext(E);Z.outlet=U,this.contexts.set(E,Z)}onChildOutletDestroyed(E){const U=this.getContext(E);U&&(U.outlet=null,U.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let U=this.getContext(E);return U||(U=new qr,this.contexts.set(E,U)),U}getContext(E){return this.contexts.get(E)||null}}return M.\u0275fac=function(E){return new(E||M)},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Qr=!1;let oo=(()=>{class M{constructor(E,U,Z,Ie,st){this.parentContexts=E,this.location=U,this.changeDetector=Ie,this.environmentInjector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=Z||Mt,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Qr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Qr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Qr);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,U){this.activated=E,this._activatedRoute=U,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,U){if(this.isActivated)throw new c.vHH(4013,Qr);this._activatedRoute=E;const Z=this.location,st=E._futureSnapshot.component,_t=this.parentContexts.getOrCreateContext(this.name).children,qt=new Ks(E,_t,Z.injector);if(U&&function Zs(M){return!!M.resolveComponentFactory}(U)){const _n=U.resolveComponentFactory(st);this.activated=Z.createComponent(_n,Z.length,qt)}else this.activated=Z.createComponent(st,{index:Z.length,injector:qt,environmentInjector:U??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(E){return new(E||M)(c.Y36(Rs),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},M.\u0275dir=c.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),M})();class Ks{constructor(A,E,U){this.route=A,this.childContexts=E,this.parent=U}get(A,E){return A===Zr?this.route:A===Rs?this.childContexts:this.parent.get(A,E)}}let Xi=(()=>{class M{}return M.\u0275fac=function(E){return new(E||M)},M.\u0275cmp=c.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(E,U){1&E&&c._UZ(0,"router-outlet")},dependencies:[oo],encapsulation:2}),M})();function Vo(M,A){return M.providers&&!M._injector&&(M._injector=(0,c.MMx)(M.providers,A,`Route: ${M.path}`)),M._injector??A}function Ns(M){const A=M.children&&M.children.map(Ns),E=A?{...M,children:A}:{...M};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==Mt&&(E.component=Xi),E}function ss(M){return M.outlet||Mt}function os(M,A){const E=M.filter(U=>ss(U)===A);return E.push(...M.filter(U=>ss(U)!==A)),E}function _s(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let A=M.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class di{constructor(A,E,U,Z){this.routeReuseStrategy=A,this.futureState=E,this.currState=U,this.forwardEvent=Z}activate(A){const E=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,U,A),Vr(this.futureState.root),this.activateChildRoutes(E,U,A)}deactivateChildRoutes(A,E,U){const Z=ri(E);A.children.forEach(Ie=>{const st=Ie.value.outlet;this.deactivateRoutes(Ie,Z[st],U),delete Z[st]}),Bn(Z,(Ie,st)=>{this.deactivateRouteAndItsChildren(Ie,U)})}deactivateRoutes(A,E,U){const Z=A.value,Ie=E?E.value:null;if(Z===Ie)if(Z.component){const st=U.getContext(Z.outlet);st&&this.deactivateChildRoutes(A,E,st.children)}else this.deactivateChildRoutes(A,E,U);else Ie&&this.deactivateRouteAndItsChildren(E,U)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const U=E.getContext(A.value.outlet),Z=U&&A.value.component?U.children:E,Ie=ri(A);for(const st of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[st],Z);if(U&&U.outlet){const st=U.outlet.detach(),_t=U.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:st,route:A,contexts:_t})}}deactivateRouteAndOutlet(A,E){const U=E.getContext(A.value.outlet),Z=U&&A.value.component?U.children:E,Ie=ri(A);for(const st of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[st],Z);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(A,E,U){const Z=ri(E);A.children.forEach(Ie=>{this.activateRoutes(Ie,Z[Ie.value.outlet],U),this.forwardEvent(new is(Ie.value.snapshot))}),A.children.length&&this.forwardEvent(new rn(A.value.snapshot))}activateRoutes(A,E,U){const Z=A.value,Ie=E?E.value:null;if(Vr(Z),Z===Ie)if(Z.component){const st=U.getOrCreateContext(Z.outlet);this.activateChildRoutes(A,E,st.children)}else this.activateChildRoutes(A,E,U);else if(Z.component){const st=U.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const _t=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),st.children.onOutletReAttached(_t.contexts),st.attachRef=_t.componentRef,st.route=_t.route.value,st.outlet&&st.outlet.attach(_t.componentRef,_t.route.value),Vr(_t.route.value),this.activateChildRoutes(A,null,st.children)}else{const _t=_s(Z.snapshot),qt=_t?.get(c._Vd)??null;st.attachRef=null,st.route=Z,st.resolver=qt,st.injector=_t,st.outlet&&st.outlet.activateWith(Z,st.injector),this.activateChildRoutes(A,null,st.children)}}else this.activateChildRoutes(A,null,U)}}class lo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class pa{constructor(A,E){this.component=A,this.route=E}}function Qs(M,A,E){const U=M._root;return Ms(U,A?A._root:null,E,[U.value])}function Xs(M,A){const E=Symbol(),U=A.get(M,E);return U===E?"function"!=typeof M||(0,c.Z0I)(M)?A.get(M):M:U}function Ms(M,A,E,U,Z={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=ri(A);return M.children.forEach(st=>{(function xa(M,A,E,U,Z={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=M.value,st=A?A.value:null,_t=E?E.getContext(M.value.outlet):null;if(st&&Ie.routeConfig===st.routeConfig){const qt=function Xr(M,A,E){if("function"==typeof E)return E(M,A);switch(E){case"pathParamsChange":return!at(M.url,A.url);case"pathParamsOrQueryParamsChange":return!at(M.url,A.url)||!Nt(M.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ls(M,A)||!Nt(M.queryParams,A.queryParams);default:return!Ls(M,A)}}(st,Ie,Ie.routeConfig.runGuardsAndResolvers);qt?Z.canActivateChecks.push(new lo(U)):(Ie.data=st.data,Ie._resolvedData=st._resolvedData),Ms(M,A,Ie.component?_t?_t.children:null:E,U,Z),qt&&_t&&_t.outlet&&_t.outlet.isActivated&&Z.canDeactivateChecks.push(new pa(_t.outlet.component,st))}else st&&fn(A,_t,Z),Z.canActivateChecks.push(new lo(U)),Ms(M,null,Ie.component?_t?_t.children:null:E,U,Z)})(st,Ie[st.value.outlet],E,U.concat([st.value]),Z),delete Ie[st.value.outlet]}),Bn(Ie,(st,_t)=>fn(st,E.getContext(_t),Z)),Z}function fn(M,A,E){const U=ri(M),Z=M.value;Bn(U,(Ie,st)=>{fn(Ie,Z.component?A?A.children.getContext(st):null:A,E)}),E.canDeactivateChecks.push(new pa(Z.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,Z))}function hi(M){return"function"==typeof M}function Yn(M){return M instanceof de.K||"EmptyError"===M?.name}const Ji=Symbol("INITIAL_VALUE");function Is(){return(0,tt.w)(M=>(0,Be.a)(M.map(A=>A.pipe((0,Le.q)(1),(0,xe.O)(Ji)))).pipe((0,dt.U)(A=>{for(const E of A)if(!0!==E){if(E===Ji)return Ji;if(!1===E||E instanceof St)return E}return!0}),(0,Ne.h)(A=>A!==Ji),(0,Le.q)(1)))}function Il(M){return(0,S.z)((0,ae.b)(A=>{if(It(A))throw gs(0,A)}),(0,dt.U)(A=>!0===A))}const Ia={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ro(M,A,E,U,Z){const Ie=Sa(M,A,E);return Ie.matched?function Uo(M,A,E,U){const Z=A.canMatch;if(!Z||0===Z.length)return(0,b.of)(!0);const Ie=Z.map(st=>{const _t=Xs(st,M);return En(function V(M){return M&&hi(M.canMatch)}(_t)?_t.canMatch(A,E):M.runInContext(()=>_t(A,E)))});return(0,b.of)(Ie).pipe(Is(),Il())}(U=Vo(A,U),A,E).pipe((0,dt.U)(st=>!0===st?Ie:{...Ia})):(0,b.of)(Ie)}function Sa(M,A,E){if(""===A.path)return"full"===A.pathMatch&&(M.hasChildren()||E.length>0)?{...Ia}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const Z=(A.matcher||rt)(E,M,A);if(!Z)return{...Ia};const Ie={};Bn(Z.posParams,(_t,qt)=>{Ie[qt]=_t.path});const st=Z.consumed.length>0?{...Ie,...Z.consumed[Z.consumed.length-1].parameters}:Ie;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:E.slice(Z.consumed.length),parameters:st,positionalParamSegments:Z.posParams??{}}}function as(M,A,E,U,Z="corrected"){if(E.length>0&&function rl(M,A,E){return E.some(U=>Aa(M,A,U)&&ss(U)!==Mt)}(M,E,U)){const st=new Pt(A,function ea(M,A,E,U){const Z={};Z[Mt]=U,U._sourceSegment=M,U._segmentIndexShift=A.length;for(const Ie of E)if(""===Ie.path&&ss(Ie)!==Mt){const st=new Pt([],{});st._sourceSegment=M,st._segmentIndexShift=A.length,Z[ss(Ie)]=st}return Z}(M,A,U,new Pt(E,M.children)));return st._sourceSegment=M,st._segmentIndexShift=A.length,{segmentGroup:st,slicedSegments:[]}}if(0===E.length&&function co(M,A,E){return E.some(U=>Aa(M,A,U))}(M,E,U)){const st=new Pt(M.segments,function Sl(M,A,E,U,Z,Ie){const st={};for(const _t of U)if(Aa(M,E,_t)&&!Z[ss(_t)]){const qt=new Pt([],{});qt._sourceSegment=M,qt._segmentIndexShift="legacy"===Ie?M.segments.length:A.length,st[ss(_t)]=qt}return{...Z,...st}}(M,A,E,U,M.children,Z));return st._sourceSegment=M,st._segmentIndexShift=A.length,{segmentGroup:st,slicedSegments:E}}const Ie=new Pt(M.segments,M.children);return Ie._sourceSegment=M,Ie._segmentIndexShift=A.length,{segmentGroup:Ie,slicedSegments:E}}function Aa(M,A,E){return(!(M.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}function N(M,A,E,U){return!!(ss(M)===U||U!==Mt&&Aa(A,E,M))&&("**"===M.path||Sa(A,M,E).matched)}function le(M,A,E){return 0===A.length&&!M.children[E]}const G=!1;class Ae{constructor(A){this.segmentGroup=A||null}}class bt{constructor(A){this.urlTree=A}}function Qt(M){return(0,ne._)(new Ae(M))}function an(M){return(0,ne._)(new bt(M))}class _i{constructor(A,E,U,Z,Ie){this.injector=A,this.configLoader=E,this.urlSerializer=U,this.urlTree=Z,this.config=Ie,this.allowRedirects=!0}apply(){const A=as(this.urlTree.root,[],[],this.config).segmentGroup,E=new Pt(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,E,Mt).pipe((0,dt.U)(Ie=>this.createUrlTree(it(Ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ue.K)(Ie=>{if(Ie instanceof bt)return this.allowRedirects=!1,this.match(Ie.urlTree);throw Ie instanceof Ae?this.noMatchError(Ie):Ie}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,Mt).pipe((0,dt.U)(Z=>this.createUrlTree(it(Z),A.queryParams,A.fragment))).pipe((0,ue.K)(Z=>{throw Z instanceof Ae?this.noMatchError(Z):Z}))}noMatchError(A){return new c.vHH(4002,G)}createUrlTree(A,E,U){const Z=Xe(A);return new St(Z,E,U)}expandSegmentGroup(A,E,U,Z){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(A,E,U).pipe((0,dt.U)(Ie=>new Pt([],Ie))):this.expandSegment(A,U,E,U.segments,Z,!0)}expandChildren(A,E,U){const Z=[];for(const Ie of Object.keys(U.children))"primary"===Ie?Z.unshift(Ie):Z.push(Ie);return(0,y.D)(Z).pipe((0,Qe.b)(Ie=>{const st=U.children[Ie],_t=os(E,Ie);return this.expandSegmentGroup(A,_t,st,Ie).pipe((0,dt.U)(qt=>({segment:qt,outlet:Ie})))}),(0,Ce.R)((Ie,st)=>(Ie[st.outlet]=st.segment,Ie),{}),on())}expandSegment(A,E,U,Z,Ie,st){return(0,y.D)(U).pipe((0,Qe.b)(_t=>this.expandSegmentAgainstRoute(A,E,U,_t,Z,Ie,st).pipe((0,ue.K)(_n=>{if(_n instanceof Ae)return(0,b.of)(null);throw _n}))),(0,oe.P)(_t=>!!_t),(0,ue.K)((_t,qt)=>{if(Yn(_t))return le(E,Z,Ie)?(0,b.of)(new Pt([],{})):Qt(E);throw _t}))}expandSegmentAgainstRoute(A,E,U,Z,Ie,st,_t){return N(Z,E,Ie,st)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(A,E,Z,Ie,st):_t&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,E,U,Z,Ie,st):Qt(E):Qt(E)}expandSegmentAgainstRouteUsingRedirect(A,E,U,Z,Ie,st){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,U,Z,st):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,U,Z,Ie,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,U,Z){const Ie=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?an(Ie):this.lineralizeSegments(U,Ie).pipe((0,se.z)(st=>{const _t=new Pt(st,{});return this.expandSegment(A,_t,E,st,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,U,Z,Ie,st){const{matched:_t,consumedSegments:qt,remainingSegments:_n,positionalParamSegments:gi}=Sa(E,Z,Ie);if(!_t)return Qt(E);const Wn=this.applyRedirectCommands(qt,Z.redirectTo,gi);return Z.redirectTo.startsWith("/")?an(Wn):this.lineralizeSegments(Z,Wn).pipe((0,se.z)(yi=>this.expandSegment(A,E,U,yi.concat(_n),st,!1)))}matchSegmentAgainstRoute(A,E,U,Z,Ie){return"**"===U.path?(A=Vo(U,A),U.loadChildren?(U._loadedRoutes?(0,b.of)({routes:U._loadedRoutes,injector:U._loadedInjector}):this.configLoader.loadChildren(A,U)).pipe((0,dt.U)(_t=>(U._loadedRoutes=_t.routes,U._loadedInjector=_t.injector,new Pt(Z,{})))):(0,b.of)(new Pt(Z,{}))):Ro(E,U,Z,A).pipe((0,tt.w)(({matched:st,consumedSegments:_t,remainingSegments:qt})=>st?this.getChildConfig(A=U._injector??A,U,Z).pipe((0,se.z)(gi=>{const Wn=gi.injector??A,yi=gi.routes,{segmentGroup:Ss,slicedSegments:ur}=as(E,_t,qt,yi),Ps=new Pt(Ss.segments,Ss.children);if(0===ur.length&&Ps.hasChildren())return this.expandChildren(Wn,yi,Ps).pipe((0,dt.U)(ja=>new Pt(_t,ja)));if(0===yi.length&&0===ur.length)return(0,b.of)(new Pt(_t,{}));const Mr=ss(U)===Ie;return this.expandSegment(Wn,Ps,yi,ur,Mr?Mt:Ie,!0).pipe((0,dt.U)(to=>new Pt(_t.concat(to.segments),to.children)))})):Qt(E)))}getChildConfig(A,E,U){return E.children?(0,b.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,b.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Ml(M,A,E,U){const Z=A.canLoad;if(void 0===Z||0===Z.length)return(0,b.of)(!0);const Ie=Z.map(st=>{const _t=Xs(st,M);return En(function Jo(M){return M&&hi(M.canLoad)}(_t)?_t.canLoad(A,E):M.runInContext(()=>_t(A,E)))});return(0,b.of)(Ie).pipe(Is(),Il())}(A,E,U).pipe((0,se.z)(Z=>Z?this.configLoader.loadChildren(A,E).pipe((0,ae.b)(Ie=>{E._loadedRoutes=Ie.routes,E._loadedInjector=Ie.injector})):function zi(M){return(0,ne._)(ro(G,3))}())):(0,b.of)({routes:[],injector:A})}lineralizeSegments(A,E){let U=[],Z=E.root;for(;;){if(U=U.concat(Z.segments),0===Z.numberOfChildren)return(0,b.of)(U);if(Z.numberOfChildren>1||!Z.children[Mt])return(0,ne._)(new c.vHH(4e3,G));Z=Z.children[Mt]}}applyRedirectCommands(A,E,U){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,U)}applyRedirectCreateUrlTree(A,E,U,Z){const Ie=this.createSegmentGroup(A,E.root,U,Z);return new St(Ie,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const U={};return Bn(A,(Z,Ie)=>{if("string"==typeof Z&&Z.startsWith(":")){const _t=Z.substring(1);U[Ie]=E[_t]}else U[Ie]=Z}),U}createSegmentGroup(A,E,U,Z){const Ie=this.createSegments(A,E.segments,U,Z);let st={};return Bn(E.children,(_t,qt)=>{st[qt]=this.createSegmentGroup(A,_t,U,Z)}),new Pt(Ie,st)}createSegments(A,E,U,Z){return E.map(Ie=>Ie.path.startsWith(":")?this.findPosParam(A,Ie,Z):this.findOrReturn(Ie,U))}findPosParam(A,E,U){const Z=U[E.path.substring(1)];if(!Z)throw new c.vHH(4001,G);return Z}findOrReturn(A,E){let U=0;for(const Z of E){if(Z.path===A.path)return E.splice(U),Z;U++}return A}}class ar{}class uo{constructor(A,E,U,Z,Ie,st,_t,qt){this.injector=A,this.rootComponentType=E,this.config=U,this.urlTree=Z,this.url=Ie,this.paramsInheritanceStrategy=st,this.relativeLinkResolution=_t,this.urlSerializer=qt}recognize(){const A=as(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Mt).pipe((0,dt.U)(E=>{if(null===E)return null;const U=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new Nn(U,E),Ie=new zs(this.url,Z);return this.inheritParamsAndData(Ie._root),Ie}))}inheritParamsAndData(A){const E=A.value,U=rs(E,this.paramsInheritanceStrategy);E.params=Object.freeze(U.params),E.data=Object.freeze(U.data),A.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(A,E,U,Z){return 0===U.segments.length&&U.hasChildren()?this.processChildren(A,E,U):this.processSegment(A,E,U,U.segments,Z)}processChildren(A,E,U){return(0,y.D)(Object.keys(U.children)).pipe((0,Qe.b)(Z=>{const Ie=U.children[Z],st=os(E,Z);return this.processSegmentGroup(A,st,Ie,Z)}),(0,Ce.R)((Z,Ie)=>Z&&Ie?(Z.push(...Ie),Z):null),(0,Bt.o)(Z=>null!==Z),(0,jt.d)(null),on(),(0,dt.U)(Z=>{if(null===Z)return null;const Ie=gr(Z);return function Js(M){M.sort((A,E)=>A.value.outlet===Mt?-1:E.value.outlet===Mt?1:A.value.outlet.localeCompare(E.value.outlet))}(Ie),Ie}))}processSegment(A,E,U,Z,Ie){return(0,y.D)(E).pipe((0,Qe.b)(st=>this.processSegmentAgainstRoute(st._injector??A,st,U,Z,Ie)),(0,oe.P)(st=>!!st),(0,ue.K)(st=>{if(Yn(st))return le(U,Z,Ie)?(0,b.of)([]):(0,b.of)(null);throw st}))}processSegmentAgainstRoute(A,E,U,Z,Ie){if(E.redirectTo||!N(E,U,Z,Ie))return(0,b.of)(null);let st;if("**"===E.path){const _t=Z.length>0?Pn(Z).parameters:{},qt=Er(U)+Z.length,_n=new Or(Z,_t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(E),ss(E),E.component??E._loadedComponent??null,E,sl(U),qt,ol(E),qt);st=(0,b.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]})}else st=Ro(U,E,Z,A).pipe((0,dt.U)(({matched:_t,consumedSegments:qt,remainingSegments:_n,parameters:gi})=>{if(!_t)return null;const Wn=Er(U)+qt.length;return{snapshot:new Or(qt,gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ta(E),ss(E),E.component??E._loadedComponent??null,E,sl(U),Wn,ol(E),Wn),consumedSegments:qt,remainingSegments:_n}}));return st.pipe((0,tt.w)(_t=>{if(null===_t)return(0,b.of)(null);const{snapshot:qt,consumedSegments:_n,remainingSegments:gi}=_t;A=E._injector??A;const Wn=E._loadedInjector??A,yi=function Co(M){return M.children?M.children:M.loadChildren?M._loadedRoutes:[]}(E),{segmentGroup:Ss,slicedSegments:ur}=as(U,_n,gi,yi.filter(Mr=>void 0===Mr.redirectTo),this.relativeLinkResolution);if(0===ur.length&&Ss.hasChildren())return this.processChildren(Wn,yi,Ss).pipe((0,dt.U)(Mr=>null===Mr?null:[new Nn(qt,Mr)]));if(0===yi.length&&0===ur.length)return(0,b.of)([new Nn(qt,[])]);const Ps=ss(E)===Ie;return this.processSegment(Wn,yi,Ss,ur,Ps?Mt:Ie).pipe((0,dt.U)(Mr=>null===Mr?null:[new Nn(qt,Mr)]))}))}}function Fr(M){const A=M.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function gr(M){const A=[],E=new Set;for(const U of M){if(!Fr(U)){A.push(U);continue}const Z=A.find(Ie=>U.value.routeConfig===Ie.value.routeConfig);void 0!==Z?(Z.children.push(...U.children),E.add(Z)):A.push(U)}for(const U of E){const Z=gr(U.children);A.push(new Nn(U.value,Z))}return A.filter(U=>!E.has(U))}function sl(M){let A=M;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Er(M){let A=M,E=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,E+=A._segmentIndexShift??0;return E-1}function Ta(M){return M.data||{}}function ol(M){return M.resolve||{}}function Al(M){return"string"==typeof M.title||null===M.title}function Tl(M){return(0,tt.w)(A=>{const E=M(A);return E?(0,y.D)(E).pipe((0,dt.U)(()=>A)):(0,b.of)(A)})}let Ui=(()=>{class M{buildTitle(E){let U,Z=E.root;for(;void 0!==Z;)U=this.getResolvedTitleForRoute(Z)??U,Z=Z.children.find(Ie=>Ie.outlet===Mt);return U}getResolvedTitleForRoute(E){return E.data[zt]}}return M.\u0275fac=function(E){return new(E||M)},M.\u0275prov=c.Yz7({token:M,factory:function(){return(0,c.f3M)(al)},providedIn:"root"}),M})(),al=(()=>{class M extends Ui{constructor(E){super(),this.title=E}updateTitle(E){const U=this.buildTitle(E);void 0!==U&&this.title.setTitle(U)}}return M.\u0275fac=function(E){return new(E||M)(c.LFG(Lt.Dx))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Ra{}class In extends class Ba{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}{}const ir=new c.OlP("",{providedIn:"root",factory:()=>({})}),Un=new c.OlP("ROUTES");let fi=(()=>{class M{constructor(E,U){this.injector=E,this.compiler=U,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,b.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const U=En(E.loadComponent()).pipe((0,ae.b)(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Ie}),(0,Et.x)(()=>{this.componentLoaders.delete(E)})),Z=new Se(U,()=>new Ee.x).pipe(ze());return this.componentLoaders.set(E,Z),Z}loadChildren(E,U){if(this.childrenLoaders.get(U))return this.childrenLoaders.get(U);if(U._loadedRoutes)return(0,b.of)({routes:U._loadedRoutes,injector:U._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(U);const Ie=this.loadModuleFactoryOrRoutes(U.loadChildren).pipe((0,dt.U)(_t=>{this.onLoadEndListener&&this.onLoadEndListener(U);let qt,_n,gi=!1;Array.isArray(_t)?_n=_t:(qt=_t.create(E).injector,_n=Mn(qt.get(Un,[],c.XFs.Self|c.XFs.Optional)));return{routes:_n.map(Ns),injector:qt}}),(0,Et.x)(()=>{this.childrenLoaders.delete(U)})),st=new Se(Ie,()=>new Ee.x).pipe(ze());return this.childrenLoaders.set(U,st),st}loadModuleFactoryOrRoutes(E){return En(E()).pipe((0,se.z)(U=>U instanceof c.YKP||Array.isArray(U)?(0,b.of)(U):(0,y.D)(this.compiler.compileModuleAsync(U))))}}return M.\u0275fac=function(E){return new(E||M)(c.LFG(c.zs3),c.LFG(c.Sil))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class na{}class jn{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,E){return A}}function Cn(M){throw M}function Lr(M,A,E){return A.parse("/")}const Rl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function _a(){const M=(0,c.f3M)(ce),A=(0,c.f3M)(Rs),E=(0,c.f3M)(be.Ye),U=(0,c.f3M)(c.zs3),Z=(0,c.f3M)(c.Sil),Ie=(0,c.f3M)(Un,{optional:!0})??[],st=(0,c.f3M)(ir,{optional:!0})??{},_t=(0,c.f3M)(al),qt=(0,c.f3M)(Ui,{optional:!0}),_n=(0,c.f3M)(na,{optional:!0}),gi=(0,c.f3M)(Ra,{optional:!0}),Wn=new ls(null,M,A,E,U,Z,Mn(Ie));return _n&&(Wn.urlHandlingStrategy=_n),gi&&(Wn.routeReuseStrategy=gi),Wn.titleStrategy=qt??_t,function jo(M,A){M.errorHandler&&(A.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(A.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(A.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(A.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(A.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(A.canceledNavigationResolution=M.canceledNavigationResolution)}(st,Wn),Wn}let ls=(()=>{class M{constructor(E,U,Z,Ie,st,_t,qt){this.rootComponentType=E,this.urlSerializer=U,this.rootContexts=Z,this.location=Ie,this.config=qt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee.x,this.errorHandler=Cn,this.malformedUriErrorHandler=Lr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,b.of)(void 0),this.urlHandlingStrategy=new jn,this.routeReuseStrategy=new In,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=st.get(fi),this.configLoader.onLoadEndListener=yi=>this.triggerEvent(new nl(yi)),this.configLoader.onLoadStartListener=yi=>this.triggerEvent(new Bo(yi)),this.ngModule=st.get(c.h0i),this.console=st.get(c.c2e);const Wn=st.get(c.R0b);this.isNgZoneEnabled=Wn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(qt),this.currentUrlTree=function ot(){return new St(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ni(this.currentUrlTree,this.rootComponentType),this.transitions=new F.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const U=this.events;return E.pipe((0,Ne.h)(Z=>0!==Z.id),(0,dt.U)(Z=>({...Z,extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,tt.w)(Z=>{let Ie=!1,st=!1;return(0,b.of)(Z).pipe((0,ae.b)(_t=>{this.currentNavigation={id:_t.id,initialUrl:_t.rawUrl,extractedUrl:_t.extractedUrl,trigger:_t.source,extras:_t.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,tt.w)(_t=>{const qt=this.browserUrlTree.toString(),_n=!this.navigated||_t.extractedUrl.toString()!==qt||qt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_n)&&this.urlHandlingStrategy.shouldProcessUrl(_t.rawUrl))return Go(_t.source)&&(this.browserUrlTree=_t.extractedUrl),(0,b.of)(_t).pipe((0,tt.w)(Wn=>{const yi=this.transitions.getValue();return U.next(new ps(Wn.id,this.serializeUrl(Wn.extractedUrl),Wn.source,Wn.restoredState)),yi!==this.transitions.getValue()?he.E:Promise.resolve(Wn)}),function Vi(M,A,E,U){return(0,tt.w)(Z=>function Bi(M,A,E,U,Z){return new _i(M,A,E,U,Z).apply()}(M,A,E,Z.extractedUrl,U).pipe((0,dt.U)(Ie=>({...Z,urlAfterRedirects:Ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ae.b)(Wn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects},Z.urlAfterRedirects=Wn.urlAfterRedirects}),function ks(M,A,E,U,Z,Ie){return(0,se.z)(st=>function Vs(M,A,E,U,Z,Ie,st="emptyOnly",_t="legacy"){return new uo(M,A,E,U,Z,st,_t,Ie).recognize().pipe((0,tt.w)(qt=>null===qt?function Pr(M){return new me.y(A=>A.error(M))}(new ar):(0,b.of)(qt)))}(M,A,E,st.urlAfterRedirects,U.serialize(st.urlAfterRedirects),U,Z,Ie).pipe((0,dt.U)(_t=>({...st,targetSnapshot:_t}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ae.b)(Wn=>{if(Z.targetSnapshot=Wn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Wn.extras.skipLocationChange){const Ss=this.urlHandlingStrategy.merge(Wn.urlAfterRedirects,Wn.rawUrl);this.setBrowserUrl(Ss,Wn)}this.browserUrlTree=Wn.urlAfterRedirects}const yi=new kr(Wn.id,this.serializeUrl(Wn.extractedUrl),this.serializeUrl(Wn.urlAfterRedirects),Wn.targetSnapshot);U.next(yi)}));if(_n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:yi,extractedUrl:Ss,source:ur,restoredState:Ps,extras:Mr}=_t,vr=new ps(yi,this.serializeUrl(Ss),ur,Ps);U.next(vr);const to=Ni(Ss,this.rootComponentType).snapshot;return Z={..._t,targetSnapshot:to,urlAfterRedirects:Ss,extras:{...Mr,skipLocationChange:!1,replaceUrl:!1}},(0,b.of)(Z)}return this.rawUrlTree=_t.rawUrl,_t.resolve(null),he.E}),(0,ae.b)(_t=>{const qt=new Ds(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(qt)}),(0,dt.U)(_t=>Z={..._t,guards:Qs(_t.targetSnapshot,_t.currentSnapshot,this.rootContexts)}),function hr(M,A){return(0,se.z)(E=>{const{targetSnapshot:U,currentSnapshot:Z,guards:{canActivateChecks:Ie,canDeactivateChecks:st}}=E;return 0===st.length&&0===Ie.length?(0,b.of)({...E,guardsResult:!0}):function Zi(M,A,E,U){return(0,y.D)(M).pipe((0,se.z)(Z=>function ga(M,A,E,U,Z){const Ie=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,b.of)(!0);const st=Ie.map(_t=>{const qt=_s(A)??Z,_n=Xs(_t,qt);return En(function Y(M){return M&&hi(M.canDeactivate)}(_n)?_n.canDeactivate(M,A,E,U):qt.runInContext(()=>_n(M,A,E,U))).pipe((0,oe.P)())});return(0,b.of)(st).pipe(Is())}(Z.component,Z.route,E,A,U)),(0,oe.P)(Z=>!0!==Z,!0))}(st,U,Z,M).pipe((0,se.z)(_t=>_t&&function Ma(M){return"boolean"==typeof M}(_t)?function Bs(M,A,E,U){return(0,y.D)(A).pipe((0,Qe.b)(Z=>(0,Ke.z)(function pr(M,A){return null!==M&&A&&A(new ms(M)),(0,b.of)(!0)}(Z.route.parent,U),function ma(M,A){return null!==M&&A&&A(new Cr(M)),(0,b.of)(!0)}(Z.route,U),function xl(M,A,E){const U=A[A.length-1],Ie=A.slice(0,A.length-1).reverse().map(st=>function il(M){const A=M.routeConfig?M.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:M,guards:A}:null}(st)).filter(st=>null!==st).map(st=>(0,Re.P)(()=>{const _t=st.guards.map(qt=>{const _n=_s(st.node)??E,gi=Xs(qt,_n);return En(function X(M){return M&&hi(M.canActivateChild)}(gi)?gi.canActivateChild(U,M):_n.runInContext(()=>gi(U,M))).pipe((0,oe.P)())});return(0,b.of)(_t).pipe(Is())}));return(0,b.of)(Ie).pipe(Is())}(M,Z.path,E),function To(M,A,E){const U=A.routeConfig?A.routeConfig.canActivate:null;if(!U||0===U.length)return(0,b.of)(!0);const Z=U.map(Ie=>(0,Re.P)(()=>{const st=_s(A)??E,_t=Xs(Ie,st);return En(function Ur(M){return M&&hi(M.canActivate)}(_t)?_t.canActivate(A,M):st.runInContext(()=>_t(A,M))).pipe((0,oe.P)())}));return(0,b.of)(Z).pipe(Is())}(M,Z.route,E))),(0,oe.P)(Z=>!0!==Z,!0))}(U,Ie,M,A):(0,b.of)(_t)),(0,dt.U)(_t=>({...E,guardsResult:_t})))})}(this.ngModule.injector,_t=>this.triggerEvent(_t)),(0,ae.b)(_t=>{if(Z.guardsResult=_t.guardsResult,It(_t.guardsResult))throw gs(0,_t.guardsResult);const qt=new ha(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot,!!_t.guardsResult);this.triggerEvent(qt)}),(0,Ne.h)(_t=>!!_t.guardsResult||(this.restoreHistory(_t),this.cancelNavigationTransition(_t,"",3),!1)),Tl(_t=>{if(_t.guards.canActivateChecks.length)return(0,b.of)(_t).pipe((0,ae.b)(qt=>{const _n=new Ts(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);this.triggerEvent(_n)}),(0,tt.w)(qt=>{let _n=!1;return(0,b.of)(qt).pipe(function gc(M,A){return(0,se.z)(E=>{const{targetSnapshot:U,guards:{canActivateChecks:Z}}=E;if(!Z.length)return(0,b.of)(E);let Ie=0;return(0,y.D)(Z).pipe((0,Qe.b)(st=>function Ho(M,A,E,U){const Z=M.routeConfig,Ie=M._resolve;return void 0!==Z?.title&&!Al(Z)&&(Ie[zt]=Z.title),function Do(M,A,E,U){const Z=function nt(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===Z.length)return(0,b.of)({});const Ie={};return(0,y.D)(Z).pipe((0,se.z)(st=>function ho(M,A,E,U){const Z=_s(A)??U,Ie=Xs(M,Z);return En(Ie.resolve?Ie.resolve(A,E):Z.runInContext(()=>Ie(A,E)))}(M[st],A,E,U).pipe((0,oe.P)(),(0,ae.b)(_t=>{Ie[st]=_t}))),Je(1),(0,Te.h)(Ie),(0,ue.K)(st=>Yn(st)?he.E:(0,ne._)(st)))}(Ie,M,A,U).pipe((0,dt.U)(st=>(M._resolvedData=st,M.data=rs(M,E).resolve,Z&&Al(Z)&&(M.data[zt]=Z.title),null)))}(st.route,U,M,A)),(0,ae.b)(()=>Ie++),Je(1),(0,se.z)(st=>Ie===Z.length?(0,b.of)(E):he.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ae.b)({next:()=>_n=!0,complete:()=>{_n||(this.restoreHistory(qt),this.cancelNavigationTransition(qt,"",2))}}))}),(0,ae.b)(qt=>{const _n=new ns(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);this.triggerEvent(_n)}))}),Tl(_t=>{const qt=_n=>{const gi=[];_n.routeConfig?.loadComponent&&!_n.routeConfig._loadedComponent&&gi.push(this.configLoader.loadComponent(_n.routeConfig).pipe((0,ae.b)(Wn=>{_n.component=Wn}),(0,dt.U)(()=>{})));for(const Wn of _n.children)gi.push(...qt(Wn));return gi};return(0,Be.a)(qt(_t.targetSnapshot.root)).pipe((0,jt.d)(),(0,Le.q)(1))}),Tl(()=>this.afterPreactivation()),(0,dt.U)(_t=>{const qt=function bo(M,A,E){const U=wo(M,A._root,E?E._root:void 0);return new Dr(U,A)}(this.routeReuseStrategy,_t.targetSnapshot,_t.currentRouterState);return Z={..._t,targetRouterState:qt}}),(0,ae.b)(_t=>{this.currentUrlTree=_t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_t.urlAfterRedirects,_t.rawUrl),this.routerState=_t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_t),this.browserUrlTree=_t.urlAfterRedirects)}),((M,A,E)=>(0,dt.U)(U=>(new di(A,U.targetRouterState,U.currentRouterState,E).activate(M),U)))(this.rootContexts,this.routeReuseStrategy,_t=>this.triggerEvent(_t)),(0,ae.b)({next(){Ie=!0},complete(){Ie=!0}}),(0,Et.x)(()=>{Ie||st||this.cancelNavigationTransition(Z,"",1),this.currentNavigation?.id===Z.id&&(this.currentNavigation=null)}),(0,ue.K)(_t=>{if(st=!0,so(_t)){jr(_t)||(this.navigated=!0,this.restoreHistory(Z,!0));const qt=new Ir(Z.id,this.serializeUrl(Z.extractedUrl),_t.message,_t.cancellationCode);if(U.next(qt),jr(_t)){const _n=this.urlHandlingStrategy.merge(_t.url,this.rawUrlTree),gi={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Go(Z.source)};this.scheduleNavigation(_n,"imperative",null,gi,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{this.restoreHistory(Z,!0);const qt=new or(Z.id,this.serializeUrl(Z.extractedUrl),_t,Z.targetSnapshot??void 0);U.next(qt);try{Z.resolve(this.errorHandler(_t))}catch(_n){Z.reject(_n)}}return he.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const U="popstate"===E.type?"popstate":"hashchange";"popstate"===U&&setTimeout(()=>{const Z={replaceUrl:!0},Ie=E.state?.navigationId?E.state:null;if(Ie){const _t={...Ie};delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(Z.state=_t)}const st=this.parseUrl(E.url);this.scheduleNavigation(st,U,Ie,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Ns),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,U={}){const{relativeTo:Z,queryParams:Ie,fragment:st,queryParamsHandling:_t,preserveFragment:qt}=U,_n=Z||this.routerState.root,gi=qt?this.currentUrlTree.fragment:st;let Wn=null;switch(_t){case"merge":Wn={...this.currentUrlTree.queryParams,...Ie};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=Ie||null}return null!==Wn&&(Wn=this.removeEmptyProps(Wn)),Ii(_n,this.currentUrlTree,E,Wn,gi??null)}navigateByUrl(E,U={skipLocationChange:!1}){const Z=It(E)?E:this.parseUrl(E),Ie=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(Ie,"imperative",null,U)}navigate(E,U={skipLocationChange:!1}){return function ya(M){for(let A=0;A<M.length;A++){if(null==M[A])throw new c.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,U),U)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let U;try{U=this.urlSerializer.parse(E)}catch(Z){U=this.malformedUriErrorHandler(Z,this.urlSerializer,E)}return U}isActive(E,U){let Z;if(Z=!0===U?{...Rl}:!1===U?{...kl}:U,It(E))return $(this.currentUrlTree,E,Z);const Ie=this.parseUrl(E);return $(this.currentUrlTree,Ie,Z)}removeEmptyProps(E){return Object.keys(E).reduce((U,Z)=>{const Ie=E[Z];return null!=Ie&&(U[Z]=Ie),U},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new wi(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,U,Z,Ie,st){if(this.disposed)return Promise.resolve(!1);let _t,qt,_n;st?(_t=st.resolve,qt=st.reject,_n=st.promise):_n=new Promise((yi,Ss)=>{_t=yi,qt=Ss});const gi=++this.navigationId;let Wn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),Wn=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:Ie.replaceUrl||Ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Wn=0,this.setTransition({id:gi,targetPageId:Wn,source:U,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Ie,resolve:_t,reject:qt,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(yi=>Promise.reject(yi))}setBrowserUrl(E,U){const Z=this.urlSerializer.serialize(E),Ie={...U.extras.state,...this.generateNgRouterState(U.id,U.targetPageId)};this.location.isCurrentPathEqualTo(Z)||U.extras.replaceUrl?this.location.replaceState(Z,"",Ie):this.location.go(Z,"",Ie)}restoreHistory(E,U=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Z?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Z&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,U,Z){const Ie=new Ir(E.id,this.serializeUrl(E.extractedUrl),U,Z);this.triggerEvent(Ie),E.resolve(!1)}generateNgRouterState(E,U){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:U}:{navigationId:E}}}return M.\u0275fac=function(E){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:function(){return _a()},providedIn:"root"}),M})();function Go(M){return"imperative"!==M}let _r=(()=>{class M{constructor(E,U,Z,Ie,st){this.router=E,this.route=U,this.tabIndexAttribute=Z,this.renderer=Ie,this.el=st,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ee.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,c.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,c.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,c.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const U=this.renderer,Z=this.el.nativeElement;null!==E?U.setAttribute(Z,"tabindex",E):U.removeAttribute(Z,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(E){return new(E||M)(c.Y36(ls),c.Y36(Zr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},M.\u0275dir=c.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,U){1&E&&c.NdJ("click",function(){return U.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),M})(),_c=(()=>{class M{constructor(E,U,Z){this.router=E,this.route=U,this.locationStrategy=Z,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ee.x,this.subscription=E.events.subscribe(Ie=>{Ie instanceof wi&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,c.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,c.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,c.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,U,Z,Ie,st){return!!(0!==E||U||Z||Ie||st||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(E){return new(E||M)(c.Y36(ls),c.Y36(Zr),c.Y36(be.S$))},M.\u0275dir=c.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,U){1&E&&c.NdJ("click",function(Ie){return U.onClick(Ie.button,Ie.ctrlKey,Ie.shiftKey,Ie.altKey,Ie.metaKey)}),2&E&&c.uIk("target",U.target)("href",U.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),M})(),Va=(()=>{class M{constructor(E,U,Z,Ie,st,_t){this.router=E,this.element=U,this.renderer=Z,this.cdr=Ie,this.link=st,this.linkWithHref=_t,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=E.events.subscribe(qt=>{qt instanceof wi&&this.update()})}ngAfterContentInit(){(0,b.of)(this.links.changes,this.linksWithHrefs.changes,(0,b.of)(null)).pipe((0,pt.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(U=>!!U).map(U=>U.onChanges);this.linkInputChangesSubscription=(0,y.D)(E).pipe((0,pt.J)()).subscribe(U=>{this.isActive!==this.isLinkActive(this.router)(U)&&this.update()})}set routerLinkActive(E){const U=Array.isArray(E)?E:E.split(" ");this.classes=U.filter(Z=>!!Z)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this.isActive!==E&&(this.isActive=E,this.cdr.markForCheck(),this.classes.forEach(U=>{E?this.renderer.addClass(this.element.nativeElement,U):this.renderer.removeClass(this.element.nativeElement,U)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const U=function ll(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Z=>!!Z.urlTree&&E.isActive(Z.urlTree,U)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.linkWithHref&&E(this.linkWithHref)||this.links.some(E)||this.linksWithHrefs.some(E)}}return M.\u0275fac=function(E){return new(E||M)(c.Y36(ls),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(_r,8),c.Y36(_c,8))},M.\u0275dir=c.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(E,U,Z){if(1&E&&(c.Suo(Z,_r,5),c.Suo(Z,_c,5)),2&E){let Ie;c.iGM(Ie=c.CRH())&&(U.links=Ie),c.iGM(Ie=c.CRH())&&(U.linksWithHrefs=Ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),M})();class ci{}let er=(()=>{class M{constructor(E,U,Z,Ie,st){this.router=E,this.injector=Z,this.preloadingStrategy=Ie,this.loader=st}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(E=>E instanceof wi),(0,Qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,U){const Z=[];for(const Ie of U){Ie.providers&&!Ie._injector&&(Ie._injector=(0,c.MMx)(Ie.providers,E,`Route: ${Ie.path}`));const st=Ie._injector??E,_t=Ie._loadedInjector??st;Ie.loadChildren&&!Ie._loadedRoutes&&void 0===Ie.canLoad||Ie.loadComponent&&!Ie._loadedComponent?Z.push(this.preloadConfig(st,Ie)):(Ie.children||Ie._loadedRoutes)&&Z.push(this.processRoutes(_t,Ie.children??Ie._loadedRoutes))}return(0,y.D)(Z).pipe((0,pt.J)())}preloadConfig(E,U){return this.preloadingStrategy.preload(U,()=>{let Z;Z=U.loadChildren&&void 0===U.canLoad?this.loader.loadChildren(E,U):(0,b.of)(null);const Ie=Z.pipe((0,se.z)(st=>null===st?(0,b.of)(void 0):(U._loadedRoutes=st.routes,U._loadedInjector=st.injector,this.processRoutes(st.injector??E,st.routes))));if(U.loadComponent&&!U._loadedComponent){const st=this.loader.loadComponent(U);return(0,y.D)([Ie,st]).pipe((0,pt.J)())}return Ie})}}return M.\u0275fac=function(E){return new(E||M)(c.LFG(ls),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(ci),c.LFG(fi))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const ai=new c.OlP("");let $o=(()=>{class M{constructor(E,U,Z={}){this.router=E,this.viewportScroller=U,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof wi&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ot&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,U){this.router.triggerEvent(new Ot(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(E){c.$Z()},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac}),M})();function Sn(M,A){return{\u0275kind:M,\u0275providers:A}}function zo(M){return[{provide:Un,multi:!0,useValue:M}]}function Us(){const M=(0,c.f3M)(c.zs3);return A=>{const E=M.get(c.z2F);if(A!==E.components[0])return;const U=M.get(ls),Z=M.get(Hs);1===M.get(va)&&U.initialNavigation(),M.get(Bc,null,c.XFs.Optional)?.setUpPreloading(),M.get(ai,null,c.XFs.Optional)?.init(),U.resetRootComponentType(E.componentTypes[0]),Z.next(),Z.complete()}}const Hs=new c.OlP("",{factory:()=>new Ee.x}),va=new c.OlP("",{providedIn:"root",factory:()=>1});const Bc=new c.OlP("");function eo(M){return Sn(0,[{provide:Bc,useExisting:er},{provide:ci,useExisting:M}])}const Os=new c.OlP("ROUTER_FORROOT_GUARD"),Uc=[be.Ye,{provide:ce,useClass:lt},{provide:ls,useFactory:_a},Rs,{provide:Zr,useFactory:function lr(M){return M.routerState.root},deps:[ls]},fi];function en(){return new c.PXZ("Router",ls)}let zr=(()=>{class M{constructor(E){}static forRoot(E,U){return{ngModule:M,providers:[Uc,[],zo(E),{provide:Os,useFactory:ba,deps:[[ls,new c.FiY,new c.tp0]]},{provide:ir,useValue:U||{}},U?.useHash?{provide:be.S$,useClass:be.Do}:{provide:be.S$,useClass:be.b0},{provide:ai,useFactory:()=>{const M=(0,c.f3M)(ls),A=(0,c.f3M)(be.EM),E=(0,c.f3M)(ir);return E.scrollOffset&&A.setOffset(E.scrollOffset),new $o(M,A,E)}},U?.preloadingStrategy?eo(U.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:en},U?.initialNavigation?xr(U):[],[{provide:cs,useFactory:Us},{provide:c.tb,multi:!0,useExisting:cs}]]}}static forChild(E){return{ngModule:M,providers:[zo(E)]}}}return M.\u0275fac=function(E){return new(E||M)(c.LFG(Os,8))},M.\u0275mod=c.oAB({type:M}),M.\u0275inj=c.cJS({imports:[Xi]}),M})();function ba(M){return"guarded"}function xr(M){return["disabled"===M.initialNavigation?Sn(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const A=(0,c.f3M)(ls);return()=>{A.setUpLocationChangeListener()}}},{provide:va,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?Sn(2,[{provide:va,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:A=>{const E=A.get(be.V_,Promise.resolve(null));let U=!1;return()=>E.then(()=>new Promise(Ie=>{const st=A.get(ls),_t=A.get(Hs);(function Z(Ie){A.get(ls).events.pipe((0,Ne.h)(_t=>_t instanceof wi||_t instanceof Ir||_t instanceof or),(0,dt.U)(_t=>_t instanceof wi||_t instanceof Ir&&(0===_t.code||1===_t.code)&&null),(0,Ne.h)(_t=>null!==_t),(0,Le.q)(1)).subscribe(()=>{Ie()})})(()=>{Ie(!0),U=!0}),st.afterPreactivation=()=>(Ie(!0),U||_t.closed?(0,b.of)(void 0):_t),st.initialNavigation()}))}}]).\u0275providers:[]]}const cs=new c.OlP("")},3942:(ln,ht,w)=>{w.d(ht,{Z:()=>Me});var c=w(2090),y=w(3475),b=w(9681),F=w(1877);class de{constructor(Se,Ee){this._delegate=Se,this.firebase=Ee,(0,b._addComponent)(Se,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(Se,Ee=b._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Se);return!dt.isInitialized()&&"EXPLICIT"===(null===(be=dt.getComponent())||void 0===be?void 0:be.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Ee})}_removeServiceInstance(Se,Ee=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Ee)}_addComponent(Se){(0,b._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,b._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ke=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function S(){const ze=function Re(ze){const Se={},Ee={__esModule:!0,initializeApp:function tt(se,oe={}){const Qe=b.initializeApp(se,oe);if((0,c.r3)(Se,Qe.name))return Se[Qe.name];const ae=new ze(Qe,Ee);return Se[Qe.name]=ae,ae},app:dt,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function xe(se){const oe=se.name,Qe=oe.replace("-compat","");if(b._registerComponent(se)&&"PUBLIC"===se.type){const ae=(ue=dt())=>{if("function"!=typeof ue[Qe])throw Ke.create("invalid-app-argument",{appName:oe});return ue[Qe]()};void 0!==se.serviceProps&&(0,c.ZB)(ae,se.serviceProps),Ee[Qe]=ae,ze.prototype[Qe]=function(...ue){return this._getService.bind(this,oe).apply(this,se.multipleInstances?ue:[])}}return"PUBLIC"===se.type?Ee[Qe]:null},removeApp:function be(se){delete Se[se]},useAsService:function Ne(se,oe){return"serverAuth"===oe?null:oe},modularAPIs:b}};function dt(se){if(!(0,c.r3)(Se,se=se||b._DEFAULT_ENTRY_NAME))throw Ke.create("no-app",{appName:se});return Se[se]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Le(){return Object.keys(Se).map(se=>Se[se])}}),dt.App=ze,Ee}(de);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:S,extendNamespace:function Se(Ee){(0,c.ZB)(ze,Ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ze}(),me=new F.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=ne;!function We(ze){(0,b.registerVersion)("@firebase/app-compat","0.1.34",ze)}()},9681:(ln,ht,w)=>{w.r(ht),w.d(ht,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Mt,_apps:()=>Et,_clearComponents:()=>rt,_components:()=>pt,_getProvider:()=>Ye,_registerComponent:()=>zt,_removeServiceInstance:()=>et,deleteApp:()=>En,getApp:()=>Fn,getApps:()=>Bn,initializeApp:()=>Pn,onLog:()=>ge,registerVersion:()=>ot,setLogLevel:()=>P});var c=w(5861),y=w(3475),b=w(1877),F=w(2090),de=w(8766);class Be{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function Ke(ee){return"VERSION"===ee.getComponent()?.type}(K)){const z=K.getImmediate();return`${z.library}/${z.version}`}return null}).filter(K=>K).join(" ")}}const Re="@firebase/app",S="0.7.33",ne=new b.Yd("@firebase/app"),Bt="[DEFAULT]",Te={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,pt=new Map;function Lt(ee,O){try{ee.container.addComponent(O)}catch(K){ne.debug(`Component ${O.name} failed to register with FirebaseApp ${ee.name}`,K)}}function Mt(ee,O){ee.container.addOrOverwriteComponent(O)}function zt(ee){const O=ee.name;if(pt.has(O))return ne.debug(`There were multiple attempts to register component ${O}.`),!1;pt.set(O,ee);for(const K of Et.values())Lt(K,ee);return!0}function Ye(ee,O){const K=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),ee.container.getProvider(O)}function et(ee,O,K=Bt){Ye(ee,O).clearInstance(K)}function rt(){pt.clear()}const Nt=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dn{constructor(O,K,z){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=z,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw Nt.create("app-deleted",{appName:this._name})}}const Mn="9.10.0";function Pn(ee,O={}){"object"!=typeof O&&(O={name:O});const K=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},O),z=K.name;if("string"!=typeof z||!z)throw Nt.create("bad-app-name",{appName:String(z)});const fe=Et.get(z);if(fe){if((0,F.vZ)(ee,fe.options)&&(0,F.vZ)(K,fe.config))return fe;throw Nt.create("duplicate-app",{appName:z})}const je=new y.H0(z);for(const cn of pt.values())je.addComponent(cn);const Ft=new dn(ee,K,je);return Et.set(z,Ft),Ft}function Fn(ee=Bt){const O=Et.get(ee);if(!O)throw Nt.create("no-app",{appName:ee});return O}function Bn(){return Array.from(Et.values())}function En(ee){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(ee){const O=ee.name;Et.has(O)&&(Et.delete(O),yield Promise.all(ee.container.getProviders().map(K=>K.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function ot(ee,O,K){var z;let fe=null!==(z=Te[ee])&&void 0!==z?z:ee;K&&(fe+=`-${K}`);const je=fe.match(/\s|\//),Ft=O.match(/\s|\//);if(je||Ft){const cn=[`Unable to register library "${fe}" with version "${O}":`];return je&&cn.push(`library name "${fe}" contains illegal characters (whitespace or "/")`),je&&Ft&&cn.push("and"),Ft&&cn.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void ne.warn(cn.join(" "))}zt(new y.wA(`${fe}-version`,()=>({library:fe,version:O}),"VERSION"))}function ge(ee,O){if(null!==ee&&"function"!=typeof ee)throw Nt.create("invalid-log-argument");(0,b.Am)(ee,O)}function P(ee){(0,b.Ub)(ee)}const mt="firebase-heartbeat-store";let Ge=null;function Pe(){return Ge||(Ge=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(ee,O)=>{0===O&&ee.createObjectStore(mt)}}).catch(ee=>{throw Nt.create("idb-open",{originalErrorMessage:ee.message})})),Ge}function xt(){return(xt=(0,c.Z)(function*(ee){var O;try{return(yield Pe()).transaction(mt).objectStore(mt).get(gn(ee))}catch(K){if(K instanceof F.ZR)ne.warn(K.message);else{const z=Nt.create("idb-get",{originalErrorMessage:null===(O=K)||void 0===O?void 0:O.message});ne.warn(z.message)}}})).apply(this,arguments)}function St(ee,O){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(ee,O){var K;try{const fe=(yield Pe()).transaction(mt,"readwrite");return yield fe.objectStore(mt).put(O,gn(ee)),fe.done}catch(z){if(z instanceof F.ZR)ne.warn(z.message);else{const fe=Nt.create("idb-set",{originalErrorMessage:null===(K=z)||void 0===K?void 0:K.message});ne.warn(fe.message)}}})).apply(this,arguments)}function gn(ee){return`${ee.name}!${ee.options.appId}`}class Vt{constructor(O){this.container=O,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new gt(K),this._heartbeatsCachePromise=this._storage.read().then(z=>(this._heartbeatsCache=z,z))}triggerHeartbeat(){var O=this;return(0,c.Z)(function*(){const z=O.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fe=ce();if(null===O._heartbeatsCache&&(O._heartbeatsCache=yield O._heartbeatsCachePromise),O._heartbeatsCache.lastSentHeartbeatDate!==fe&&!O._heartbeatsCache.heartbeats.some(je=>je.date===fe))return O._heartbeatsCache.heartbeats.push({date:fe,agent:z}),O._heartbeatsCache.heartbeats=O._heartbeatsCache.heartbeats.filter(je=>{const Ft=new Date(je.date).valueOf();return Date.now()-Ft<=2592e6}),O._storage.overwrite(O._heartbeatsCache)})()}getHeartbeatsHeader(){var O=this;return(0,c.Z)(function*(){if(null===O._heartbeatsCache&&(yield O._heartbeatsCachePromise),null===O._heartbeatsCache||0===O._heartbeatsCache.heartbeats.length)return"";const K=ce(),{heartbeatsToSend:z,unsentEntries:fe}=function lt(ee,O=1024){const K=[];let z=ee.slice();for(const fe of ee){const je=K.find(Ft=>Ft.agent===fe.agent);if(je){if(je.dates.push(fe.date),te(K)>O){je.dates.pop();break}}else if(K.push({agent:fe.agent,dates:[fe.date]}),te(K)>O){K.pop();break}z=z.slice(1)}return{heartbeatsToSend:K,unsentEntries:z}}(O._heartbeatsCache.heartbeats),je=(0,F.L)(JSON.stringify({version:2,heartbeats:z}));return O._heartbeatsCache.lastSentHeartbeatDate=K,fe.length>0?(O._heartbeatsCache.heartbeats=fe,yield O._storage.overwrite(O._heartbeatsCache)):(O._heartbeatsCache.heartbeats=[],O._storage.overwrite(O._heartbeatsCache)),je})()}}function ce(){return(new Date).toISOString().substring(0,10)}class gt{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,F.hl)()&&(0,F.eu)().then(()=>!0).catch(()=>!1)})()}read(){var O=this;return(0,c.Z)(function*(){return(yield O._canUseIndexedDBPromise)&&(yield function Fe(ee){return xt.apply(this,arguments)}(O.app))||{heartbeats:[]}})()}overwrite(O){var K=this;return(0,c.Z)(function*(){var z;if(yield K._canUseIndexedDBPromise){const je=yield K.read();return St(K.app,{lastSentHeartbeatDate:null!==(z=O.lastSentHeartbeatDate)&&void 0!==z?z:je.lastSentHeartbeatDate,heartbeats:O.heartbeats})}})()}add(O){var K=this;return(0,c.Z)(function*(){var z;if(yield K._canUseIndexedDBPromise){const je=yield K.read();return St(K.app,{lastSentHeartbeatDate:null!==(z=O.lastSentHeartbeatDate)&&void 0!==z?z:je.lastSentHeartbeatDate,heartbeats:[...je.heartbeats,...O.heartbeats]})}})()}}function te(ee){return(0,F.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function J(ee){zt(new y.wA("platform-logger",O=>new Be(O),"PRIVATE")),zt(new y.wA("heartbeat",O=>new Vt(O),"PRIVATE")),ot(Re,S,ee),ot(Re,S,"esm2017"),ot("fire-js","")}("")},3475:(ln,ht,w)=>{w.d(ht,{H0:()=>Re,wA:()=>b,zt:()=>de});var c=w(5861),y=w(2090);class b{constructor(ne,me,he){this.name=ne,this.instanceFactory=me,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const F="[DEFAULT]";class de{constructor(ne,me){this.name=ne,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const me=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(me)){const he=new y.BH;if(this.instancesDeferred.set(me,he),this.isInitialized(me)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:me});He&&he.resolve(He)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ne){var me;const he=this.normalizeInstanceIdentifier(ne?.identifier),He=null!==(me=ne?.optional)&&void 0!==me&&me;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(We){if(He)return null;throw We}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ke(S){return"EAGER"===S.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[me,he]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(me);try{const We=this.getOrInitializeService({instanceIdentifier:He});he.resolve(We)}catch{}}}}clearInstance(ne=F){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,c.Z)(function*(){const me=Array.from(ne.instances.values());yield Promise.all([...me.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...me.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=F){return this.instances.has(ne)}getOptions(ne=F){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:me={}}=ne,he=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:he,options:me});for(const[We,Me]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(We)&&Me.resolve(He);return He}onInit(ne,me){var he;const He=this.normalizeInstanceIdentifier(me),We=null!==(he=this.onInitCallbacks.get(He))&&void 0!==he?he:new Set;We.add(ne),this.onInitCallbacks.set(He,We);const Me=this.instances.get(He);return Me&&ne(Me,He),()=>{We.delete(ne)}}invokeOnInitCallbacks(ne,me){const he=this.onInitCallbacks.get(me);if(he)for(const He of he)try{He(ne,me)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:me={}}){let he=this.instances.get(ne);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(S=ne,S===F?void 0:S),options:me}),this.instances.set(ne,he),this.instancesOptions.set(ne,me),this.invokeOnInitCallbacks(he,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,he)}catch{}var S;return he||null}normalizeInstanceIdentifier(ne=F){return this.component?this.component.multipleInstances?ne:F:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const me=this.getProvider(ne.name);if(me.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);me.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const me=new de(ne,this);return this.providers.set(ne,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,ht,w)=>{w.d(ht,{Am:()=>S,Ub:()=>Re,Yd:()=>Ke,in:()=>y});const c=[];var y=(()=>{return(ne=y||(y={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",y;var ne})();const b={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},F=y.INFO,de={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Be=(ne,me,...he)=>{if(me<ne.logLevel)return;const He=(new Date).toISOString(),We=de[me];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[We](`[${He}]  ${ne.name}:`,...he)};class Ke{constructor(me){this.name=me,this._logLevel=F,this._logHandler=Be,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in y))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?b[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...me),this._logHandler(this,y.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...me),this._logHandler(this,y.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,y.INFO,...me),this._logHandler(this,y.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,y.WARN,...me),this._logHandler(this,y.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...me),this._logHandler(this,y.ERROR,...me)}}function Re(ne){c.forEach(me=>{me.setLogLevel(ne)})}function S(ne,me){for(const he of c){let He=null;me&&me.level&&(He=b[me.level]),he.userLogHandler=null===ne?null:(We,Me,...ze)=>{const Se=ze.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Me>=(He??We.logLevel)&&ne({level:y[Me].toLowerCase(),message:Se,args:ze,type:We.name})}}}},8766:(ln,ht,w)=>{w.d(ht,{Lj:()=>tt,X3:()=>dt});var c=w(5861);let b,F;const Ke=new WeakMap,Re=new WeakMap,S=new WeakMap,ne=new WeakMap,me=new WeakMap;let We={get(oe,Qe,ae){if(oe instanceof IDBTransaction){if("done"===Qe)return Re.get(oe);if("objectStoreNames"===Qe)return oe.objectStoreNames||S.get(oe);if("store"===Qe)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Ee(oe[Qe])},set:(oe,Qe,ae)=>(oe[Qe]=ae,!0),has:(oe,Qe)=>oe instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in oe};function Se(oe){return"function"==typeof oe?function ze(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...Qe){return oe.apply(be(this),Qe),Ee(Ke.get(this))}:function(...Qe){return Ee(oe.apply(be(this),Qe))}:function(Qe,...ae){const ue=oe.call(be(this),Qe,...ae);return S.set(ue,Qe.sort?Qe.sort():[Qe]),Ee(ue)}}(oe):(oe instanceof IDBTransaction&&function He(oe){if(Re.has(oe))return;const Qe=new Promise((ae,ue)=>{const Ce=()=>{oe.removeEventListener("complete",Je),oe.removeEventListener("error",Ht),oe.removeEventListener("abort",Ht)},Je=()=>{ae(),Ce()},Ht=()=>{ue(oe.error||new DOMException("AbortError","AbortError")),Ce()};oe.addEventListener("complete",Je),oe.addEventListener("error",Ht),oe.addEventListener("abort",Ht)});Re.set(oe,Qe)}(oe),((oe,Qe)=>Qe.some(ae=>oe instanceof ae))(oe,function de(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,We):oe)}function Ee(oe){if(oe instanceof IDBRequest)return function he(oe){const Qe=new Promise((ae,ue)=>{const Ce=()=>{oe.removeEventListener("success",Je),oe.removeEventListener("error",Ht)},Je=()=>{ae(Ee(oe.result)),Ce()},Ht=()=>{ue(oe.error),Ce()};oe.addEventListener("success",Je),oe.addEventListener("error",Ht)});return Qe.then(ae=>{ae instanceof IDBCursor&&Ke.set(ae,oe)}).catch(()=>{}),me.set(Qe,oe),Qe}(oe);if(ne.has(oe))return ne.get(oe);const Qe=Se(oe);return Qe!==oe&&(ne.set(oe,Qe),me.set(Qe,oe)),Qe}const be=oe=>me.get(oe);function dt(oe,Qe,{blocked:ae,upgrade:ue,blocking:Ce,terminated:Je}={}){const Ht=indexedDB.open(oe,Qe),jt=Ee(Ht);return ue&&Ht.addEventListener("upgradeneeded",sn=>{ue(Ee(Ht.result),sn.oldVersion,sn.newVersion,Ee(Ht.transaction))}),ae&&Ht.addEventListener("blocked",()=>ae()),jt.then(sn=>{Je&&sn.addEventListener("close",()=>Je()),Ce&&sn.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),jt}function tt(oe,{blocked:Qe}={}){const ae=indexedDB.deleteDatabase(oe);return Qe&&ae.addEventListener("blocked",()=>Qe()),Ee(ae).then(()=>{})}const Le=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Ne=new Map;function se(oe,Qe){if(!(oe instanceof IDBDatabase)||Qe in oe||"string"!=typeof Qe)return;if(Ne.get(Qe))return Ne.get(Qe);const ae=Qe.replace(/FromIndex$/,""),ue=Qe!==ae,Ce=xe.includes(ae);if(!(ae in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Le.includes(ae))return;const Je=function(){var Ht=(0,c.Z)(function*(jt,...sn){const on=this.transaction(jt,Ce?"readwrite":"readonly");let Bt=on.store;return ue&&(Bt=Bt.index(sn.shift())),(yield Promise.all([Bt[ae](...sn),Ce&&on.done]))[0]});return function(sn){return Ht.apply(this,arguments)}}();return Ne.set(Qe,Je),Je}!function Me(oe){We=oe(We)}(oe=>({...oe,get:(Qe,ae,ue)=>se(Qe,ae)||oe.get(Qe,ae,ue),has:(Qe,ae)=>!!se(Qe,ae)||oe.has(Qe,ae)}))},5861:(ln,ht,w)=>{function c(b,F,de,Be,Ke,Re,S){try{var ne=b[Re](S),me=ne.value}catch(he){return void de(he)}ne.done?F(me):Promise.resolve(me).then(Be,Ke)}function y(b){return function(){var F=this,de=arguments;return new Promise(function(Be,Ke){var Re=b.apply(F,de);function S(me){c(Re,Be,Ke,S,ne,"next",me)}function ne(me){c(Re,Be,Ke,S,ne,"throw",me)}S(void 0)})}}w.d(ht,{Z:()=>y})}},ln=>{ln(ln.s=2557)}]);